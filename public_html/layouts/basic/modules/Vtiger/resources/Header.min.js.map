{"version":3,"file":"Header.min.js","sources":["Header.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n//Show Alert if user is on a unsupported browser (IE7, IE8, ..etc)\nif (\n\t/MSIE 6.0/.test(navigator.userAgent) ||\n\t/MSIE 7.0/.test(navigator.userAgent) ||\n\t/MSIE 8.0/.test(navigator.userAgent) ||\n\t/MSIE 9.0/.test(navigator.userAgent)\n) {\n\tif (app.getCookie('oldbrowser') != 'true') {\n\t\tapp.setCookie('oldbrowser', true, 365);\n\t\twindow.location.href = 'layouts/basic/modules/Vtiger/browsercompatibility/Browser_compatibility.html';\n\t}\n}\n\n$.Class(\n\t'Vtiger_Header_Js',\n\t{\n\t\tself: false,\n\t\tgetInstance: function() {\n\t\t\tif (this.self != false) {\n\t\t\t\treturn this.self;\n\t\t\t}\n\t\t\tthis.self = new Vtiger_Header_Js();\n\t\t\treturn this.self;\n\t\t}\n\t},\n\t{\n\t\tmenuContainer: false,\n\t\tcontentContainer: false,\n\t\tinit: function() {\n\t\t\tthis.setContentsContainer('.js-base-container');\n\t\t},\n\t\tsetContentsContainer: function(element) {\n\t\t\tif (element instanceof $) {\n\t\t\t\tthis.contentContainer = element;\n\t\t\t} else {\n\t\t\t\tthis.contentContainer = $(element);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetContentsContainer: function() {\n\t\t\treturn this.contentContainer;\n\t\t},\n\t\tregisterQuickCreateSearch() {\n\t\t\t$('.js-quickcreate-search').on('keyup', function() {\n\t\t\t\tlet value = $(this)\n\t\t\t\t\t.val()\n\t\t\t\t\t.toLowerCase();\n\t\t\t\t$('.quickCreateModules .js-quickcreate-search-item a').filter(function() {\n\t\t\t\t\tlet item = $(this).closest('.js-quickcreate-search-item');\n\t\t\t\t\tif (\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.text()\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.indexOf(value) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\titem.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-quickcreate-search-block').hide();\n\t\t\t\t$('.js-quickcreate-search-item')\n\t\t\t\t\t.not('.d-none')\n\t\t\t\t\t.each(function() {\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.closest('.js-quickcreate-search-block')\n\t\t\t\t\t\t\t.show();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tshowAnnouncement: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar announcementContainer = $('#announcements');\n\t\t\tvar announcements = announcementContainer.find('.announcement');\n\t\t\tif (announcements.length > 0) {\n\t\t\t\tvar announcement = announcements.first();\n\t\t\t\tvar aid = announcement.data('id');\n\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tannouncement.find('.modal'),\n\t\t\t\t\tfunction(modal) {\n\t\t\t\t\t\tannouncement.remove();\n\t\t\t\t\t\tmodal.find('button').on('click', function(e) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'Announcements',\n\t\t\t\t\t\t\t\taction: 'BasicAjax',\n\t\t\t\t\t\t\t\tmode: 'mark',\n\t\t\t\t\t\t\t\trecord: aid,\n\t\t\t\t\t\t\t\ttype: $(this).data('type')\n\t\t\t\t\t\t\t}).done(function(res) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tthisInstance.showAnnouncement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t'',\n\t\t\t\t\t{ backdrop: 'static', keyboard: false }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tregisterAnnouncements: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar announcementContainer = $('#announcements');\n\t\t\tif (announcementContainer.length == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.showAnnouncement();\n\t\t},\n\t\tregisterCalendarButtonClickEvent: function() {\n\t\t\tvar element = $('#calendarBtn');\n\t\t\tvar dateFormat = element.data('dateFormat');\n\t\t\tvar currentDate = element.data('date');\n\t\t\tvar vtigerDateFormat = app.convertToDatePickerFormat(dateFormat);\n\t\t\telement.on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\telement\n\t\t\t\t\t.closest('div.nav')\n\t\t\t\t\t.find('div.open')\n\t\t\t\t\t.removeClass('open');\n\t\t\t\tvar calendar = $('#' + element.data('datepickerId'));\n\t\t\t\tif ($(calendar).is(':visible')) {\n\t\t\t\t\telement.DatePickerHide();\n\t\t\t\t} else {\n\t\t\t\t\telement.DatePickerShow();\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.DatePicker({\n\t\t\t\tformat: vtigerDateFormat,\n\t\t\t\tdate: currentDate,\n\t\t\t\tcalendars: 1,\n\t\t\t\tstarts: 1,\n\t\t\t\tclassName: 'globalCalendar'\n\t\t\t});\n\t\t},\n\t\tisFreeDay: function(dayOfWeek) {\n\t\t\tif (dayOfWeek == 0 || dayOfWeek == 6) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tbasicSearch: function() {\n\t\t\tvar thisInstance = this;\n\t\t\t$('.js-global-search__value').on('keypress', function(e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tif (e.which == 13) {\n\t\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\t\tthisInstance.labelSearch(currentTarget);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-global-search-operator').on('click', function(e) {\n\t\t\t\tvar currentTarget = $(e.target);\n\t\t\t\tvar block = currentTarget.closest('.js-global-search__input');\n\t\t\t\tblock.find('.js-global-search__value').data('operator', currentTarget.data('operator'));\n\t\t\t\tblock.find('.js-global-search-operator .dropdown-item').removeClass('active');\n\t\t\t\tcurrentTarget.closest('.dropdown-item').addClass('active');\n\t\t\t});\n\t\t\tif ($('#gsAutocomplete').val() == 1) {\n\t\t\t\t$.widget('custom.gsAutocomplete', $.ui.autocomplete, {\n\t\t\t\t\t_create: function() {\n\t\t\t\t\t\tthis._super();\n\t\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t\t},\n\t\t\t\t\t_renderMenu: function(ul, items) {\n\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t\t$.each(items, function(index, item) {\n\t\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t_renderItemData: function(ul, item) {\n\t\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t\t},\n\t\t\t\t\t_renderItem: function(ul, item) {\n\t\t\t\t\t\tvar url = 'index.php?module=' + item.module + '&view=Detail&record=' + item.id;\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.data('item.autocomplete', item)\n\t\t\t\t\t\t\t.append($(\"<a href='\" + url + \"' title='\" + item.label + \"'></a>\").html(item.label))\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-global-search__value').gsAutocomplete({\n\t\t\t\t\tminLength: app.getMainParams('gsMinLength'),\n\t\t\t\t\tsource: function(request, response) {\n\t\t\t\t\t\tvar basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\t\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\t\t\t\tbasicSearch.returnHtml = false;\n\t\t\t\t\t\tbasicSearch.setMainContainer(this.element.closest('.js-global-search__input'));\n\t\t\t\t\t\tbasicSearch.search(request.term).done(function(data) {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\tvar serverDataFormat = data.result;\n\t\t\t\t\t\t\tvar reponseDataList = [];\n\t\t\t\t\t\t\tfor (var id in serverDataFormat) {\n\t\t\t\t\t\t\t\tvar responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tclasses: {\n\t\t\t\t\t\t'ui-autocomplete':\n\t\t\t\t\t\t\t'u-overflow-y-auto u-overflow-x-hidden u-max-h-70vh u-max-w-sm-70 u-max-w-lg-40'\n\t\t\t\t\t},\n\t\t\t\t\tselect: function(event, ui) {\n\t\t\t\t\t\tvar selectedItemData = ui.item;\n\t\t\t\t\t\tif (selectedItemData.permitted) {\n\t\t\t\t\t\t\tvar url =\n\t\t\t\t\t\t\t\t'index.php?module=' +\n\t\t\t\t\t\t\t\tselectedItemData.module +\n\t\t\t\t\t\t\t\t'&view=Detail&record=' +\n\t\t\t\t\t\t\t\tselectedItemData.id;\n\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tclose: function(event, ui) {\n\t\t\t\t\t\t//$('.js-global-search__value').val('');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tlabelSearch: function(currentTarget) {\n\t\t\tvar val = currentTarget.val();\n\t\t\tif (val == '') {\n\t\t\t\tapp.showAlert(app.vtranslate('JS_PLEASE_ENTER_SOME_VALUE'));\n\t\t\t\tcurrentTarget.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.setMainContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\tbasicSearch.search(val).done(function(data) {\n\t\t\t\tbasicSearch.showSearchResults(data);\n\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHotKeys: function() {\n\t\t\t$('.hotKey').each(function(index) {\n\t\t\t\tvar thisObject = this;\n\t\t\t\tvar key = $(thisObject).data('hotkeys');\n\t\t\t\tif (key != '') {\n\t\t\t\t\tMousetrap.bind(key, function() {\n\t\t\t\t\t\tthisObject.click();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.createRecord\n\t\t *\n\t\t * @param   {string}  moduleName\n\t\t * @param   {object}  params\n\t\t */\n\t\tquickCreateModule: function(moduleName, params = {}) {\n\t\t\tApp.Components.QuickCreate.createRecord(moduleName, params);\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.getForm\n\t\t *\n\t\t * @param   {string}  url\n\t\t * @param   {string}  moduleName\n\t\t * @param   {object}  params\n\t\t *\n\t\t * @return  {function} which return aDeferred\n\t\t */\n\t\tgetQuickCreateForm: function(url, moduleName, params = {}) {\n\t\t\treturn App.Components.QuickCreate.getForm(url, moduleName, params);\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.showModal\n\t\t *\n\t\t * @param   {string}  html\n\t\t * @param   {object}  params\n\t\t */\n\t\thandleQuickCreateData: function(html, params = {}) {\n\t\t\tApp.Components.QuickCreate.showModal(html, params);\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.registerPostLoadEvents\n\t\t *\n\t\t * @param   {object}  form jQuery\n\t\t * @param   {object}  params\n\t\t *\n\t\t * @return  {function} which return boolean\n\t\t */\n\t\tregisterQuickCreatePostLoadEvents: function(form, params) {\n\t\t\tApp.Components.QuickCreate.registerPostLoadEvents(form, params);\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.registerHelpInfo\n\t\t *\n\t\t * @param   {object}  container jQuery\n\t\t */\n\t\tregisterHelpInfo: function(container = $('form[name=\"QuickCreate\"]')) {\n\t\t\tApp.Components.QuickCreate.registerHelpInfo(container);\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.goToFullForm\n\t\t *\n\t\t * @param   {object}  form  jQuery\n\t\t */\n\t\tquickCreateGoToFullForm: function(form, editViewUrl) {\n\t\t\tApp.Components.QuickCreate.goToFullForm(form, editViewUrl);\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.registerTabEvents\n\t\t *\n\t\t * @param   {object}  form  jQuery\n\t\t */\n\t\tregisterTabEventsInQuickCreate: function(form) {\n\t\t\tApp.Components.QuickCreate.registerTabEvents(form);\n\t\t},\n\t\t/**\n\t\t * Invoke App.Components.QuickCreate.quickCreateSave\n\t\t *\n\t\t * @param   {object}  form  jQuery\n\t\t *\n\t\t * @return  {function}        which return aDeferred\n\t\t */\n\t\tquickCreateSave: function(form) {\n\t\t\treturn App.Components.QuickCreate.save(form);\n\t\t},\n\t\tregisterReminderNotice: function() {\n\t\t\tvar self = this;\n\t\t\t$('#page').before(\n\t\t\t\t`<div class=\"remindersNoticeContainer\" tabindex=\"-1\" role=\"dialog\" aria-label=\"${app.vtranslate(\n\t\t\t\t\t'JS_REMINDER'\n\t\t\t\t)}\" aria-hidden=\"true\"></div>`\n\t\t\t);\n\t\t\tvar block = $('.remindersNoticeContainer');\n\t\t\tvar remindersNotice = $('.remindersNotice');\n\t\t\tremindersNotice.on('click', function() {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.requestReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotification: function() {\n\t\t\tvar self = this;\n\t\t\t$('#page').before('<div class=\"remindersNotificationContainer\" tabindex=\"-1\" role=\"dialog\"></div>');\n\t\t\tvar block = $('.remindersNotificationContainer');\n\t\t\tvar remindersNotice = $('.notificationsNotice');\n\t\t\tremindersNotice.on('click', function() {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.getNotificationsForReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\ttoggleBreadcrumbActions(container) {\n\t\t\tlet actionsContainer = container.find('.js-header-toggle__actions');\n\t\t\tif (!actionsContainer.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet actionBtn = container.find('.js-header-toggle__actions-btn');\n\t\t\tif (!actionsContainer.closest('.js-btn-toolbar').length) {\n\t\t\t\tconst actionBtnMargin = 5;\n\t\t\t\tconst cssActionsTop = { top: actionBtn.offset().top + actionBtn.outerHeight() + actionBtnMargin };\n\t\t\t\tactionsContainer.css(cssActionsTop);\n\t\t\t}\n\t\t\tactionBtn.on('click', () => {\n\t\t\t\tactionsContainer.toggleClass('is-active');\n\t\t\t});\n\t\t},\n\t\tregisterMobileEvents: function() {\n\t\t\tconst self = this,\n\t\t\t\tcontainer = this.getContentsContainer();\n\t\t\t$('.rightHeaderBtnMenu').on('click', function() {\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.mobileLeftPanel ').toggleClass('mobileMenuOn');\n\t\t\t});\n\t\t\t$('.js-quick-action-btn').on('click', function() {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.actionMenu').toggleClass('actionMenuOn');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'false');\n\t\t\t\t\tcurrentTarget.popover();\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'true');\n\t\t\t\t\tcurrentTarget.popover('disable');\n\t\t\t\t}\n\t\t\t\t$('.quickCreateModules').on('click', function() {\n\t\t\t\t\tself.hideActionMenu();\n\t\t\t\t});\n\t\t\t});\n\t\t\t$('.searchMenuBtn').on('click', function() {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.searchMenu').toggleClass('toogleSearchMenu');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'false');\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'true');\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-header__btn--mail .dropdown').on('show.bs.dropdown', function() {\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t\tthis.toggleBreadcrumbActions(container);\n\t\t},\n\t\thideMobileMenu: function() {\n\t\t\t$('.mobileLeftPanel ').removeClass('mobileMenuOn');\n\t\t},\n\t\thideSearchMenu: function() {\n\t\t\t$('.searchMenu').removeClass('toogleSearchMenu');\n\t\t},\n\t\thideActionMenu: function() {\n\t\t\t$('.actionMenu').removeClass('actionMenuOn');\n\t\t},\n\t\thideBreadcrumbActionMenu: function() {\n\t\t\t$('.js-header-toggle__actions').removeClass('is-active');\n\t\t},\n\t\thideReminderNotice: function() {\n\t\t\t$('.remindersNoticeContainer').removeClass('toggled');\n\t\t},\n\t\thideReminderNotification: function() {\n\t\t\t$('.remindersNotificationContainer').removeClass('toggled');\n\t\t},\n\t\tregisterFooTable: function() {\n\t\t\tvar container = $('.tableRWD');\n\t\t\tcontainer.find('thead tr th:gt(1)').attr('data-hide', 'phone');\n\t\t\tcontainer.find('thead tr th:gt(3)').attr('data-hide', 'tablet,phone');\n\t\t\tcontainer.find('thead tr th:last').attr('data-hide', '');\n\t\t\tvar whichColumnEnable = container.find('thead').attr('col-visible-alltime');\n\t\t\tcontainer.find('thead tr th:eq(' + whichColumnEnable + ')').attr('data-hide', '');\n\t\t\t$('.tableRWD, .customTableRWD').footable({\n\t\t\t\tbreakpoints: {\n\t\t\t\t\tphone: 768,\n\t\t\t\t\ttablet: 1024\n\t\t\t\t},\n\t\t\t\taddRowToggle: true,\n\t\t\t\ttoggleSelector: ' > tbody > tr:not(.footable-row-detail)'\n\t\t\t});\n\t\t\t$('.footable-toggle').on('click', function(event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t$(this).trigger('footable_toggle_row');\n\t\t\t});\n\t\t\tvar records = $('.customTableRWD').find('[data-toggle-visible=false]');\n\t\t\trecords.find('.footable-toggle').css('display', 'none');\n\t\t},\n\t\tregisterSiteBarButton(container) {\n\t\t\tconst key = 'ShowHideRightPanel' + app.getModuleName();\n\t\t\tif (app.cacheGet(key) == 'show') {\n\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t} else if (app.cacheGet(key) == null) {\n\t\t\t\tif (container.find('.siteBarRight').data('showpanel') == 1) {\n\t\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontainer.find('.toggleSiteBarRightButton').on('click', e => {\n\t\t\t\tlet toogleButton = $(e.currentTarget);\n\t\t\t\tif (toogleButton.closest('.siteBarRight').hasClass('hideSiteBar')) {\n\t\t\t\t\tapp.cacheSet(key, 'show');\n\t\t\t\t} else {\n\t\t\t\t\tapp.cacheSet(key, 'hide');\n\t\t\t\t}\n\t\t\t\tthis.toggleSiteBar(toogleButton);\n\t\t\t});\n\t\t},\n\t\ttoggleSiteBar(toogleButton) {\n\t\t\t$('.rowContent').toggleClass('js-sitebar--active');\n\t\t\ttoogleButton.closest('.siteBarRight').toggleClass('hideSiteBar');\n\t\t\ttoogleButton.find('.fas').toggleClass('fa-chevron-right fa-chevron-left');\n\t\t\ttoogleButton.toggleClass('hideToggleSiteBarRightButton');\n\t\t},\n\t\tregisterToggleButton: function() {\n\t\t\t$('.buttonTextHolder .dropdown-menu a').on('click', function() {\n\t\t\t\t$(this)\n\t\t\t\t\t.parents('.d-inline-block')\n\t\t\t\t\t.find('.dropdown-toggle .textHolder')\n\t\t\t\t\t.html($(this).text());\n\t\t\t});\n\t\t},\n\t\tlistenTextAreaChange: function() {\n\t\t\tvar thisInstance = this;\n\t\t\t$('textarea').on('keyup', function() {\n\t\t\t\tvar elem = $(this);\n\t\t\t\tif (!elem.data('has-scroll')) {\n\t\t\t\t\telem.data('has-scroll', true);\n\t\t\t\t\telem.on('scroll keyup', function() {\n\t\t\t\t\t\tthisInstance.resizeTextArea($(this));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.resizeTextArea($(this));\n\t\t\t});\n\t\t},\n\t\tresizeTextArea: function(elem) {\n\t\t\telem.height(1);\n\t\t\telem.scrollTop(0);\n\t\t\telem.height(elem[0].scrollHeight - elem[0].clientHeight + elem.height());\n\t\t},\n\t\tregisterKnowledgeBaseModal() {\n\t\t\t$('.js-knowledge-base-modal').on('click', () => {\n\t\t\t\tif (window.KnowledgeBaseModalVueComponent.mounted === undefined) {\n\t\t\t\t\twindow.KnowledgeBaseModalVueComponent.mount({\n\t\t\t\t\t\tel: '#KnowledgeBaseModal',\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tmoduleName: 'KnowledgeBase',\n\t\t\t\t\t\t\tdialog: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tKnowledgeBaseModalVueComponent.mounted = true;\n\t\t\t\t} else {\n\t\t\t\t\tvuexStore.commit('KnowledgeBase/setDialog', true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window === window.parent && window.ChatModalVueComponent !== undefined) {\n\t\t\t\twindow.ChatModalVueComponent.mount({\n\t\t\t\t\tel: '#ChatModalVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tconst container = thisInstance.getContentsContainer(),\n\t\t\t\tmenuContainer = container.find('.js-menu--scroll'),\n\t\t\t\tquickCreateModal = container.find('.quickCreateModules');\n\t\t\tapp.showNewScrollbarLeft(menuContainer, { suppressScrollX: true });\n\t\t\tapp.showNewScrollbar(menuContainer.find('.subMenu').last(), { suppressScrollX: true });\n\t\t\tthisInstance.listenTextAreaChange();\n\t\t\tthisInstance.registerFooTable(); //Enable footable\n\t\t\t$('.js-clear-history').on('click', () => {\n\t\t\t\tapp.clearBrowsingHistory();\n\t\t\t});\n\t\t\t$('.globalSearch').on('click', function() {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\tvar advanceSearchInstance = new Vtiger_AdvanceSearch_Js();\n\t\t\t\tadvanceSearchInstance.setParentContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\t\tadvanceSearchInstance.initiateSearch();\n\t\t\t});\n\t\t\t$('.searchIcon').on('click', function(e) {\n\t\t\t\tvar currentTarget = $(this)\n\t\t\t\t\t.closest('.js-global-search__input')\n\t\t\t\t\t.find('.js-global-search__value');\n\t\t\t\tvar pressEvent = $.Event('keypress');\n\t\t\t\tpressEvent.which = 13;\n\t\t\t\tcurrentTarget.trigger(pressEvent);\n\t\t\t});\n\t\t\tthisInstance.registerAnnouncements();\n\t\t\tthisInstance.registerHotKeys();\n\t\t\tthisInstance.registerToggleButton();\n\t\t\tthisInstance.registerSiteBarButton($('#centerPanel'));\n\t\t\t//this.registerCalendarButtonClickEvent();\n\t\t\t//After selecting the global search module, focus the input element to type\n\t\t\t$('.basicSearchModulesList').on('change', function() {\n\t\t\t\tvar value = $(this)\n\t\t\t\t\t.closest('.js-global-search__input')\n\t\t\t\t\t.find('.js-global-search__value');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvalue.focus();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t\tthisInstance.basicSearch();\n\t\t\tquickCreateModal.on('click', '.quickCreateModule', function(e, params) {\n\t\t\t\tvar moduleName = $(e.currentTarget).data('name');\n\t\t\t\tquickCreateModal.modal('hide');\n\t\t\t\tthisInstance.quickCreateModule(moduleName);\n\t\t\t});\n\t\t\tthisInstance.registerReminderNotification();\n\t\t\tthisInstance.registerMobileEvents();\n\t\t\tthisInstance.registerReminderNotice();\n\t\t\tthisInstance.registerQuickCreateSearch();\n\t\t\tthisInstance.registerKnowledgeBaseModal();\n\t\t\tthisInstance.registerChat();\n\t\t}\n\t}\n);\n$(document).ready(function() {\n\twindow.addEventListener('popstate', event => {\n\t\tif (event.state) {\n\t\t\twindow.location.href = event.state;\n\t\t}\n\t});\n\tVtiger_Header_Js.getInstance().registerEvents();\n});\n"],"names":["test","navigator","userAgent","getCookie","app","setCookie","window","location","href","$","Class","self","getInstance","menuContainer","contentContainer","init","setContentsContainer","element","getContentsContainer","registerQuickCreateSearch","on","val","toLowerCase","filter","closest","text","indexOf","value","item","removeClass","addClass","hide","not","each","show","showAnnouncement","announcementContainer","announcements","find","length","first","aid","announcement","data","showModalWindow","modal","remove","AppConnector","request","module","action","mode","record","type","done","hideModalWindow","thisInstance","backdrop","keyboard","registerAnnouncements","registerCalendarButtonClickEvent","dateFormat","currentDate","vtigerDateFormat","convertToDatePickerFormat","e","stopImmediatePropagation","calendar","is","DatePickerHide","DatePickerShow","DatePicker","format","date","calendars","starts","className","isFreeDay","dayOfWeek","basicSearch","currentTarget","which","hideSearchMenu","labelSearch","target","block","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","currentCategory","index","category","append","that","_renderItemData","_renderItem","id","url","label","html","appendTo","gsAutocomplete","minLength","getMainParams","source","response","reduceNumberResults","returnHtml","setMainContainer","search","term","JSON","parse","result","reponseDataList","serverDataFormat","push","responseData","classes","select","event","selectedItemData","permitted","close","showAlert","vtranslate","focus","progressIndicator","position","blockInfo","enabled","showSearchResults","progress","registerHotKeys","key","thisObject","Mousetrap","bind","click","quickCreateModule","moduleName","App","Components","QuickCreate","createRecord","params","getQuickCreateForm","getForm","handleQuickCreateData","showModal","registerQuickCreatePostLoadEvents","form","registerPostLoadEvents","registerHelpInfo","container","quickCreateGoToFullForm","editViewUrl","goToFullForm","registerTabEventsInQuickCreate","registerTabEvents","quickCreateSave","save","registerReminderNotice","before","remindersNotice","hasClass","Vtiger_Index_Js","requestReminder","hideActionMenu","hideBreadcrumbActionMenu","toggleClass","hideReminderNotification","closeSidebar","registerReminderNotification","getNotificationsForReminder","hideReminderNotice","toggleBreadcrumbActions","actionsContainer","top","actionBtn","offset","outerHeight","css","cssActionsTop","registerMobileEvents","attr","popover","hideMobileMenu","registerFooTable","whichColumnEnable","footable","breakpoints","phone","tablet","addRowToggle","toggleSelector","stopPropagation","trigger","records","registerSiteBarButton","getModuleName","cacheGet","toggleSiteBar","toogleButton","cacheSet","registerToggleButton","parents","listenTextAreaChange","elem","resizeTextArea","height","scrollTop","scrollHeight","clientHeight","registerKnowledgeBaseModal","KnowledgeBaseModalVueComponent","mounted","mount","el","state","dialog","vuexStore","commit","registerChat","parent","ChatModalVueComponent","registerEvents","quickCreateModal","showNewScrollbarLeft","suppressScrollX","showNewScrollbar","last","clearBrowsingHistory","advanceSearchInstance","setParentContainer","initiateSearch","pressEvent","Event","setTimeout","document","ready","addEventListener","Vtiger_Header_Js"],"mappings":"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"}