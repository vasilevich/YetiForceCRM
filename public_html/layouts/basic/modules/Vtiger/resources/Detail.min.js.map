{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_Detail_Js',\n\t{\n\t\tdetailInstance: false,\n\t\tgetInstance: function() {\n\t\t\tif (Vtiger_Detail_Js.detailInstance == false) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_' + app.getViewName() + '_Js',\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new Vtiger_Detail_Js();\n\t\t\t\t}\n\t\t\t\tVtiger_Detail_Js.detailInstance = instance;\n\t\t\t}\n\t\t\treturn Vtiger_Detail_Js.detailInstance;\n\t\t},\n\t\t/*\n\t\t * function to trigger Detail view actions\n\t\t * @params: Action url , callback function.\n\t\t */\n\t\ttriggerDetailViewAction: function(detailActionUrl, callBackFunction) {\n\t\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tvar selectedIds = [];\n\t\t\tselectedIds.push(detailInstance.getRecordId());\n\t\t\tvar postData = {\n\t\t\t\tselected_ids: JSON.stringify(selectedIds)\n\t\t\t};\n\t\t\tvar actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: detailActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: postData\n\t\t\t};\n\n\t\t\tAppConnector.request(actionParams)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tapp.showModalWindow(data, { 'text-align': 'left' });\n\t\t\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {});\n\t\t},\n\t\t/*\n\t\t * function to trigger send Sms\n\t\t * @params: send sms url , module name.\n\t\t */\n\t\ttriggerSendSms: function(detailActionUrl, module) {\n\t\t\tVtiger_Detail_Js.triggerDetailViewAction(detailActionUrl);\n\t\t},\n\t\ttriggerTransferOwnership: function(massActionUrl) {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.getRelatedModulesContainer = false;\n\t\t\tvar actionParams = {\n\t\t\t\ttype: 'POST',\n\t\t\t\turl: massActionUrl,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: {}\n\t\t\t};\n\t\t\tAppConnector.request(actionParams).done(function(data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tvar callback = function(data) {\n\t\t\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\t\t\tparams.onValidationComplete = function(form, valid) {\n\t\t\t\t\t\t\tif (valid) {\n\t\t\t\t\t\t\t\tif (form.attr('name') == 'changeOwner') {\n\t\t\t\t\t\t\t\t\tthisInstance.transferOwnershipSave(form);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tjQuery('#changeOwner').validationEngine(app.validationEngineOptions);\n\t\t\t\t\t};\n\t\t\t\t\tapp.showModalWindow(data, function(data) {\n\t\t\t\t\t\tvar selectElement = thisInstance.getRelatedModuleContainer();\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(selectElement, 'select2');\n\t\t\t\t\t\tif (typeof callback == 'function') {\n\t\t\t\t\t\t\tcallback(data);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttransferOwnershipSave: function(form) {\n\t\t\tvar transferOwner = jQuery('#transferOwnerId').val();\n\t\t\tvar relatedModules = jQuery('#related_modules').val();\n\t\t\tvar recordId = jQuery('#recordId').val();\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\taction: 'TransferOwnership',\n\t\t\t\trecord: recordId,\n\t\t\t\ttransferOwnerId: transferOwner,\n\t\t\t\trelated_modules: relatedModules\n\t\t\t};\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('JS_RECORDS_TRANSFERRED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tvar oldvalue = jQuery('.assigned_user_id').val();\n\t\t\t\t\tvar element = jQuery('.assigned_user_id ');\n\n\t\t\t\t\telement.find('option[value=\"' + oldvalue + '\"]').removeAttr('selected');\n\t\t\t\t\telement.find('option[value=\"' + transferOwner + '\"]').attr('selected', 'selected');\n\t\t\t\t\telement.trigger('liszt:updated');\n\t\t\t\t\tvar Fieldname = element.find('option[value=\"' + transferOwner + '\"]').data('picklistvalue');\n\t\t\t\t\telement\n\t\t\t\t\t\t.closest('.row-fluid')\n\t\t\t\t\t\t.find('.value')\n\t\t\t\t\t\t.html(\n\t\t\t\t\t\t\t'<a href=\"index.php?module=Users&amp;parent=Settings&amp;view=Detail&amp;record=' +\n\t\t\t\t\t\t\t\ttransferOwner +\n\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\tFieldname +\n\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t);\n\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to get the related module container\n\t\t */\n\t\tgetRelatedModuleContainer: function() {\n\t\t\tif (this.getRelatedModulesContainer == false) {\n\t\t\t\tthis.getRelatedModulesContainer = jQuery('#related_modules');\n\t\t\t}\n\t\t\treturn this.getRelatedModulesContainer;\n\t\t},\n\t\treloadRelatedList: function() {\n\t\t\tvar detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\tvar params = {};\n\t\t\tif (jQuery('[name=\"currentPageNum\"]').length > 0) {\n\t\t\t\tparams.page = jQuery('[name=\"currentPageNum\"]').val();\n\t\t\t}\n\t\t\tdetailInstance.loadRelatedList(params);\n\t\t},\n\t\tshowWorkflowTriggerView: function(instance) {\n\t\t\t$(instance).popover('hide');\n\t\t\tconst detailInstance = Vtiger_Detail_Js.getInstance(),\n\t\t\t\tcallback = function(data) {\n\t\t\t\t\tlet treeInstance = data.find('#treeWorkflowContents');\n\t\t\t\t\ttreeInstance.jstree({\n\t\t\t\t\t\tcore: {\n\t\t\t\t\t\t\tdata: JSON.parse(data.find('.js-tree-workflow-data').val()),\n\t\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\t\t\ticons: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcheckbox: {\n\t\t\t\t\t\t\tthree_state: false\n\t\t\t\t\t\t},\n\t\t\t\t\t\tplugins: ['search', 'category']\n\t\t\t\t\t});\n\t\t\t\t\tdata.find('[type=\"submit\"]').on('click', function() {\n\t\t\t\t\t\tlet tasks = {};\n\t\t\t\t\t\tlet selected = treeInstance.jstree('getCategory', true);\n\t\t\t\t\t\t$.each(selected, function(index, treeElement) {\n\t\t\t\t\t\t\tif (treeElement.attr === 'record') {\n\t\t\t\t\t\t\t\ttasks[treeElement.record_id] = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$.each(selected, function(index, treeElement) {\n\t\t\t\t\t\t\tif (tasks[treeElement.parent] !== undefined && treeElement.attr === 'task') {\n\t\t\t\t\t\t\t\ttasks[treeElement.parent].push(treeElement.record_id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (Object.keys(tasks).length === 0) {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_INFORMATION'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_SELECTED_WORKFLOW_TRIGGER'),\n\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_STARTED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\t\t\taction: 'Workflow',\n\t\t\t\t\t\t\t\tmode: 'execute',\n\t\t\t\t\t\t\t\tuser: data.find('[name=\"user\"]').val(),\n\t\t\t\t\t\t\t\trecord: detailInstance.getRecordId(),\n\t\t\t\t\t\t\t\ttasks: JSON.stringify(tasks)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.done(function() {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_COMPLETED_PERFORM_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t\tdetailInstance.loadWidgets();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR_DURING_TRIGGER_OF_WORKFLOW'),\n\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\tAppConnector.request({\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'WorkflowTrigger',\n\t\t\t\trecord: detailInstance.getRecordId()\n\t\t\t}).done(function(data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tapp.showModalWindow(data, '', callback);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\t{\n\t\ttargetPicklistChange: false,\n\t\ttargetPicklist: false,\n\t\tdetailViewContentHolder: false,\n\t\tdetailViewForm: false,\n\t\tdetailViewDetailsTabLabel: 'LBL_RECORD_DETAILS',\n\t\tdetailViewSummaryTabLabel: 'LBL_RECORD_SUMMARY',\n\t\tdetailViewRecentCommentsTabLabel: 'ModComments',\n\t\tdetailViewRecentActivitiesTabLabel: 'Activities',\n\t\tdetailViewRecentUpdatesTabLabel: 'LBL_UPDATES',\n\t\tdetailViewRecentDocumentsTabLabel: 'Documents',\n\t\tfieldUpdatedEvent: 'Vtiger.Field.Updated',\n\t\t//Filels list on updation of which we need to upate the detailview header\n\t\tupdatedFields: ['company', 'designation', 'title'],\n\t\t//Event that will triggered before saving the ajax edit of fields\n\t\tfieldPreSave: 'Vtiger.Field.PreSave',\n\t\ttempData: [],\n\t\treferenceFieldNames: {\n\t\t\tCalendar: {\n\t\t\t\tAccounts: 'link',\n\t\t\t\tLeads: 'link',\n\t\t\t\tVendors: 'link',\n\t\t\t\tOSSEmployees: 'link',\n\t\t\t\tContacts: 'linkextend',\n\t\t\t\tCampaigns: 'process',\n\t\t\t\tHelpDesk: 'process',\n\t\t\t\tProjects: 'process',\n\t\t\t\tServiceContracts: 'process'\n\t\t\t},\n\t\t\tOutsourcedProducts: {\n\t\t\t\tLeads: 'parent_id',\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t},\n\t\t\tAssets: {\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t},\n\t\t\tOSSOutsourcedServices: {\n\t\t\t\tLeads: 'parent_id',\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t},\n\t\t\tOSSSoldServices: {\n\t\t\t\tAccounts: 'parent_id',\n\t\t\t\tContacts: 'parent_id'\n\t\t\t}\n\t\t},\n\t\t//constructor\n\t\tinit: function() {},\n\t\tloadWidgetsEvents: function() {\n\t\t\tconst thisInstance = this;\n\t\t\tapp.event.on('DetailView.Widget.AfterLoad', function(e, widgetContent, relatedModuleName, instance) {\n\t\t\t\tif (relatedModuleName === 'Calendar') {\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(widgetContent.closest('.activityWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'ModComments') {\n\t\t\t\t\tthisInstance.registerCommentEventsInDetail(widgetContent.closest('.updatesWidgetContainer'));\n\t\t\t\t}\n\t\t\t\tif (widgetContent.find('[name=\"relatedModule\"]').length) {\n\t\t\t\t\tthisInstance.registerShowSummary(widgetContent);\n\t\t\t\t}\n\t\t\t\tif (relatedModuleName === 'OSSMailView') {\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t\twidgetContent.find('.showMailModal').on('click', function(e) {\n\t\t\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\t\t\tapp.showModalWindow('', $(e.currentTarget).data('url') + '&noloadlibs=1', function(data) {\n\t\t\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.registerEmailEvents(widgetContent);\n\t\t\t\tif (relatedModuleName === 'DetailView') {\n\t\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadWidgets: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar widgetList = jQuery('[class^=\"widgetContainer_\"]');\n\t\t\twidgetList.each(function(index, widgetContainerELement) {\n\t\t\t\tvar widgetContainer = jQuery(widgetContainerELement);\n\t\t\t\tthisInstance.loadWidget(widgetContainer);\n\t\t\t});\n\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t},\n\t\tloadWidget: function(widgetContainer, params) {\n\t\t\tconst thisInstance = this,\n\t\t\t\tcontentContainer = $('.js-detail-widget-content', widgetContainer);\n\t\t\tlet relatedModuleName;\n\t\t\tthis.registerFilterForAddingModuleRelatedRecordFromSummaryWidget(widgetContainer);\n\t\t\tif (widgetContainer.find('[name=\"relatedModule\"]').length) {\n\t\t\t\trelatedModuleName = widgetContainer.find('[name=\"relatedModule\"]').val();\n\t\t\t} else {\n\t\t\t\trelatedModuleName = widgetContainer.data('name');\n\t\t\t}\n\t\t\tif (params === undefined) {\n\t\t\t\tlet urlParams = widgetContainer.data('url');\n\t\t\t\tif (urlParams == undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet queryParameters = urlParams.split('&'),\n\t\t\t\t\tkeyValueMap = {},\n\t\t\t\t\tindex;\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParamComponents = queryParameters[index].split('=');\n\t\t\t\t\tkeyValueMap[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t}\n\t\t\t\tparams = keyValueMap;\n\t\t\t}\n\t\t\tlet aDeferred = $.Deferred();\n\t\t\tcontentContainer.progressIndicator({});\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'html',\n\t\t\t\tdata: params\n\t\t\t})\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tcontentContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetContainer.find('.select2'));\n\t\t\t\t\tapp.registerModal(contentContainer);\n\t\t\t\t\tif (relatedModuleName) {\n\t\t\t\t\t\tlet relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab(),\n\t\t\t\t\t\t\trelatedModuleName\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(contentContainer);\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t\tthisInstance.widgetRelatedRecordView(widgetContainer, true);\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', contentContainer, relatedModuleName, thisInstance);\n\t\t\t\t\taDeferred.resolve(params);\n\t\t\t\t})\n\t\t\t\t.fail(function() {\n\t\t\t\t\tcontentContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\taDeferred.reject();\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\twidgetRelatedRecordView: function(container, load) {\n\t\t\tvar cacheKey = this.getRecordId() + '_' + container.data('id');\n\t\t\tvar relatedRecordCacheID = app.moduleCacheGet(cacheKey);\n\t\t\tif (relatedRecordCacheID !== null) {\n\t\t\t\tvar newActive = container.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\");\n\t\t\t\tif (newActive.length) {\n\t\t\t\t\tcontainer.find('.js-carousel-item.active').removeClass('active');\n\t\t\t\t\tcontainer.find(\".js-carousel-item[data-id = '\" + relatedRecordCacheID + \"']\").addClass('active');\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar controlBox = container.find('.control-widget');\n\t\t\tvar prev = controlBox.find('.prev');\n\t\t\tvar next = controlBox.find('.next');\n\t\t\tvar active = container.find('.js-carousel-item.active');\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.next().length) {\n\t\t\t\tnext.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tnext.removeClass('disabled');\n\t\t\t}\n\t\t\tif (container.find('.js-carousel-item').length <= 1 || !active.prev().length) {\n\t\t\t\tprev.addClass('disabled');\n\t\t\t} else {\n\t\t\t\tprev.removeClass('disabled');\n\t\t\t}\n\t\t\tif (load) {\n\t\t\t\tnext.on('click', function() {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tvar nextElement = active.next();\n\t\t\t\t\tnextElement.addClass('active');\n\t\t\t\t\tif (!nextElement.next().length) {\n\t\t\t\t\t\tnext.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.prev()) {\n\t\t\t\t\t\tprev.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, nextElement.data('id'));\n\t\t\t\t});\n\t\t\t\tprev.on('click', function() {\n\t\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar active = container.find('.js-carousel-item.active');\n\t\t\t\t\tactive.removeClass('active');\n\t\t\t\t\tvar prevElement = active.prev();\n\t\t\t\t\tprevElement.addClass('active');\n\t\t\t\t\tif (!prevElement.prev().length) {\n\t\t\t\t\t\tprev.addClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tif (active.next()) {\n\t\t\t\t\t\tnext.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet(cacheKey, prevElement.data('id'));\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tloadContents: function(url, data) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tvar params = url;\n\t\t\tif (typeof data !== 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t\tparams.url = url;\n\t\t\t\tparams.data = data;\n\t\t\t}\n\t\t\tAppConnector.requestPjax(params).done(function(responseData) {\n\t\t\t\tdetailContentsHolder.html(responseData);\n\t\t\t\tresponseData = detailContentsHolder.html();\n\t\t\t\t//thisInstance.triggerDisplayTypeEvent();\n\t\t\t\tthisInstance.registerBlockStatusCheckOnLoad();\n\t\t\t\t//Make select box more usability\n\t\t\t\tApp.Fields.Picklist.changeSelectElementView(detailContentsHolder);\n\t\t\t\t//Attach date picker event to date fields\n\t\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\t\tthisInstance.getForm().validationEngine();\n\t\t\t\tapp.event.trigger('DetailView.LoadContents.AfterLoad', responseData);\n\t\t\t\taDeferred.resolve(responseData);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetUpdateFieldsArray: function() {\n\t\t\treturn this.updatedFields;\n\t\t},\n\t\t/**\n\t\t * Function to return related tab.\n\t\t * @return : jQuery Object.\n\t\t */\n\t\tgetTabByLabel: function(tabLabel) {\n\t\t\tvar tabs = this.getTabs();\n\t\t\tvar targetTab = false;\n\t\t\ttabs.each(function(index, element) {\n\t\t\t\tvar tab = jQuery(element);\n\t\t\t\tvar labelKey = tab.data('labelKey');\n\t\t\t\tif (labelKey == tabLabel) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tgetTabByModule: function(moduleName, relationId = '') {\n\t\t\tvar tabs = this.getTabs();\n\t\t\tvar targetTab = false;\n\t\t\ttabs.each(function(index, element) {\n\t\t\t\tvar tab = jQuery(element);\n\t\t\t\tif (\n\t\t\t\t\ttab.data('reference') == moduleName &&\n\t\t\t\t\t(!relationId || (relationId && relationId == tab.data('relation-id')))\n\t\t\t\t) {\n\t\t\t\t\ttargetTab = tab;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn targetTab;\n\t\t},\n\t\tselectModuleTab: function() {\n\t\t\tvar relatedTabContainer = this.getTabContainer();\n\t\t\tvar moduleTab = relatedTabContainer.find('li.module-tab');\n\t\t\tthis.deSelectAllrelatedTabs();\n\t\t\tthis.markTabAsSelected(moduleTab);\n\t\t},\n\t\tdeSelectAllrelatedTabs: function() {\n\t\t\tthis.getTabs().removeClass('active');\n\t\t},\n\t\tmarkTabAsSelected: function(tabElement) {\n\t\t\ttabElement.addClass('active');\n\t\t\t$(\n\t\t\t\t'.related .dropdown [data-reference=\"' +\n\t\t\t\t\ttabElement.data('reference') +\n\t\t\t\t\t'\"][data-relation-id=\"' +\n\t\t\t\t\ttabElement.data('relation-id') +\n\t\t\t\t\t'\"]'\n\t\t\t).addClass('active');\n\t\t},\n\t\treloadTabContent: function() {\n\t\t\tthis.getSelectedTab().trigger('click');\n\t\t},\n\t\tgetSelectedTab: function() {\n\t\t\tvar tabContainer = this.getTabContainer();\n\t\t\treturn tabContainer.find('.js-detail-tab.active:not(.d-none)');\n\t\t},\n\t\tgetTabContainer: function() {\n\t\t\treturn jQuery('div.related');\n\t\t},\n\t\tgetTabs: function() {\n\t\t\tvar topTabs = this.getTabContainer().find('li.baseLink:not(.d-none)');\n\t\t\tvar dropdownMenuTabs = this.getTabContainer().find('li:not(.baseLink)');\n\t\t\tdropdownMenuTabs.each(function(n, e) {\n\t\t\t\tvar currentTarget = jQuery(this);\n\t\t\t\tvar iteration = currentTarget.data('iteration');\n\t\t\t\tvar className = currentTarget.hasClass('mainNav') ? 'mainNav' : 'relatedNav';\n\t\t\t\tif (\n\t\t\t\t\titeration != undefined &&\n\t\t\t\t\ttopTabs.filter('.' + className + '[data-iteration=\"' + iteration + '\"]').length < 1\n\t\t\t\t) {\n\t\t\t\t\ttopTabs.push(currentTarget.get(0));\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn topTabs;\n\t\t},\n\t\tgetContentHolder: function() {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = jQuery('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\t/**\n\t\t * Function which will give the detail view form\n\t\t * @return : jQuery element\n\t\t */\n\t\tgetForm: function() {\n\t\t\tif (this.detailViewForm == false) {\n\t\t\t\tthis.detailViewForm = jQuery('#detailView');\n\t\t\t}\n\t\t\treturn this.detailViewForm;\n\t\t},\n\t\tgetRecordId: function() {\n\t\t\treturn app.getRecordId();\n\t\t},\n\t\tgetRelatedModuleName: function() {\n\t\t\tif (jQuery('.relatedModuleName', this.getContentHolder()).length == 1) {\n\t\t\t\treturn jQuery('.relatedModuleName', this.getContentHolder()).val();\n\t\t\t}\n\t\t},\n\t\tsaveFieldValues: function(fieldDetailList) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t\tvar recordId = this.getRecordId();\n\n\t\t\tvar data = {};\n\t\t\tif (typeof fieldDetailList !== 'undefined') {\n\t\t\t\tdata = fieldDetailList;\n\t\t\t}\n\t\t\tdata['record'] = recordId;\n\t\t\tdata['module'] = app.getModuleName();\n\t\t\tdata['action'] = 'SaveAjax';\n\n\t\t\tvar params = {};\n\t\t\tparams.data = data;\n\t\t\tparams.async = false;\n\t\t\tparams.dataType = 'json';\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done(function(reponseData) {\n\t\t\t\t\taDeferred.resolve(reponseData);\n\t\t\t\t})\n\t\t\t\t.fail((jqXHR, textStatus, errorThrown) => {\n\t\t\t\t\taDeferred.reject(jqXHR, textStatus, errorThrown);\n\t\t\t\t});\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedListCurrentPageNum: function() {\n\t\t\treturn jQuery('input[name=\"currentPageNum\"]', this.getContentHolder()).val();\n\t\t},\n\t\t/**\n\t\t * function to remove comment block if its exists.\n\t\t */\n\t\tremoveCommentBlockIfExists: function() {\n\t\t\t$('.js-add-comment-block', $('.js-comments-body', this.getContentHolder())).remove();\n\t\t},\n\t\t/**\n\t\t * function to get the Comment thread for the given parent.\n\t\t * params: Url to get the Comment thread\n\t\t */\n\t\tgetCommentThread: function(url) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(url)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to save comment\n\t\t */\n\t\tsaveCommentAjax: function(\n\t\t\telement,\n\t\t\tcommentMode,\n\t\t\tcommentContentValue,\n\t\t\teditCommentReason,\n\t\t\tcommentId,\n\t\t\tparentCommentId,\n\t\t\taDeferred\n\t\t) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({});\n\t\t\tvar commentInfoBlock = element.closest('.js-comment-single');\n\t\t\tvar relatedTo = commentInfoBlock.find('.related_to').val();\n\t\t\tif (!relatedTo) {\n\t\t\t\trelatedTo = thisInstance.getRecordId();\n\t\t\t}\n\t\t\tlet postData = {\n\t\t\t\tcommentcontent: commentContentValue.replace(/\\/|br|/gi, ''),\n\t\t\t\trelated_to: relatedTo,\n\t\t\t\tmodule: 'ModComments'\n\t\t\t};\n\n\t\t\tif (commentMode == 'edit') {\n\t\t\t\tpostData['record'] = commentId;\n\t\t\t\tpostData['reasontoedit'] = editCommentReason;\n\t\t\t\tpostData['parent_comments'] = parentCommentId;\n\t\t\t\tpostData['mode'] = 'edit';\n\t\t\t\tpostData['action'] = 'Save';\n\t\t\t} else if (commentMode == 'add') {\n\t\t\t\tpostData['parent_comments'] = commentId;\n\t\t\t\tpostData['action'] = 'SaveAjax';\n\t\t\t}\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (commentMode == 'add') {\n\t\t\t\t\t\tthisInstance.addRelationBetweenRecords(\n\t\t\t\t\t\t\t'ModComments',\n\t\t\t\t\t\t\tdata.result.id,\n\t\t\t\t\t\t\tthisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterAjax', commentInfoBlock, postData, data);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tsaveComment: function(e) {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tcurrentTarget = jQuery(e.currentTarget),\n\t\t\t\tcommentMode = currentTarget.data('mode'),\n\t\t\t\tclosestCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentContent = closestCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentContentValue = commentContent.html(),\n\t\t\t\terrorMsg,\n\t\t\t\teditCommentReason;\n\t\t\tif ('' === commentContentValue) {\n\t\t\t\terrorMsg = app.vtranslate('JS_LBL_COMMENT_VALUE_CANT_BE_EMPTY');\n\t\t\t\tcommentContent.validationEngine('showPrompt', errorMsg, 'error', 'bottomLeft', true);\n\t\t\t\taDeferred.reject(errorMsg);\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tif ('edit' === commentMode) {\n\t\t\t\teditCommentReason = closestCommentBlock.find('[name=\"reasonToEdit\"]').val();\n\t\t\t}\n\t\t\tlet element = jQuery(e.currentTarget),\n\t\t\t\tcommentInfoHeader = closestCommentBlock.closest('.js-comment-details').find('.js-comment-info-header'),\n\t\t\t\tcommentId = commentInfoHeader.data('commentid'),\n\t\t\t\tparentCommentId = commentInfoHeader.data('parentcommentid');\n\t\t\tthis.saveCommentAjax(\n\t\t\t\telement,\n\t\t\t\tcommentMode,\n\t\t\t\tcommentContentValue,\n\t\t\t\teditCommentReason,\n\t\t\t\tcommentId,\n\t\t\t\tparentCommentId,\n\t\t\t\taDeferred\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return the UI of the comment.\n\t\t * return html\n\t\t */\n\t\tgetCommentUI: function(commentId) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar postData = {\n\t\t\t\tview: 'DetailAjax',\n\t\t\t\tmodule: 'ModComments',\n\t\t\t\trecord: commentId\n\t\t\t};\n\t\t\tAppConnector.request(postData)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * function to return cloned add comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetCommentBlock: function() {\n\t\t\tlet clonedCommentBlock = jQuery('.basicAddCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicAddCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/**\n\t\t * function to return cloned edit comment block\n\t\t * return jQuery Obj.\n\t\t */\n\t\tgetEditCommentBlock: function() {\n\t\t\tlet clonedCommentBlock = jQuery('.basicEditCommentBlock', this.getContentHolder())\n\t\t\t\t.clone(true, true)\n\t\t\t\t.removeClass('basicEditCommentBlock d-none')\n\t\t\t\t.addClass('js-add-comment-block');\n\t\t\tclonedCommentBlock\n\t\t\t\t.find('.commentcontenthidden')\n\t\t\t\t.removeClass('commentcontenthidden')\n\t\t\t\t.addClass('js-comment-content');\n\t\t\tnew App.Fields.Text.Completions(clonedCommentBlock.find('.js-completions'), { emojiPanel: false });\n\t\t\treturn clonedCommentBlock;\n\t\t},\n\t\t/*\n\t\t * Function to register the submit event for Send Sms\n\t\t */\n\t\tregisterSendSmsSubmitEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('body').on('submit', '#massSave', function(e) {\n\t\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\t\tvar smsTextLength = form.find('#message').html().length;\n\t\t\t\tif (smsTextLength > 160) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate('LBL_SMS_MAX_CHARACTERS_ALLOWED'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar submitButton = form.find(':submit');\n\t\t\t\tsubmitButton.attr('disabled', 'disabled');\n\t\t\t\tthisInstance.SendSmsSave(form);\n\t\t\t\te.preventDefault();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to Save and sending the Sms and hide the modal window of send sms\n\t\t */\n\t\tSendSmsSave: function(form) {\n\t\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar SendSmsUrl = form.serializeFormData();\n\t\t\tAppConnector.request(SendSmsUrl)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\tprogressInstance.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.fail(function(error, err) {});\n\t\t},\n\t\t/**\n\t\t * Function which will register events to update the record name in the detail view when any of\n\t\t * the name field is changed\n\t\t */\n\t\tregisterNameAjaxEditEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, '.nameField', function(e, params) {\n\t\t\t\tvar form = thisInstance.getForm();\n\t\t\t\tvar nameFields = form.data('nameFields');\n\t\t\t\tvar recordLabel = '';\n\t\t\t\tfor (var index in nameFields) {\n\t\t\t\t\tif (index != 0) {\n\t\t\t\t\t\trecordLabel += ' ';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar nameFieldName = nameFields[index];\n\t\t\t\t\trecordLabel += form.find('[name=\"' + nameFieldName + '\"]').val();\n\t\t\t\t}\n\t\t\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t});\n\t\t},\n\t\tupdateHeaderNameFields: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tvar form = thisInstance.getForm();\n\t\t\tvar nameFields = form.data('nameFields');\n\t\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.recordLabel');\n\t\t\tvar title = '';\n\t\t\tfor (var index in nameFields) {\n\t\t\t\tvar nameFieldName = nameFields[index];\n\t\t\t\tvar nameField = form.find('[name=\"' + nameFieldName + '\"]');\n\t\t\t\tif (nameField.length > 0) {\n\t\t\t\t\tvar recordLabel = nameField.val();\n\t\t\t\t\ttitle += recordLabel + ' ';\n\t\t\t\t\trecordLabelElement.find('[class=\"' + nameFieldName + '\"]').text(recordLabel);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar salutatioField = recordLabelElement.find('.salutation');\n\t\t\tif (salutatioField.length > 0) {\n\t\t\t\tvar salutatioValue = salutatioField.text();\n\t\t\t\ttitle = salutatioValue + title;\n\t\t\t}\n\t\t\trecordLabelElement.attr('title', title);\n\t\t},\n\t\tregisterAjaxEditEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, 'input,select,textarea', function(e) {\n\t\t\t\tthisInstance.updateHeaderValues(jQuery(e.currentTarget));\n\t\t\t});\n\t\t},\n\t\tupdateHeaderValues: function(currentElement) {\n\t\t\tvar thisInstance = this;\n\t\t\tif (currentElement.hasClass('nameField')) {\n\t\t\t\tthisInstance.updateHeaderNameFields();\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tvar name = currentElement.attr('name');\n\t\t\tvar updatedFields = this.getUpdateFieldsArray();\n\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tif (jQuery.inArray(name, updatedFields) != '-1') {\n\t\t\t\tvar recordLabel = currentElement.val();\n\t\t\t\tvar recordLabelElement = detailContentsHolder.closest('.contentsDiv').find('.' + name + '_label');\n\t\t\t\trecordLabelElement.text(recordLabel);\n\t\t\t}\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of email field\n\t\t */\n\t\tregisterEmailFieldClickEvent: function() {\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.emailField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of phone field\n\t\t */\n\t\tregisterPhoneFieldClickEvent: function() {\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.phoneField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/*\n\t\t * Function to register the click event of url field\n\t\t */\n\t\tregisterUrlFieldClickEvent: function() {\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.urlField', function(e) {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for related list row click\n\t\t */\n\t\tregisterRelatedRowClickEvent: function() {\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.listViewEntries', function(e) {\n\t\t\t\tvar targetElement = jQuery(e.target, jQuery(e.currentTarget));\n\t\t\t\tif (targetElement.is('td:first-child') && targetElement.children('input[type=\"checkbox\"]').length > 0)\n\t\t\t\t\treturn;\n\t\t\t\tif (jQuery(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\t\tvar recordUrl = elem.data('recordurl');\n\t\t\t\tif (typeof recordUrl !== 'undefined') {\n\t\t\t\t\twindow.location.href = recordUrl;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tloadRelatedList: function(params) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tif (params == undefined) {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tvar relatedListInstance = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\tthis.getRecordId(),\n\t\t\t\tapp.getModuleName(),\n\t\t\t\tthis.getSelectedTab(),\n\t\t\t\tthis.getRelatedModuleName()\n\t\t\t);\n\t\t\trelatedListInstance.loadRelatedList(params).done(\n\t\t\t\tfunction(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t},\n\t\t\t\tfunction(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to register Event for Sorting\n\t\t */\n\t\tregisterEventForRelatedList: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tvar relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\tif (relatedModuleName) {\n\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\tthisInstance.getSelectedTab(),\n\t\t\t\t\trelatedModuleName\n\t\t\t\t);\n\t\t\t\trelatedController.setRelatedContainer(detailContentsHolder);\n\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t}\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink').each(function(n, block) {\n\t\t\t\tblock = $(block);\n\t\t\t\tvar blockContent = block.find('.blockContent');\n\t\t\t\tif (blockContent.is(':visible')) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: block.data('url')\n\t\t\t\t\t}).done(function(response) {\n\t\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab(),\n\t\t\t\t\t\t\tblock.data('reference')\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.detailViewBlockLink .blockHeader').on('click', function(e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tconst block = $(this).closest('.js-toggle-panel');\n\t\t\t\tconst blockContent = block.find('.blockContent');\n\t\t\t\tconst isEmpty = blockContent.is(':empty');\n\t\t\t\tif (!blockContent.is(':visible')) {\n\t\t\t\t\tblockContent.progressIndicator();\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: block.data('url')\n\t\t\t\t\t}).done(function(response) {\n\t\t\t\t\t\tblockContent.html(response);\n\t\t\t\t\t\tconst relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\t\tthisInstance.getSelectedTab(),\n\t\t\t\t\t\t\tblock.data('reference')\n\t\t\t\t\t\t);\n\t\t\t\t\t\trelatedController.setRelatedContainer(blockContent);\n\t\t\t\t\t\tif (isEmpty) {\n\t\t\t\t\t\t\trelatedController.registerRelatedEvents();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trelatedController.registerPostLoadEvents();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterBlockAnimationEvent: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.find('.blockHeader').on('click', function(e) {\n\t\t\t\tconst target = $(e.target);\n\t\t\t\tif (\n\t\t\t\t\ttarget.is('input') ||\n\t\t\t\t\ttarget.is('button') ||\n\t\t\t\t\ttarget.parents().is('button') ||\n\t\t\t\t\ttarget.hasClass('js-stop-propagation') ||\n\t\t\t\t\ttarget.parents().hasClass('js-stop-propagation')\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar currentTarget = $(this)\n\t\t\t\t\t.find('.js-block-toggle')\n\t\t\t\t\t.not('.d-none');\n\t\t\t\tvar blockId = currentTarget.data('id');\n\t\t\t\tvar closestBlock = currentTarget.closest('.js-toggle-panel');\n\t\t\t\tvar bodyContents = closestBlock.find('.blockContent');\n\t\t\t\tvar data = currentTarget.data();\n\t\t\t\tvar module = app.getModuleName();\n\t\t\t\tif (data.mode === 'show') {\n\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\tapp.cacheSet(module + '.' + blockId, 0);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find('[data-mode=\"hide\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\tapp.cacheSet(module + '.' + blockId, 1);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tclosestBlock.find('[data-mode=\"show\"]').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tapp.event.trigger('DetailView.js-block-toggle.PostLoad', bodyContents, data, thisInstance);\n\t\t\t});\n\t\t},\n\t\tregisterBlockStatusCheckOnLoad: function() {\n\t\t\tlet blocks = this.getContentHolder().find('.js-toggle-panel');\n\t\t\tlet module = app.getModuleName();\n\t\t\tblocks.each(function(index, block) {\n\t\t\t\tlet currentBlock = jQuery(block);\n\t\t\t\tlet dynamicAttr = currentBlock.attr('data-dynamic');\n\t\t\t\tif (typeof dynamicAttr !== typeof undefined && dynamicAttr !== false) {\n\t\t\t\t\tlet headerAnimationElement = currentBlock.find('.js-block-toggle').not('.d-none');\n\t\t\t\t\tlet bodyContents = currentBlock.closest('.js-toggle-panel').find('.blockContent');\n\t\t\t\t\tlet blockId = headerAnimationElement.data('id');\n\t\t\t\t\tlet cacheKey = module + '.' + blockId;\n\t\t\t\t\tlet value = app.cacheGet(cacheKey, null);\n\t\t\t\t\tif (value != null) {\n\t\t\t\t\t\tif (value == 1) {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='show']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\theaderAnimationElement.addClass('d-none');\n\t\t\t\t\t\t\tcurrentBlock.find(\"[data-mode='hide']\").removeClass('d-none');\n\t\t\t\t\t\t\tbodyContents.addClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle the ajax edit for detailview and summary view fields\n\t\t * which will expects the currentTdElement\n\t\t */\n\t\tajaxEditHandling: function(currentTdElement) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet readRecord = $('.setReadRecord'),\n\t\t\t\tdetailViewValue = $('.value', currentTdElement),\n\t\t\t\teditElement = $('.edit', currentTdElement),\n\t\t\t\tactionElement = $('.js-detail-quick-edit', currentTdElement),\n\t\t\t\tfieldElement = $('.fieldname', editElement);\n\t\t\treadRecord.prop('disabled', true);\n\t\t\t$(fieldElement).each(function(index, element) {\n\t\t\t\tlet fieldName = $(element).val(),\n\t\t\t\t\telementTarget = $(element),\n\t\t\t\t\telementName =\n\t\t\t\t\t\t$.inArray(elementTarget.data('type'), [\n\t\t\t\t\t\t\t'taxes',\n\t\t\t\t\t\t\t'sharedOwner',\n\t\t\t\t\t\t\t'multipicklist',\n\t\t\t\t\t\t\t'multiListFields',\n\t\t\t\t\t\t\t'multiDomain',\n\t\t\t\t\t\t\t'mailScannerFields',\n\t\t\t\t\t\t\t'mailScannerActions'\n\t\t\t\t\t\t]) != -1\n\t\t\t\t\t\t\t? fieldName + '[]'\n\t\t\t\t\t\t\t: fieldName;\n\t\t\t\tlet fieldElement = $('[name=\"' + elementName + '\"]:not([type=\"hidden\"])', editElement);\n\t\t\t\tif (fieldElement.attr('disabled') == 'disabled') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.length <= 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (editElement.is(':visible')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t}\n\t\t\t\tdetailViewValue.addClass('d-none');\n\t\t\t\tactionElement.addClass('d-none');\n\t\t\t\teditElement\n\t\t\t\t\t.removeClass('d-none')\n\t\t\t\t\t.children()\n\t\t\t\t\t.filter('input[type!=\"hidden\"]input[type!=\"image\"],select')\n\t\t\t\t\t.filter(':first')\n\t\t\t\t\t.focus();\n\t\t\t\tlet saveHandler = function(e) {\n\t\t\t\t\tthisInstance.registerNameAjaxEditEvent();\n\t\t\t\t\tlet element = $(e.target);\n\t\t\t\t\tif ($(e.currentTarget).find('.dateTimePickerField').length) {\n\t\t\t\t\t\tif (element.closest('.drp-calendar').length || element.hasClass('drp-calendar')) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\telement.closest('.fieldValue').is(currentTdElement) ||\n\t\t\t\t\t\telement.hasClass('select2-selection__choice__remove') ||\n\t\t\t\t\t\telement.closest('.select2-container--open').length ||\n\t\t\t\t\t\telement.parents('.clockpicker-popover').length\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tcurrentTdElement.removeAttr('tabindex');\n\t\t\t\t\tcurrentTdElement.removeClass('is-edit-active');\n\t\t\t\t\tlet previousValue = elementTarget.data('prevValue'),\n\t\t\t\t\t\teditElement = elementTarget.closest('.edit'),\n\t\t\t\t\t\tajaxEditNewValue =\n\t\t\t\t\t\t\teditElement.find('[name=\"' + elementName + '\"]').length > 0\n\t\t\t\t\t\t\t\t? editElement.find('[name=\"' + elementName + '\"]').val()\n\t\t\t\t\t\t\t\t: editElement.find('[name=\"' + fieldName + '\"]').val(),\n\t\t\t\t\t\tfieldInfo = Vtiger_Field_Js.getInstance(fieldElement.data('fieldinfo')),\n\t\t\t\t\t\tdateTimeField = [],\n\t\t\t\t\t\tdateTime = false;\n\t\t\t\t\tif (editElement.find('[data-fieldinfo]').length == 2) {\n\t\t\t\t\t\teditElement.find('[data-fieldinfo]').each(function() {\n\t\t\t\t\t\t\tlet field = {\n\t\t\t\t\t\t\t\tname: $(this).attr('name'),\n\t\t\t\t\t\t\t\ttype: $(this).data('fieldinfo').type\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (field['type'] == 'datetime') {\n\t\t\t\t\t\t\t\tdateTime = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdateTimeField.push(field);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.is('input:checkbox')) {\n\t\t\t\t\t\tif (fieldElement.is(':checked')) {\n\t\t\t\t\t\t\tajaxEditNewValue = '1';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tajaxEditNewValue = '0';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfieldElement = fieldElement.filter('[type=\"checkbox\"]');\n\t\t\t\t\t}\n\t\t\t\t\tif (fieldElement.validationEngine('validate')) {\n\t\t\t\t\t\tif (fieldElement.attr('data-inputmask')) {\n\t\t\t\t\t\t\tfieldElement.inputmask();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tfunction toStr(v) {\n\t\t\t\t\t\treturn v === undefined || v === null ? '' : v + '';\n\t\t\t\t\t}\n\t\t\t\t\tfieldElement.validationEngine('hide');\n\t\t\t\t\tif (toStr(previousValue) === toStr(ajaxEditNewValue)) {\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave),\n\t\t\t\t\t\t\tfieldNameValueMap = {};\n\t\t\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\t\t\tfieldValue: ajaxEditNewValue,\n\t\t\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (preFieldSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentTdElement.progressIndicator();\n\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\tfieldNameValueMap['value'] = ajaxEditNewValue;\n\t\t\t\t\t\tfieldNameValueMap['field'] = fieldName;\n\t\t\t\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t.saveFieldValues(fieldNameValueMap)\n\t\t\t\t\t\t\t.done(function(response) {\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tcurrentTdElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\tif (!response.success) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst postSaveRecordDetails = response.result;\n\t\t\t\t\t\t\t\tlet displayValue = postSaveRecordDetails[fieldName].display_value,\n\t\t\t\t\t\t\t\t\tprevDisplayValue = postSaveRecordDetails[fieldName].prev_display_value;\n\t\t\t\t\t\t\t\tif (dateTimeField.length && dateTime) {\n\t\t\t\t\t\t\t\t\tdisplayValue =\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[0].name].display_value +\n\t\t\t\t\t\t\t\t\t\t' ' +\n\t\t\t\t\t\t\t\t\t\tpostSaveRecordDetails[dateTimeField[1].name].display_value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdetailViewValue.html(displayValue);\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\t\t\t\t\ttext:\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tfieldInfo.data.label +\n\t\t\t\t\t\t\t\t\t\t'</b><br>' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_FROM') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tprevDisplayValue +\n\t\t\t\t\t\t\t\t\t\t'<br> ' +\n\t\t\t\t\t\t\t\t\t\t'<b>' +\n\t\t\t\t\t\t\t\t\t\tapp.vtranslate('JS_SAVED_TO') +\n\t\t\t\t\t\t\t\t\t\t'</b>: ' +\n\t\t\t\t\t\t\t\t\t\tdisplayValue,\n\t\t\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\t\t\ttextTrusted: true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (postSaveRecordDetails['isViewable'] === false) {\n\t\t\t\t\t\t\t\t\tlet urlObject = app.convertUrlToObject(window.location.href);\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.parent.location.href =\n\t\t\t\t\t\t\t\t\t\t\t'index.php?module=' + urlObject['module'] + '&view=ListPreview';\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = 'index.php?module=' + urlObject['module'] + '&view=List';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else if (postSaveRecordDetails['isEditable'] === false) {\n\t\t\t\t\t\t\t\t\t$.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\t\t\t\twindow.location.href = window.location.href.replace(\n\t\t\t\t\t\t\t\t\t\t\t'view=Detail',\n\t\t\t\t\t\t\t\t\t\t\t'view=DetailPreview'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tfieldElement.trigger(thisInstance.fieldUpdatedEvent, {\n\t\t\t\t\t\t\t\t\told: previousValue,\n\t\t\t\t\t\t\t\t\tnew: ajaxEditNewValue\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tajaxEditNewValue = ajaxEditNewValue === undefined ? '' : ajaxEditNewValue; //data cannot be undefined\n\t\t\t\t\t\t\t\telementTarget.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tfieldElement.data('selectedValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\tif (thisInstance.targetPicklistChange) {\n\t\t\t\t\t\t\t\t\tif ($('.js-widget-general-info', thisInstance.getForm()).length > 0) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.find('.js-detail-quick-edit').trigger('click');\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist.trigger('click');\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlet selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\t\t\t\tif (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\t\tlet detailContentsHolder = thisInstance.getContentHolder();\n\t\t\t\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t\t\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tselectedTabElement.data('linkKey') == thisInstance.detailViewDetailsTabLabel\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tthisInstance.registerEventForPicklistDependencySetup(thisInstance.getForm());\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthisInstance.updateRecordsPDFTemplateBtn(thisInstance.getForm());\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function(jqXHR, textStatus, errorThrown) {\n\t\t\t\t\t\t\t\teditElement.addClass('d-none');\n\t\t\t\t\t\t\t\tdetailViewValue.removeClass('d-none');\n\t\t\t\t\t\t\t\tactionElement.removeClass('d-none');\n\t\t\t\t\t\t\t\teditElement.off('clickoutside');\n\t\t\t\t\t\t\t\treadRecord.prop('disabled', false);\n\t\t\t\t\t\t\t\tcurrentTdElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_FAIL'),\n\t\t\t\t\t\t\t\t\ttext: textStatus\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\teditElement.on('clickoutside', saveHandler);\n\t\t\t});\n\t\t},\n\t\ttriggerDisplayTypeEvent: function() {\n\t\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tvar elements = jQuery('#detailView').find('td');\n\t\t\t\telements.addClass(widthType);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function updates the hidden elements which is used for creating relations\n\t\t */\n\t\taddElementsToQuickCreateForCreatingRelation: function(container, customParams) {\n\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" >').appendTo(container);\n\t\t\tjQuery.each(customParams, function(index, value) {\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + index + '\" value=\"' + value + '\" >').appendTo(container);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for activity widget for adding\n\t\t * event and task from the widget\n\t\t */\n\t\tregisterEventForActivityWidget: function() {\n\t\t\tvar thisInstance = this;\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related Activities widget\n\t\t\t */\n\t\t\tjQuery('.createActivity').on('click', function(e) {\n\t\t\t\tvar referenceModuleName = 'Calendar';\n\t\t\t\tvar recordId = thisInstance.getRecordId();\n\t\t\t\tvar module = app.getModuleName();\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\n\t\t\t\tlet customParams = {};\n\t\t\t\tcustomParams['sourceModule'] = module;\n\t\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\t\tif (\n\t\t\t\t\tmodule != '' &&\n\t\t\t\t\treferenceModuleName != '' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName] !== 'undefined' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName][module] !== 'undefined'\n\t\t\t\t) {\n\t\t\t\t\tvar relField = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\t\tcustomParams[relField] = recordId;\n\t\t\t\t}\n\t\t\t\tvar fullFormUrl = element.data('url');\n\t\t\t\tvar preQuickCreateSave = function(data) {\n\t\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\t\tvar taskGoToFullFormButton = data\n\t\t\t\t\t\t.find('[class^=\"CalendarQuikcCreateContents\"]')\n\t\t\t\t\t\t.find('.js-full-editlink');\n\t\t\t\t\tvar eventsGoToFullFormButton = data\n\t\t\t\t\t\t.find('[class^=\"EventsQuikcCreateContents\"]')\n\t\t\t\t\t\t.find('.js-full-editlink');\n\t\t\t\t\tvar taskFullFormUrl = taskGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\tvar eventsFullFormUrl = eventsGoToFullFormButton.data('url') + '&' + fullFormUrl;\n\t\t\t\t\ttaskGoToFullFormButton.data('url', taskFullFormUrl);\n\t\t\t\t\teventsGoToFullFormButton.data('url', eventsFullFormUrl);\n\t\t\t\t};\n\t\t\t\tvar callbackFunction = function() {\n\t\t\t\t\tvar widgetContainer = element.closest('.js-detail-widget');\n\t\t\t\t\tvar widgetContentBlock = widgetContainer.find('.widgetContentBlock');\n\t\t\t\t\tvar urlParams = widgetContentBlock.data('url');\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttype: 'GET',\n\t\t\t\t\t\tdataType: 'html',\n\t\t\t\t\t\tdata: urlParams\n\t\t\t\t\t};\n\t\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\t\tvar activitiesWidget = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\t\tactivitiesWidget.html(data);\n\t\t\t\t\t\tApp.Fields.Picklist.changeSelectElementView(activitiesWidget);\n\t\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-type=\"Updates\"]'));\n\t\t\t\t\t\tthisInstance.loadWidget($('.widgetContentBlock[data-name=\"Calendar\"]'));\n\t\t\t\t\t});\n\t\t\t\t};\n\t\t\t\tlet QuickCreateParams = {};\n\t\t\t\tQuickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\t\tQuickCreateParams['callbackFunction'] = callbackFunction;\n\t\t\t\tQuickCreateParams['data'] = Object.assign({}, customParams);\n\t\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t\t});\n\t\t},\n\t\tgetEndDate: function(startDate) {\n\t\t\tvar dateTab = startDate.split('-');\n\t\t\tvar date = new Date(dateTab[0], dateTab[1], dateTab[2]);\n\t\t\tvar newDate = new Date();\n\n\t\t\tnewDate.setDate(date.getDate() + 2);\n\t\t\treturn app.getStringDate(newDate);\n\t\t},\n\t\tgetSingleEventType: function(modDay, id, type) {\n\t\t\tvar dateStartEl = jQuery('[name=\"date_start\"]');\n\t\t\tvar dateStartVal = jQuery(dateStartEl).val();\n\t\t\tvar dateStartFormat = jQuery(dateStartEl).data('date-format');\n\t\t\tvar validDateFromat = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay, type);\n\t\t\tvar map = jQuery.extend({}, ['#b6a996,black']);\n\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Calendar',\n\t\t\t\taction: 'Feed',\n\t\t\t\tstart: validDateFromat,\n\t\t\t\tend: this.getEndDate(validDateFromat),\n\t\t\t\ttype: type,\n\t\t\t\tmapping: map\n\t\t\t};\n\n\t\t\tAppConnector.request(params).done(function(events) {\n\t\t\t\tvar testDate = Vtiger_Helper_Js.convertToDateString(dateStartVal, dateStartFormat, modDay);\n\t\t\t\tif (!jQuery.isEmptyObject(events)) {\n\t\t\t\t\tif (events[0]['activitytype'] === 'Task') {\n\t\t\t\t\t\tfor (var ev in events) {\n\t\t\t\t\t\t\tif (events[ev]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append(\n\t\t\t\t\t\t\t\t\t'<tr><td><a target=\"_blank\" href=\"' +\n\t\t\t\t\t\t\t\t\t\tevents[ev]['url'] +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tevents[ev]['title'] +\n\t\t\t\t\t\t\t\t\t\t'</a></td></tr>'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (var i = 0; i < events[0].length; i++) {\n\t\t\t\t\t\t\tif (events[0][i]['start'].indexOf(testDate) > -1) {\n\t\t\t\t\t\t\t\tjQuery('#' + id + ' .table').append(\n\t\t\t\t\t\t\t\t\t'<tr><td><a target=\"_blank\" href=\"' +\n\t\t\t\t\t\t\t\t\t\tevents[0][i]['url'] +\n\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\tevents[0][i]['title'] +\n\t\t\t\t\t\t\t\t\t\t'</a></td></tr>'\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to add module related record from summary widget\n\t\t */\n\t\tregisterFilterForAddingModuleRelatedRecordFromSummaryWidget: function(container) {\n\t\t\tvar thisInstance = this;\n\t\t\tcontainer.find('.createRecordFromFilter').on('click', function(e) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\tvar referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\tvar quickcreateUrl = currentElement.data('url');\n\t\t\t\tvar parentId = thisInstance.getRecordId();\n\t\t\t\tvar quickCreateParams = {};\n\t\t\t\tvar relatedField = currentElement.data('prf');\n\t\t\t\tvar autoCompleteFields = currentElement.data('acf');\n\t\t\t\tvar moduleName = currentElement\n\t\t\t\t\t.closest('.js-detail-widget-header')\n\t\t\t\t\t.find('[name=\"relatedModule\"]')\n\t\t\t\t\t.val();\n\t\t\t\tvar relatedParams = {};\n\t\t\t\tvar postQuickCreateSave = function(data) {\n\t\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\t\tif (referenceModuleName == 'ProjectTask') {\n\t\t\t\t\t\tthisInstance.loadModuleSummary();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t\t}\n\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t$.each(autoCompleteFields, function(index, value) {\n\t\t\t\t\t\trelatedParams[index] = value;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (Object.keys(relatedParams).length > 0) {\n\t\t\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\t\t}\n\t\t\t\tquickCreateParams['noCache'] = true;\n\t\t\t\tquickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\t\tvar progress = jQuery.progressIndicator({\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet headerInstance;\n\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\theaderInstance = window.parent.Vtiger_Header_Js.getInstance();\n\t\t\t\t} else {\n\t\t\t\t\theaderInstance = Vtiger_Header_Js.getInstance();\n\t\t\t\t}\n\t\t\t\theaderInstance.getQuickCreateForm(quickcreateUrl, moduleName, quickCreateParams).done(function(data) {\n\t\t\t\t\theaderInstance.handleQuickCreateData(data, quickCreateParams);\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('button.selectRelation').on('click', function(e) {\n\t\t\t\tlet summaryWidgetContainer = jQuery(e.currentTarget).closest('.js-detail-widget');\n\t\t\t\tlet referenceModuleName = summaryWidgetContainer.data('moduleName');\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: referenceModuleName,\n\t\t\t\t\tsrc_module: app.getModuleName(),\n\t\t\t\t\tsrc_record: thisInstance.getRecordId(),\n\t\t\t\t\tmulti_select: true,\n\t\t\t\t\trelationId: summaryWidgetContainer.data('relationId')\n\t\t\t\t};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams['search_key'] = restrictionsField.key;\n\t\t\t\t\tparams['search_value'] = restrictionsField.name;\n\t\t\t\t}\n\t\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\t\tinstance.setSelectEvent(responseData => {\n\t\t\t\t\t\tthisInstance\n\t\t\t\t\t\t\t.addRelationBetweenRecords(referenceModuleName, Object.keys(responseData))\n\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('.widgetContentBlock'));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterAddingInventoryRecords: function() {\n\t\t\tjQuery('.createInventoryRecordFromFilter').on('click', function(e) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tvar createUrl = currentElement.data('url');\n\t\t\t\tvar autoCompleteFields = currentElement.data('acf');\n\t\t\t\tvar addidtionalParams = '';\n\t\t\t\tif (typeof autoCompleteFields !== 'undefined') {\n\t\t\t\t\t$.each(autoCompleteFields, function(index, value) {\n\t\t\t\t\t\taddidtionalParams = '&' + index + '=' + value;\n\t\t\t\t\t\tcreateUrl = createUrl.concat(addidtionalParams);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\twindow.location.href = createUrl;\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvent: function() {\n\t\t\tthis.getContentHolder()\n\t\t\t\t.find('.resetRelationsEmail')\n\t\t\t\t.on('click', function(e) {\n\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\t\t\tmessage: app.vtranslate('JS_EMAIL_RESET_RELATIONS_CONFIRMATION')\n\t\t\t\t\t}).done(function(data) {\n\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\tmodule: 'OSSMailView',\n\t\t\t\t\t\t\taction: 'Relation',\n\t\t\t\t\t\t\tmoduleName: app.getModuleName(),\n\t\t\t\t\t\t\trecord: app.getRecordId()\n\t\t\t\t\t\t}).done(function(d) {\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage({ text: d.result });\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\tgetFiltersDataAndLoad: function(e, params) {\n\t\t\tvar data = this.getFiltersData(e, params);\n\t\t\tthis.loadWidget(data['container'], data['params']);\n\t\t},\n\t\tgetFiltersData: function(e, params) {\n\t\t\tif (e.currentTarget) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t} else {\n\t\t\t\tcurrentElement = e;\n\t\t\t}\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\tvar url = '&' + widget.data('url');\n\t\t\tvar urlParams = {};\n\t\t\turl.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {\n\t\t\t\turlParams[key] = value;\n\t\t\t});\n\t\t\tvar urlNewParams = [];\n\t\t\tsummaryWidgetContainer\n\t\t\t\t.find('.js-detail-widget .js-switch, .js-detail-widget-header .js-filter_field')\n\t\t\t\t.each(function(n, item) {\n\t\t\t\t\tvar value = '';\n\t\t\t\t\tvar element = jQuery(item);\n\t\t\t\t\tvar name = element.data('urlparams');\n\t\t\t\t\tif (element.attr('type') == 'radio') {\n\t\t\t\t\t\tif (element.prop('checked')) {\n\t\t\t\t\t\t\tvalue =\n\t\t\t\t\t\t\t\ttypeof element.data('on-val') !== 'undefined'\n\t\t\t\t\t\t\t\t\t? element.data('on-val')\n\t\t\t\t\t\t\t\t\t: element.data('off-val');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar selectedFilter = element.find('option:selected').val();\n\t\t\t\t\t\tvar fieldlable = element.data('fieldlable');\n\t\t\t\t\t\tvar filter = element.data('filter');\n\t\t\t\t\t\tif (selectedFilter != fieldlable) {\n\t\t\t\t\t\t\tvalue = [[filter, 'e', selectedFilter]];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (name && value) {\n\t\t\t\t\t\tif (name in urlNewParams) {\n\t\t\t\t\t\t\turlNewParams[name].push(value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\turlNewParams[name] = [value];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tif (params != undefined) {\n\t\t\t\t$.extend(urlNewParams, params);\n\t\t\t}\n\t\t\treturn { container: $(widget), params: $.extend(urlParams, urlNewParams) };\n\t\t},\n\t\tregisterChangeFilterForWidget: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('.js-switch').on('change', function(e, state) {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('.js-switch__btn')\n\t\t\t\t\t.addClass('active')\n\t\t\t\t\t.siblings()\n\t\t\t\t\t.removeClass('active');\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t\tjQuery('.js-filter_field').on('select2:select', function(e, state) {\n\t\t\t\tthisInstance.getFiltersDataAndLoad(e);\n\t\t\t});\n\t\t},\n\t\tregisterChangeSwitchForWidget: function(summaryViewContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tsummaryViewContainer.find('.activityWidgetContainer').on('change', '.js-switch', function(e) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\tvar widget = summaryWidgetContainer.find('.widgetContentBlock');\n\t\t\t\tvar url = widget.data('url');\n\t\t\t\turl = url.replace('&type=current', '').replace('&type=history', '');\n\t\t\t\turl += '&type=';\n\t\t\t\tif (typeof currentElement.data('on-val') !== 'undefined') {\n\t\t\t\t\tsummaryWidgetContainer.find('.ativitiesPagination').removeClass('d-none');\n\t\t\t\t\turl += 'current';\n\t\t\t\t\turl = url.replace('&sortorder=DESC', '&sortorder=ASC');\n\t\t\t\t} else if (typeof currentElement.data('off-val') !== 'undefined') {\n\t\t\t\t\tsummaryWidgetContainer.find('.ativitiesPagination').addClass('d-none');\n\t\t\t\t\turl += 'history';\n\t\t\t\t\turl = url.replace('&sortorder=ASC', '&sortorder=DESC');\n\t\t\t\t}\n\t\t\t\twidget.data('url', url);\n\t\t\t\tthisInstance.loadWidget($(widget));\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register all the events related to summary view widgets\n\t\t */\n\t\tregisterSummaryViewContainerEvents: function(summaryViewContainer) {\n\t\t\tvar thisInstance = this;\n\t\t\tthis.registerEventForActivityWidget();\n\t\t\tthis.registerChangeFilterForWidget();\n\t\t\tthis.registerChangeSwitchForWidget(summaryViewContainer);\n\t\t\tthis.registerAddingInventoryRecords();\n\t\t\tthis.registerEmailEvent();\n\t\t\t/**\n\t\t\t * Function to handle the ajax edit for summary view fields\n\t\t\t */\n\t\t\tsummaryViewContainer.off('click').on('click', '.row .js-detail-quick-edit', function(e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\tvar currentTdElement = currentTarget.closest('.fieldValue');\n\t\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t\t});\n\t\t\t/**\n\t\t\t * Function to handle actions after ajax save in summary view\n\t\t\t */\n\t\t\tsummaryViewContainer.on(thisInstance.fieldUpdatedEvent, '.js-widget-general-info', function() {\n\t\t\t\tlet updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\"),\n\t\t\t\t\tparams;\n\t\t\t\tif (updatesWidget.length) {\n\t\t\t\t\tparams = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\tupdatesWidget\n\t\t\t\t\t\t.find('.btnChangesReviewedOn')\n\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t.remove();\n\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tsummaryViewContainer.on('click', '.editDefaultStatus', function(e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tcurrentTarget.popover('hide');\n\t\t\t\tvar url = currentTarget.data('url');\n\t\t\t\tif (url) {\n\t\t\t\t\tif (currentTarget.hasClass('showEdit')) {\n\t\t\t\t\t\tvar headerInstance = Vtiger_Header_Js.getInstance();\n\t\t\t\t\t\tif (window !== window.parent) {\n\t\t\t\t\t\t\theaderInstance = window.parent.Vtiger_Header_Js.getInstance();\n\t\t\t\t\t\t}\n\t\t\t\t\t\theaderInstance.getQuickCreateForm(url, 'Calendar', { noCache: true }).done(data => {\n\t\t\t\t\t\t\theaderInstance.handleQuickCreateData(data, {\n\t\t\t\t\t\t\t\tcallbackFunction: () => {\n\t\t\t\t\t\t\t\t\tlet widget = currentTarget.closest('.widgetContentBlock');\n\t\t\t\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(widget);\n\t\t\t\t\t\t\t\t\t\tlet updatesWidget = thisInstance\n\t\t\t\t\t\t\t\t\t\t\t.getContentHolder()\n\t\t\t\t\t\t\t\t\t\t\t.find(\"[data-type='Updates']\");\n\t\t\t\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthisInstance.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showModalWindow(null, url);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register the event to edit Description for related activities\n\t\t\t */\n\t\t\tsummaryViewContainer.on('click', '.editDescription', function(e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentDiv = currentTarget.closest('.activityDescription'),\n\t\t\t\t\teditElement = currentDiv.find('.edit'),\n\t\t\t\t\tdetailViewElement = currentDiv.find('.value'),\n\t\t\t\t\tdescriptionText = currentDiv.find('.js-description-text'),\n\t\t\t\t\tdescriptionEmpty = currentDiv.find('.js-no-description'),\n\t\t\t\t\tsaveButton = currentDiv.find('.js-save-description'),\n\t\t\t\t\tcloseButton = currentDiv.find('.js-close-description'),\n\t\t\t\t\tactivityButtonContainer = currentDiv.find('.js-activity-buttons__container'),\n\t\t\t\t\tfieldnameElement = jQuery('.fieldname', editElement),\n\t\t\t\t\tfieldName = fieldnameElement.val(),\n\t\t\t\t\tfieldElement = jQuery('[name=\"' + fieldName + '\"]', editElement),\n\t\t\t\t\tcallbackFunction = () => {\n\t\t\t\t\t\tlet previousValue = fieldnameElement.data('prevValue'),\n\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(),\n\t\t\t\t\t\t\tajaxEditNewLable = fieldElement.val(),\n\t\t\t\t\t\t\tactivityDiv = currentDiv.closest('.activityEntries'),\n\t\t\t\t\t\t\tactivityId = activityDiv.find('.activityId').val(),\n\t\t\t\t\t\t\tmoduleName = activityDiv.find('.activityModule').val(),\n\t\t\t\t\t\t\tactivityType = activityDiv.find('.activityType').val();\n\t\t\t\t\t\tif (previousValue == ajaxEditNewValue) {\n\t\t\t\t\t\t\tcloseDescription();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurrentDiv.progressIndicator();\n\t\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\t\t\t\t\tresolve(fieldElement.validationEngine('validate'));\n\t\t\t\t\t\t\t}).then(errorExists => {\n\t\t\t\t\t\t\t\t//If validation fails\n\t\t\t\t\t\t\t\tif (errorExists) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.addClickOutSideEvent(currentDiv, callbackFunction);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tajaxEditNewValue = fieldElement.val(); //update editor value after conversion\n\t\t\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\t\t\t\t\t\trecord: activityId,\n\t\t\t\t\t\t\t\t\t\tfield: fieldName,\n\t\t\t\t\t\t\t\t\t\tvalue: ajaxEditNewValue,\n\t\t\t\t\t\t\t\t\t\tmodule: moduleName,\n\t\t\t\t\t\t\t\t\t\tactivitytype: activityType\n\t\t\t\t\t\t\t\t\t}).done(() => {\n\t\t\t\t\t\t\t\t\t\tcurrentDiv.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t\t\t\t\t\tdescriptionText.html(ajaxEditNewLable);\n\t\t\t\t\t\t\t\t\t\tfieldnameElement.data('prevValue', ajaxEditNewValue);\n\t\t\t\t\t\t\t\t\t\tif (ajaxEditNewValue === '') {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.removeClass('d-none');\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tdescriptionEmpty.addClass('d-none');\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcloseDescription = function() {\n\t\t\t\t\t\tfieldElement.val(fieldnameElement.data('prevValue'));\n\t\t\t\t\t\teditElement.add(activityButtonContainer).addClass('d-none');\n\t\t\t\t\t\tdetailViewElement.removeClass('d-none');\n\t\t\t\t\t\tcurrentTarget.show();\n\t\t\t\t\t};\n\t\t\t\tcurrentTarget.hide();\n\t\t\t\tdetailViewElement.addClass('d-none');\n\t\t\t\tactivityButtonContainer.removeClass('d-none');\n\t\t\t\teditElement.removeClass('d-none').show();\n\t\t\t\tsaveButton.off('click').one('click', callbackFunction);\n\t\t\t\tcloseButton.off('click').one('click', closeDescription);\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related widgets\n\t\t\t * to add record from widget\n\t\t\t */\n\n\t\t\tjQuery('.changeDetailViewMode').on('click', function(e) {\n\t\t\t\tthisInstance\n\t\t\t\t\t.getTabs()\n\t\t\t\t\t.filter('[data-link-key=\"' + thisInstance.detailViewDetailsTabLabel + '\"]:not(.d-none)')\n\t\t\t\t\t.trigger('click');\n\t\t\t});\n\n\t\t\t/*\n\t\t\t * Register click event for add button in Related widgets\n\t\t\t * to add record from widget\n\t\t\t */\n\t\t\tjQuery('.createRecord').on('click', function(e) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\t\tvar widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\t\t\tvar referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\t\t\tvar recordId = thisInstance.getRecordId();\n\t\t\t\tvar module = app.getModuleName();\n\t\t\t\tvar customParams = {};\n\t\t\t\tcustomParams['sourceModule'] = module;\n\t\t\t\tcustomParams['sourceRecord'] = recordId;\n\t\t\t\tif (\n\t\t\t\t\tmodule != '' &&\n\t\t\t\t\treferenceModuleName != '' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName] !== 'undefined' &&\n\t\t\t\t\ttypeof thisInstance.referenceFieldNames[referenceModuleName][module] !== 'undefined'\n\t\t\t\t) {\n\t\t\t\t\tvar fieldName = thisInstance.referenceFieldNames[referenceModuleName][module];\n\t\t\t\t\tcustomParams[fieldName] = recordId;\n\t\t\t\t}\n\n\t\t\t\tvar postQuickCreateSave = function(data) {\n\t\t\t\t\tthisInstance.postSummaryWidgetAddRecord(data, currentElement);\n\t\t\t\t};\n\n\t\t\t\tvar goToFullFormcallback = function(data) {\n\t\t\t\t\tthisInstance.addElementsToQuickCreateForCreatingRelation(data, customParams);\n\t\t\t\t};\n\n\t\t\t\tvar QuickCreateParams = {};\n\t\t\t\tQuickCreateParams['callbackFunction'] = postQuickCreateSave;\n\t\t\t\tQuickCreateParams['goToFullFormcallback'] = goToFullFormcallback;\n\t\t\t\tQuickCreateParams['data'] = customParams;\n\t\t\t\tQuickCreateParams['noCache'] = false;\n\t\t\t\tVtiger_Header_Js.getInstance().quickCreateModule(referenceModuleName, QuickCreateParams);\n\t\t\t});\n\t\t\tthis.registerFastEditingFiels();\n\t\t},\n\t\taddRelationBetweenRecords: function(relatedModule, relatedModuleRecordId, selectedTabElement) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar thisInstance = this;\n\t\t\tif (selectedTabElement == undefined) {\n\t\t\t\tselectedTabElement = thisInstance.getSelectedTab();\n\t\t\t}\n\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\tapp.getModuleName(),\n\t\t\t\tselectedTabElement,\n\t\t\t\trelatedModule\n\t\t\t);\n\t\t\trelatedController\n\t\t\t\t.addRelations(relatedModuleRecordId)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar summaryViewContainer = thisInstance.getContentHolder();\n\t\t\t\t\tvar updatesWidget = summaryViewContainer.find(\"[data-type='Updates']\");\n\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\tvar params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\tupdatesWidget\n\t\t\t\t\t\t\t.find('.btnChangesReviewedOn')\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.remove();\n\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle Post actions after adding record from\n\t\t * summary view widget\n\t\t */\n\t\tpostSummaryWidgetAddRecord: function(data, currentElement) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar summaryWidgetContainer = currentElement.closest('.js-detail-widget');\n\t\t\tvar widgetHeaderContainer = summaryWidgetContainer.find('.js-detail-widget-header');\n\t\t\tvar referenceModuleName = widgetHeaderContainer.find('[name=\"relatedModule\"]').val();\n\t\t\tvar idList = [];\n\t\t\tidList.push(data.result._recordId);\n\t\t\tthis.addRelationBetweenRecords(referenceModuleName, idList).done(function(data) {\n\t\t\t\tthisInstance.loadWidget(summaryWidgetContainer.find('[class^=\"widgetContainer_\"]'));\n\t\t\t});\n\t\t},\n\t\tregisterChangeEventForModulesList: function() {\n\t\t\tjQuery('#tagSearchModulesList').on('change', function(e) {\n\t\t\t\tvar modulesSelectElement = jQuery(e.currentTarget);\n\t\t\t\tif (modulesSelectElement.val() == 'all') {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t} else {\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]').removeClass('d-none');\n\t\t\t\t\tvar selectedOptionValue = modulesSelectElement.val();\n\t\t\t\t\tjQuery('[name=\"tagSearchModuleResults\"]')\n\t\t\t\t\t\t.filter(':not(#' + selectedOptionValue + ')')\n\t\t\t\t\t\t.addClass('d-none');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterEventForRelatedTabClick: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tvar detailContainer = detailContentsHolder.closest('div.detailViewInfo');\n\n\t\t\tjQuery('.related', detailContainer).on('click', 'li:not(.spaceRelatedList)', function(e, urlAttributes) {\n\t\t\t\tvar tabElement = jQuery(e.currentTarget);\n\t\t\t\tif (!tabElement.hasClass('dropdown')) {\n\t\t\t\t\tvar element = jQuery('<div></div>');\n\t\t\t\t\telement.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: detailContainer\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar url = tabElement.data('url');\n\t\t\t\t\tif (typeof urlAttributes !== 'undefined') {\n\t\t\t\t\t\tvar callBack = urlAttributes.callback;\n\t\t\t\t\t\tdelete urlAttributes.callback;\n\t\t\t\t\t}\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.loadContents(url, urlAttributes)\n\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\tthisInstance.deSelectAllrelatedTabs();\n\t\t\t\t\t\t\tthisInstance.markTabAsSelected(tabElement);\n\t\t\t\t\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tthisInstance.registerHelpInfo();\n\t\t\t\t\t\t\tapp.registerModal(detailContentsHolder);\n\t\t\t\t\t\t\tif (typeof callBack == 'function') {\n\t\t\t\t\t\t\t\tcallBack(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//Summary tab is clicked\n\t\t\t\t\t\t\tif (tabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\t\t\tthisInstance.loadWidgets();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthisInstance.registerBasicEvents();\n\t\t\t\t\t\t\t// Let listeners know about page state change.\n\t\t\t\t\t\t\tapp.notifyPostAjaxReady();\n\t\t\t\t\t\t\tapp.event.trigger('DetailView.Tab.AfterLoad', data, thisInstance);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function() {\n\t\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event for setting up picklistdependency\n\t\t * for a module if exist on change of picklist value\n\t\t */\n\t\tregisterEventForPicklistDependencySetup: function(container) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar picklistDependcyElemnt = jQuery('[name=\"picklistDependency\"]', container);\n\t\t\tif (picklistDependcyElemnt.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar picklistDependencyMapping = JSON.parse(picklistDependcyElemnt.val());\n\t\t\tvar sourcePicklists = Object.keys(picklistDependencyMapping);\n\t\t\tif (sourcePicklists.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar sourcePickListNames = [];\n\t\t\tfor (var i = 0; i < sourcePicklists.length; i++) {\n\t\t\t\tsourcePickListNames.push('[name=\"' + sourcePicklists[i] + '\"]');\n\t\t\t}\n\t\t\tsourcePickListNames = sourcePickListNames.join(',');\n\t\t\tvar sourcePickListElements = container.find(sourcePickListNames);\n\t\t\tsourcePickListElements.on('change', function(e) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tvar sourcePicklistname = currentElement.attr('name');\n\n\t\t\t\tvar configuredDependencyObject = picklistDependencyMapping[sourcePicklistname];\n\t\t\t\tvar selectedValue = currentElement.val();\n\t\t\t\tvar targetObjectForSelectedSourceValue = configuredDependencyObject[selectedValue];\n\t\t\t\tvar picklistmap = configuredDependencyObject['__DEFAULT__'];\n\n\t\t\t\tif (typeof targetObjectForSelectedSourceValue === 'undefined') {\n\t\t\t\t\ttargetObjectForSelectedSourceValue = picklistmap;\n\t\t\t\t}\n\t\t\t\tjQuery.each(picklistmap, function(targetPickListName, targetPickListValues) {\n\t\t\t\t\tvar targetPickListMap = targetObjectForSelectedSourceValue[targetPickListName];\n\t\t\t\t\tif (typeof targetPickListMap === 'undefined') {\n\t\t\t\t\t\ttargetPickListMap = targetPickListValues;\n\t\t\t\t\t}\n\t\t\t\t\tvar targetPickList = jQuery('[name=\"' + targetPickListName + '\"]', container);\n\t\t\t\t\tif (targetPickList.length <= 0) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//On change of SourceField value, If TargetField value is not there in mapping, make user to select the new target value also.\n\t\t\t\t\tvar selectedValue = targetPickList.data('selectedValue');\n\t\t\t\t\tif (jQuery.inArray(selectedValue, targetPickListMap) == -1) {\n\t\t\t\t\t\tthisInstance.targetPicklistChange = true;\n\t\t\t\t\t\tthisInstance.targetPicklist = targetPickList.closest('td');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthisInstance.targetPicklistChange = false;\n\t\t\t\t\t\tthisInstance.targetPicklist = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar listOfAvailableOptions = targetPickList.data('availableOptions');\n\t\t\t\t\tif (typeof listOfAvailableOptions === 'undefined') {\n\t\t\t\t\t\tlistOfAvailableOptions = jQuery('option', targetPickList);\n\t\t\t\t\t\ttargetPickList.data('available-options', listOfAvailableOptions);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar targetOptions = new jQuery();\n\t\t\t\t\tvar optionSelector = [];\n\t\t\t\t\toptionSelector.push('');\n\t\t\t\t\tfor (var i = 0; i < targetPickListMap.length; i++) {\n\t\t\t\t\t\toptionSelector.push(targetPickListMap[i]);\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.each(listOfAvailableOptions, function(i, e) {\n\t\t\t\t\t\tvar picklistValue = jQuery(e).val();\n\t\t\t\t\t\tif (jQuery.inArray(picklistValue, optionSelector) != -1) {\n\t\t\t\t\t\t\ttargetOptions = targetOptions.add(jQuery(e));\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar targetPickListSelectedValue = '';\n\t\t\t\t\ttargetPickListSelectedValue = targetOptions.filter('[selected]').val();\n\t\t\t\t\tif (targetPickListMap.length == 1) {\n\t\t\t\t\t\ttargetPickListSelectedValue = targetPickListMap[0]; // to automatically select picklist if only one picklistmap is present.\n\t\t\t\t\t}\n\t\t\t\t\ttargetPickList\n\t\t\t\t\t\t.html(targetOptions)\n\t\t\t\t\t\t.val(targetPickListSelectedValue)\n\t\t\t\t\t\t.trigger('change');\n\t\t\t\t});\n\t\t\t});\n\t\t\t//To Trigger the change on load\n\t\t\tsourcePickListElements.trigger('change');\n\t\t},\n\t\t/**\n\t\t * Function to get child comments\n\t\t */\n\t\tgetChildComments: function(commentId) {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar url =\n\t\t\t\t'module=' +\n\t\t\t\tapp.getModuleName() +\n\t\t\t\t'&view=Detail&record=' +\n\t\t\t\tthis.getRecordId() +\n\t\t\t\t'&mode=showChildComments&commentid=' +\n\t\t\t\tcommentId;\n\t\t\tvar dataObj = this.getCommentThread(url);\n\t\t\tdataObj.done(function(data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to get parent comment\n\t\t * @param {number} commentId\n\t\t * @returns {string}\n\t\t */\n\t\tgetParentComments(commentId) {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\turl =\n\t\t\t\t\t'module=' +\n\t\t\t\t\tapp.getModuleName() +\n\t\t\t\t\t'&view=Detail&record=' +\n\t\t\t\t\tthis.getRecordId() +\n\t\t\t\t\t'&mode=showParentComments&commentid=' +\n\t\t\t\t\tcommentId;\n\t\t\tthis.getCommentThread(url).done(function(data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to show total records count in listview on hover\n\t\t * of pageNumber text\n\t\t */\n\t\tregisterEventForTotalRecordsCount: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = this.getContentHolder();\n\t\t\tdetailContentsHolder.on('click', '.totalNumberOfRecords', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\t\telement.addClass('d-none');\n\t\t\t\telement.parent().progressIndicator({});\n\t\t\t\tif (totalNumberOfRecords == '') {\n\t\t\t\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t\t\tvar relatedModuleName = thisInstance.getRelatedModuleName();\n\t\t\t\t\tvar relatedController = Vtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\tthisInstance.getRecordId(),\n\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\tselectedTabElement,\n\t\t\t\t\t\trelatedModuleName\n\t\t\t\t\t);\n\t\t\t\t\trelatedController.getRelatedPageCount().done(function() {\n\t\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthisInstance.showPagingInfo();\n\t\t\t\t}\n\t\t\t\telement.parent().progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tshowPagingInfo: function() {\n\t\t\tvar totalNumberOfRecords = jQuery('#totalCount').val();\n\t\t\tvar pageNumberElement = jQuery('.pageNumbersText');\n\t\t\tvar pageRange = pageNumberElement.text();\n\t\t\tvar newPagingInfo = pageRange + ' (' + totalNumberOfRecords + ')';\n\t\t\tvar listViewEntriesCount = parseInt(jQuery('#noOfEntries').val());\n\t\t\tif (listViewEntriesCount != 0) {\n\t\t\t\tjQuery('.pageNumbersText').html(newPagingInfo);\n\t\t\t} else {\n\t\t\t\tjQuery('.pageNumbersText').html('');\n\t\t\t}\n\t\t},\n\t\tgetCustomFieldNameValueMap: function(fieldNameValueMap) {\n\t\t\treturn fieldNameValueMap;\n\t\t},\n\t\tregisterSetReadRecord: function(detailContentsHolder) {\n\t\t\tvar thisInstance = this;\n\t\t\tdetailContentsHolder.on('click', '.setReadRecord', function(e) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tcurrentElement.closest('.btn-group').addClass('d-none');\n\t\t\t\tjQuery('#Accounts_detailView_fieldValue_was_read')\n\t\t\t\t\t.find('.value')\n\t\t\t\t\t.text(app.vtranslate('LBL_YES'));\n\t\t\t\tvar params = {\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\taction: 'SaveAjax',\n\t\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\t\tfield: 'was_read',\n\t\t\t\t\tvalue: 'on'\n\t\t\t\t};\n\t\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_SET_READ_RECORD'),\n\t\t\t\t\t\ttitle: app.vtranslate('System'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t\tvar relatedTabKey = jQuery('.related li.active');\n\t\t\t\t\tif (\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewSummaryTabLabel ||\n\t\t\t\t\t\trelatedTabKey.data('linkKey') == thisInstance.detailViewDetailsTabLabel\n\t\t\t\t\t) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterFastEditingFiels: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar fastEditingFiels = jQuery('.summaryWidgetFastEditing select');\n\t\t\tfastEditingFiels.on('change', function(e) {\n\t\t\t\tvar fieldElement = jQuery(e.currentTarget);\n\t\t\t\tvar fieldContainer = fieldElement.closest('.editField');\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\tposition: 'summaryWidgetFastEditing',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar fieldName = fieldContainer.data('fieldname');\n\t\t\t\tfieldName = fieldName.replace('q_', '');\n\t\t\t\tvar fieldValue = fieldElement.val();\n\t\t\t\tvar errorExists = fieldElement.validationEngine('validate');\n\t\t\t\tif (errorExists) {\n\t\t\t\t\tfieldContainer.progressIndicator({ mode: 'hide' });\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar preFieldSaveEvent = jQuery.Event(thisInstance.fieldPreSave);\n\t\t\t\tfieldElement.trigger(preFieldSaveEvent, {\n\t\t\t\t\tfieldValue: fieldValue,\n\t\t\t\t\trecordId: thisInstance.getRecordId()\n\t\t\t\t});\n\t\t\t\tvar fieldNameValueMap = {};\n\t\t\t\tfieldNameValueMap['value'] = fieldValue;\n\t\t\t\tfieldNameValueMap['field'] = fieldName;\n\t\t\t\tfieldNameValueMap = thisInstance.getCustomFieldNameValueMap(fieldNameValueMap);\n\t\t\t\tthisInstance.saveFieldValues(fieldNameValueMap);\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tvar params = {\n\t\t\t\t\ttitle: app.vtranslate('JS_SAVE_NOTIFY_OK'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t};\n\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t});\n\t\t},\n\t\tregisterHelpInfo: function() {\n\t\t\tvar form = this.getForm();\n\t\t\tapp.showPopoverElementView(form.find('.js-help-info'));\n\t\t},\n\t\t/**\n\t\t * Register related modules record cound\n\t\t * @param {jQuery} tabContainer\n\t\t */\n\t\tregisterRelatedModulesRecordCount(tabContainer) {\n\t\t\tconst moreList = $('.related .nav .dropdown-menu');\n\t\t\tlet relationContainer = tabContainer;\n\t\t\tif (!relationContainer || typeof relationContainer.length === 'undefined') {\n\t\t\t\trelationContainer = $(\n\t\t\t\t\t'.related .nav > .relatedNav, .related .nav > .mainNav, .detailViewBlockLink, .related .nav .dropdown-menu > .relatedNav'\n\t\t\t\t);\n\t\t\t}\n\t\t\trelationContainer.each((n, item) => {\n\t\t\t\titem = $(item);\n\t\t\t\tlet relationId = item.data('relationId'),\n\t\t\t\t\trelatedModule = item.data('reference');\n\t\t\t\tif (item.data('count') === 1) {\n\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\trelatedModule: relatedModule,\n\t\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\t\trelationId: relationId,\n\t\t\t\t\t\ttab_label: item.data('label-key')\n\t\t\t\t\t}).done(response => {\n\t\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\t\tif (response.result.numberOfRecords === 0) {\n\t\t\t\t\t\t\t\tresponse.result.numberOfRecords = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\titem.find('.count').text(response.result.numberOfRecords);\n\t\t\t\t\t\t\tmoreList\n\t\t\t\t\t\t\t\t.find('[data-reference=\"${relatedModule}\"][data-relation-id=\"${relationId}\"] .count')\n\t\t\t\t\t\t\t\t.text(response.result.numberOfRecords);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to display a new comments\n\t\t */\n\t\taddComment: function(currentTarget, data) {\n\t\t\tconst self = this;\n\t\t\tlet mode = currentTarget.data('mode'),\n\t\t\t\tclosestAddCommentBlock = currentTarget.closest('.js-add-comment-block'),\n\t\t\t\tcommentTextAreaElement = closestAddCommentBlock.find('.js-comment-content'),\n\t\t\t\tcommentInfoBlock = currentTarget.closest('.js-comment-single');\n\t\t\tcommentTextAreaElement.html('');\n\t\t\tif (mode == 'add') {\n\t\t\t\tlet commentId = data['result']['id'],\n\t\t\t\t\tcommentHtml = self.getCommentUI(commentId);\n\t\t\t\tcommentHtml.done(function(data) {\n\t\t\t\t\tlet commentBlock = closestAddCommentBlock.closest('.js-comment-details'),\n\t\t\t\t\t\tdetailContentsHolder = self.getContentHolder(),\n\t\t\t\t\t\tnoCommentsMsgContainer = $('.js-noCommentsMsgContainer', detailContentsHolder);\n\t\t\t\t\tnoCommentsMsgContainer.remove();\n\t\t\t\t\tif (commentBlock.length > 0) {\n\t\t\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\t\t\tlet childComments = commentBlock.find('ul');\n\t\t\t\t\t\tif (childComments.length <= 0) {\n\t\t\t\t\t\t\tlet currentChildCommentsCount = commentInfoBlock\n\t\t\t\t\t\t\t\t\t.find('.js-view-thread-block')\n\t\t\t\t\t\t\t\t\t.data('data-child-comments-count'),\n\t\t\t\t\t\t\t\tnewChildCommentCount = currentChildCommentsCount + 1;\n\t\t\t\t\t\t\tcommentInfoBlock.find('.js-child-comments-count').text(newChildCommentCount);\n\t\t\t\t\t\t\tlet parentCommentId = commentInfoBlock.find('.js-comment-info-header').data('commentid');\n\t\t\t\t\t\t\tself.getChildComments(parentCommentId).done(function(responsedata) {\n\t\t\t\t\t\t\t\t$(responsedata).appendTo(commentBlock);\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.js-view-thread-block').hide();\n\t\t\t\t\t\t\t\tcommentInfoBlock.find('.hideThreadBlock').show();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').appendTo(\n\t\t\t\t\t\t\t\tcommentBlock.find('.js-comments-body')\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('<li class=\"js-comment-details commentDetails\">' + data + '</li>').prependTo(\n\t\t\t\t\t\t\tclosestAddCommentBlock.closest('.contents').find('.commentsList')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterLoad', commentInfoBlock, data);\n\t\t\t\t});\n\t\t\t} else if (mode == 'edit') {\n\t\t\t\tlet modifiedTime = commentInfoBlock.find('.js-comment-modified-time'),\n\t\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\tcommentEditStatus = commentInfoBlock.find('.js-edited-status'),\n\t\t\t\t\tcommentReason = commentInfoBlock.find('.js-edit-reason-span');\n\t\t\t\tcommentInfoContent.html(data.result.commentcontent);\n\t\t\t\tcommentReason.html(data.result.reasontoedit);\n\t\t\t\tmodifiedTime.html(data.result.modifiedtime);\n\t\t\t\tmodifiedTime.attr('title', data.result.modifiedtimetitle);\n\t\t\t\tif (commentEditStatus.hasClass('d-none')) {\n\t\t\t\t\tcommentEditStatus.removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tif (data.result.reasontoedit != '') {\n\t\t\t\t\tcommentInfoBlock.find('.js-edit-reason').removeClass('d-none');\n\t\t\t\t}\n\t\t\t\tcommentInfoContent.show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tclosestAddCommentBlock.remove();\n\t\t\t\tapp.event.trigger('DetailView.SaveComment.AfterUpdate', commentInfoBlock, data);\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register all comment events\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tregisterCommentEvents(detailContentsHolder) {\n\t\t\tconst self = this;\n\t\t\tdetailContentsHolder.on('click', '.js-close-comment-block', function(e) {\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget.closest('.js-comment-single'));\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').show();\n\t\t\t\tcommentInfoBlock.find('.js-comment-info').show();\n\t\t\t\tself.removeCommentBlockIfExists();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-reply-comment', function(e) {\n\t\t\t\tself.removeCommentBlockIfExists();\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single');\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\t\tself.getCommentBlock()\n\t\t\t\t\t.appendTo(commentInfoBlock)\n\t\t\t\t\t.show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-edit-comment', function(e) {\n\t\t\t\tself.removeCommentBlockIfExists();\n\t\t\t\tlet commentInfoBlock = $(e.currentTarget).closest('.js-comment-single'),\n\t\t\t\t\tcommentInfoContent = commentInfoBlock.find('.js-comment-info'),\n\t\t\t\t\teditCommentBlock = self.getEditCommentBlock();\n\t\t\t\teditCommentBlock.find('.js-comment-content').html(commentInfoContent.html());\n\t\t\t\teditCommentBlock.find('.js-reason-to-edit').html(commentInfoBlock.find('.js-edit-reason-span').text());\n\t\t\t\tcommentInfoContent.hide();\n\t\t\t\tcommentInfoBlock.find('.js-comment-container').hide();\n\t\t\t\teditCommentBlock.appendTo(commentInfoBlock).show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-detail-view-save-comment', function(e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself.saveComment(e)\n\t\t\t\t\t\t.done(function() {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t\tself.loadWidget(detailContentsHolder.find(\"[data-type='Comments']\")).done(function() {\n\t\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-save-comment', function(e) {\n\t\t\t\tlet element = $(e.currentTarget);\n\t\t\t\tif (!element.is(':disabled')) {\n\t\t\t\t\tself.saveComment(e)\n\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\tself.registerRelatedModulesRecordCount(\n\t\t\t\t\t\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tself.addComment(element, data);\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\telement.removeAttr('disabled');\n\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-more-recent-comments ', function() {\n\t\t\t\tself.getTabByLabel(self.detailViewRecentCommentsTabLabel).trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments-btn').on('click', function(e) {\n\t\t\t\tif (\n\t\t\t\t\t$(this).hasClass('active') &&\n\t\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments-btn.active').length < 2\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet recentCommentsTab = self.getTabByLabel(self.detailViewRecentCommentsTabLabel),\n\t\t\t\t\turl = recentCommentsTab.data('url'),\n\t\t\t\t\tregex = /&hierarchy=+([\\w,]+)/;\n\t\t\t\turl = url.replace(regex, '');\n\t\t\t\tlet hierarchy = [];\n\t\t\t\tif ($(this).hasClass('active')) {\n\t\t\t\t\t$(this).removeClass('active');\n\t\t\t\t} else {\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t}\n\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments-btn.active').each(function() {\n\t\t\t\t\thierarchy.push(\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.find('.js-detail-hierarchy-comments')\n\t\t\t\t\t\t\t.val()\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tif (hierarchy.length !== 0) {\n\t\t\t\t\turl += '&hierarchy=' + hierarchy.join(',');\n\t\t\t\t}\n\t\t\t\trecentCommentsTab.data('url', url);\n\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('keypress', '.js-comment-search', function(e) {\n\t\t\t\tif (13 === e.which) {\n\t\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-search-icon', function(e) {\n\t\t\t\tself.submitSearchForm(detailContentsHolder);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Submit search comment form\n\t\t * @param {jQuery} detailContentsHolder\n\t\t */\n\t\tsubmitSearchForm(detailContentsHolder) {\n\t\t\tlet searchTextDom = detailContentsHolder.find('.js-comment-search'),\n\t\t\t\twidgetContainer = searchTextDom.closest('[data-name=\"ModComments\"]'),\n\t\t\t\tprogressIndicatorElement = $.progressIndicator();\n\t\t\tif (searchTextDom.data('container') === 'widget' && !searchTextDom.val()) {\n\t\t\t\tlet request = widgetContainer.data('url');\n\t\t\t\tAppConnector.request(request).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tdetailContentsHolder.find('.js-comments-container').html(data);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet hierarchy = [],\n\t\t\t\t\tlimit = '',\n\t\t\t\t\tisWidget = false;\n\t\t\t\tif (searchTextDom.data('container') === 'widget') {\n\t\t\t\t\t(limit = widgetContainer.data('limit')), (isWidget = true);\n\t\t\t\t\twidgetContainer.find('.js-hierarchy-comments:checked').each(function() {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tdetailContentsHolder.find('.js-detail-hierarchy-comments:checked').each(function() {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showSearchComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\tlimit: limit,\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tsearch_key: searchTextDom.val(),\n\t\t\t\t\tis_widget: isWidget\n\t\t\t\t}).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (!searchTextDom.val()) {\n\t\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdetailContentsHolder.find('.js-comments-body').html(data);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Register hierarchy comments buttons\n\t\t * @param {jQuery} widgetContainer\n\t\t */\n\t\tregisterCommentEventsInDetail(widgetContainer) {\n\t\t\tnew App.Fields.Text.Completions($('.js-completions').eq(0), { emojiPanel: false });\n\t\t\twidgetContainer.on('change', '.js-hierarchy-comments', function(e) {\n\t\t\t\tlet hierarchy = [];\n\t\t\t\twidgetContainer.find('.js-hierarchy-comments').each(function() {\n\t\t\t\t\tif ($(this).is(':checked')) {\n\t\t\t\t\t\thierarchy.push($(this).val());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\tmode: 'showRecentComments',\n\t\t\t\t\thierarchy: hierarchy.join(','),\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tlimit: widgetContainer.find('.widgetContentBlock').data('limit')\n\t\t\t\t}).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tlet widgetDataContainer = widgetContainer.find('.js-detail-widget-content');\n\t\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(widgetDataContainer.find('.select2'));\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterMailPreviewWidget: function(container) {\n\t\t\tconst self = this;\n\t\t\tcontainer.on('click', '.showMailBody', e => {\n\t\t\t\tlet row = $(e.currentTarget).closest('.row'),\n\t\t\t\t\tmailBody = row.find('.mailBody'),\n\t\t\t\t\tmailTeaser = row.find('.mailTeaser');\n\t\t\t\tmailBody.toggleClass('d-none');\n\t\t\t\tmailTeaser.toggleClass('d-none');\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mail-type\"]').on('change', function(e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.find('[name=\"mailFilter\"]').on('change', function(e) {\n\t\t\t\tself.loadMailPreviewWidget(container);\n\t\t\t});\n\t\t\tcontainer.on('click', '.showMailsModal', e => {\n\t\t\t\tlet url = $(e.currentTarget).data('url');\n\t\t\t\turl += '&type=' + container.find('[name=\"mail-type\"]').val();\n\t\t\t\tif (container.find('[name=\"mailFilter\"]').length > 0) {\n\t\t\t\t\turl += '&mailFilter=' + container.find('[name=\"mailFilter\"]').val();\n\t\t\t\t}\n\t\t\t\tlet progressIndicatorElement = jQuery.progressIndicator();\n\t\t\t\tapp.showModalWindow('', url, data => {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tself.registerMailPreviewWidget(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(data);\n\t\t\t\t\tdata.find('.expandAllMails').click();\n\t\t\t\t});\n\t\t\t});\n\t\t\tcontainer.find('.expandAllMails').on('click', function(e) {\n\t\t\t\tcontainer.find('.mailBody').removeClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').addClass('d-none');\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.showMailBody .js-toggle-icon')\n\t\t\t\t\t.removeClass('fa-caret-down')\n\t\t\t\t\t.addClass('fa-caret-up');\n\t\t\t});\n\t\t\tcontainer.find('.collapseAllMails').on('click', function(e) {\n\t\t\t\tcontainer.find('.mailBody').addClass('d-none');\n\t\t\t\tcontainer.find('.mailTeaser').removeClass('d-none');\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.showMailBody .js-toggle-icon')\n\t\t\t\t\t.removeClass('fa-caret-up')\n\t\t\t\t\t.addClass('fa-caret-down');\n\t\t\t});\n\t\t},\n\t\tloadMailPreviewWidget: function(widgetContent) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar widgetDataContainer = widgetContent.find('.js-detail-widget-content');\n\t\t\tvar recordId = $('#recordId').val();\n\t\t\tvar progress = widgetDataContainer.progressIndicator();\n\t\t\tvar params = {};\n\t\t\tparams['module'] = 'OSSMailView';\n\t\t\tparams['view'] = 'Widget';\n\t\t\tparams['smodule'] = $('#module').val();\n\t\t\tparams['srecord'] = recordId;\n\t\t\tparams['mode'] = 'showEmailsList';\n\t\t\tparams['type'] = $('[name=\"mail-type\"]').val();\n\t\t\tparams['mailFilter'] = $('[name=\"mailFilter\"]').val();\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\twidgetDataContainer.html(data);\n\t\t\t\tapp.event.trigger('DetailView.Widget.AfterLoad', widgetDataContainer, params['module'], thisInstance);\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterEmailEvents: function(detailContentsHolder) {\n\t\t\tVtiger_Index_Js.registerMailButtons(detailContentsHolder);\n\t\t},\n\t\tregisterMapsEvents: function(container) {\n\t\t\tif (container.find('#coordinates').length) {\n\t\t\t\tvar mapView = new OpenStreetMap_Map_Js();\n\t\t\t\tmapView.registerDetailView(container);\n\t\t\t}\n\t\t},\n\t\tregisterSocialMediaEvents(container) {\n\t\t\tlet socialMediaContainer = container.find('.tpl-Detail-SocialMedia');\n\t\t\tif (socialMediaContainer.length) {\n\t\t\t}\n\t\t},\n\t\tregisterShowSummary: function(container) {\n\t\t\tcontainer.on('click', '.showSummaryRelRecord', function(e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar id = currentTarget.data('id');\n\t\t\t\tvar summaryView = container.find('.summaryRelRecordView' + id);\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'none');\n\t\t\t\tsummaryView.show();\n\t\t\t});\n\t\t\tcontainer.on('click', '.hideSummaryRelRecordView', function(e) {\n\t\t\t\tvar summaryView = container.find('.summaryRelRecordView');\n\t\t\t\tcontainer.find('.listViewEntriesTable').css('display', 'table');\n\t\t\t\tsummaryView.hide();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Show confirmation on event click\n\t\t * @param {jQuery} element\n\t\t * @param {string} picklistName\n\t\t */\n\t\tshowProgressConfirmation(element, picklistName) {\n\t\t\tconst self = this;\n\t\t\tlet picklistValue = $(element).data('picklistValue');\n\t\t\tVtiger_Helper_Js.showConfirmationBox({\n\t\t\t\ttitle: $(element).data('picklistLabel'),\n\t\t\t\tmessage: app.vtranslate('JS_CHANGE_VALUE_CONFIRMATION')\n\t\t\t}).done(() => {\n\t\t\t\tconst progressIndicatorElement = $.progressIndicator();\n\t\t\t\tself.saveFieldValues({\n\t\t\t\t\tvalue: picklistValue,\n\t\t\t\t\tfield: picklistName\n\t\t\t\t})\n\t\t\t\t\t.done(() => {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Change status from progress\n\t\t */\n\t\tregisterProgress() {\n\t\t\tconst self = this;\n\t\t\t$('.js-header-progress-bar').each((index, element) => {\n\t\t\t\tlet picklistName = $(element).data('picklistName');\n\t\t\t\t$(element)\n\t\t\t\t\t.find('.js-access')\n\t\t\t\t\t.on('click', e => {\n\t\t\t\t\t\tself.showProgressConfirmation(e.currentTarget, picklistName);\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tloadChat() {\n\t\t\tlet chatVue = $('#ChatRecordRoomVue', this.detailViewContentHolder);\n\t\t\tif (chatVue.length) {\n\t\t\t\tlet chatContainer = this.detailViewContentHolder.find('.js-chat-container');\n\t\t\t\tconst padding = 10;\n\t\t\t\tchatContainer.height(\n\t\t\t\t\t$(document).height() - chatContainer.offset().top - $('.js-footer').outerHeight() - padding\n\t\t\t\t);\n\t\t\t\twindow.ChatRecordRoomVueComponent.mount({\n\t\t\t\t\tel: '#ChatRecordRoomVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window.ChatRecordRoomVueComponent !== undefined) {\n\t\t\t\tthis.loadChat();\n\t\t\t\tapp.event.on('DetailView.Tab.AfterLoad', (e, data, instance) => {\n\t\t\t\t\tinstance.detailViewContentHolder.ready(() => {\n\t\t\t\t\t\tthis.loadChat();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterBasicEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\t\tvar selectedTabElement = thisInstance.getSelectedTab();\n\t\t\t//register all the events for summary view container\n\n\t\t\tif (this.getSelectedTab().data('labelKey') === 'ModComments') {\n\t\t\t\tnew App.Fields.Text.Completions(detailContentsHolder.find('.js-completions'), { emojiPanel: false });\n\t\t\t}\n\t\t\tthisInstance.registerSummaryViewContainerEvents(detailContentsHolder);\n\t\t\tthisInstance.registerCommentEvents(detailContentsHolder);\n\t\t\tthisInstance.registerEmailEvents(detailContentsHolder);\n\t\t\tthisInstance.registerMapsEvents(detailContentsHolder);\n\t\t\tthisInstance.registerSocialMediaEvents(detailContentsHolder);\n\t\t\tthisInstance.registerSubProducts(detailContentsHolder);\n\t\t\tthisInstance.registerCollapsiblePanels(detailContentsHolder);\n\t\t\tApp.Fields.Date.register(detailContentsHolder);\n\t\t\tApp.Fields.DateTime.register(detailContentsHolder);\n\t\t\tApp.Fields.MultiImage.register(detailContentsHolder);\n\t\t\t//Attach time picker event to time fields\n\t\t\tapp.registerEventForClockPicker();\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(detailContentsHolder.find('select.select2'));\n\t\t\tnew App.Fields.Text.Editor(detailContentsHolder, { toolbar: 'Min' });\n\t\t\tdetailContentsHolder.on('click', '#detailViewNextRecordButton', function(e) {\n\t\t\t\tvar url = selectedTabElement.data('url');\n\t\t\t\tvar currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tvar requestedPage = parseInt(currentPageNum) + 1;\n\t\t\t\tvar nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '#detailViewPreviousRecordButton', function(e) {\n\t\t\t\tvar url = selectedTabElement.data('url');\n\t\t\t\tvar currentPageNum = thisInstance.getRelatedListCurrentPageNum();\n\t\t\t\tvar requestedPage = parseInt(currentPageNum) - 1;\n\t\t\t\tvar params = {};\n\t\t\t\tvar nextPageUrl = url + '&page=' + requestedPage;\n\t\t\t\tthisInstance.loadContents(nextPageUrl);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', 'div.detailViewTable div.fieldValue:not(.is-edit-active)', function(e) {\n\t\t\t\tlet target = $(e.target);\n\t\t\t\tif (target.closest('a').hasClass('btnNoFastEdit') || target.hasClass('btnNoFastEdit')) return;\n\t\t\t\tlet currentTdElement = jQuery(e.currentTarget);\n\t\t\t\tcurrentTdElement.addClass('is-edit-active');\n\t\t\t\tthisInstance.ajaxEditHandling(currentTdElement);\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', 'div.recordDetails span.squeezedWell', function(e) {\n\t\t\t\tvar currentElement = jQuery(e.currentTarget);\n\t\t\t\tvar relatedLabel = currentElement.data('reference');\n\t\t\t\tjQuery('.detailViewInfo .related .nav > li[data-reference=\"' + relatedLabel + '\"]').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.relatedPopup', function(e) {\n\t\t\t\tvar editViewObj = new Vtiger_Edit_Js();\n\t\t\t\teditViewObj.showRecordsList(e);\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.viewThread', function(e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentActionsBlock = currentTarget.closest('.js-comment-actions'),\n\t\t\t\t\tcurrentCommentBlock = currentTarget.closest('.js-comment-details'),\n\t\t\t\t\tulElements = currentCommentBlock.find('ul');\n\t\t\t\tif (ulElements.length > 0) {\n\t\t\t\t\tulElements.show();\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar commentId = currentTarget\n\t\t\t\t\t.closest('.js-comment-div')\n\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t.data('commentid');\n\t\t\t\tthisInstance.getChildComments(commentId).done(function(data) {\n\t\t\t\t\tjQuery(data).appendTo(jQuery(e.currentTarget).closest('.js-comment-details'));\n\t\t\t\t\tcommentActionsBlock.find('.hideThreadBlock').show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-view-parent-thread', function(e) {\n\t\t\t\tlet currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\tcurrentTargetParent = currentTarget.parent(),\n\t\t\t\t\tcommentId = currentTarget\n\t\t\t\t\t\t.closest('.js-comment-div')\n\t\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t\t.data('commentid');\n\t\t\t\tthisInstance.getParentComments(commentId).done(function(data) {\n\t\t\t\t\t$(e.currentTarget.closest('.js-comment-details')).html(data);\n\t\t\t\t\tcurrentTarget\n\t\t\t\t\t\t.closest('.js-comment-actions')\n\t\t\t\t\t\t.find('.hideThreadBlock')\n\t\t\t\t\t\t.show();\n\t\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.js-fab__btn', e => {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('.js-fab__container')\n\t\t\t\t\t.toggleClass('q-fab--opened');\n\t\t\t});\n\t\t\tdetailContentsHolder.find('.js-fab__container').on('clickoutside', e => {\n\t\t\t\t$(e.currentTarget).removeClass('q-fab--opened');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.hideThread', function(e) {\n\t\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\t\tvar currentTargetParent = currentTarget.parent();\n\t\t\t\tvar commentActionsBlock = currentTarget.closest('.js-comment-actions');\n\t\t\t\tvar currentCommentBlock = currentTarget.closest('.js-comment-details');\n\t\t\t\tcurrentCommentBlock.find('ul').hide();\n\t\t\t\tcurrentTargetParent.hide();\n\t\t\t\tcommentActionsBlock.find('.js-view-thread-block').show();\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.detailViewThread', function(e) {\n\t\t\t\tvar recentCommentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentCommentsTabLabel);\n\t\t\t\tvar commentId = jQuery(e.currentTarget)\n\t\t\t\t\t.closest('.js-comment-single')\n\t\t\t\t\t.find('.js-comment-info-header')\n\t\t\t\t\t.data('commentid');\n\t\t\t\tvar commentLoad = function(data) {\n\t\t\t\t\twindow.location.href = window.location.href + '#' + commentId;\n\t\t\t\t};\n\t\t\t\trecentCommentsTab.trigger('click', { commentid: commentId, callback: commentLoad });\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentRecords', function(e) {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar recentCommentsTab = thisInstance.getTabByModule(\n\t\t\t\t\t$(this).data('label-key'),\n\t\t\t\t\t$(this).data('relation-id')\n\t\t\t\t);\n\t\t\t\tif (recentCommentsTab.length) {\n\t\t\t\t\trecentCommentsTab.trigger('click');\n\t\t\t\t} else {\n\t\t\t\t\tlet currentTarget = $(e.currentTarget),\n\t\t\t\t\t\tcontainer = currentTarget.closest(\"[class^='widgetContainer_']\");\n\t\t\t\t\tif (container.length) {\n\t\t\t\t\t\tlet page = container.find('[name=\"page\"]:last').val(),\n\t\t\t\t\t\t\turl = container.data('url');\n\t\t\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\t\t\turl = url.replace('&page=1', '&page=' + ++page);\n\t\t\t\t\t\tAppConnector.request(url).done(function(data) {\n\t\t\t\t\t\t\tlet dataObj = $(data),\n\t\t\t\t\t\t\t\tcontainerTable = container.find('.js-detail-widget-content table');\n\t\t\t\t\t\t\tcurrentTarget.prop('disabled', false).addClass('d-none');\n\t\t\t\t\t\t\tcontainer.find('[name=\"page\"]:last').val(dataObj.find('[name=\"page\"]').val());\n\t\t\t\t\t\t\tif (containerTable.length) {\n\t\t\t\t\t\t\t\tcontainerTable.append(dataObj.find('tbody tr'));\n\t\t\t\t\t\t\t\tif (dataObj.find('.moreRecentRecords').length) {\n\t\t\t\t\t\t\t\t\tcurrentTarget.removeClass('d-none');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(dataObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tdetailContentsHolder.on('change', '.relatedHistoryTypes', function(e) {\n\t\t\t\tlet widgetContent = jQuery(this)\n\t\t\t\t\t\t.closest('.widgetContentBlock')\n\t\t\t\t\t\t.find('.widgetContent'),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: 1,\n\t\t\t\t\tlimit: widgetContent.find('.js-relatedHistoryPageLimit').val(),\n\t\t\t\t\ttype: $(e.currentTarget).val()\n\t\t\t\t}).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.html(data);\n\t\t\t\t\tVtiger_Index_Js.registerMailButtons(widgetContent);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreProductsService', function() {\n\t\t\t\tjQuery('.related .mainNav[data-reference=\"ProductsAndServices\"]:not(.d-none)').trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRelatedUpdates', function() {\n\t\t\t\tvar widgetContainer = jQuery(this).closest('.widgetContentBlock');\n\t\t\t\tvar widgetContent = widgetContainer.find('.widgetContent');\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true,\n\t\t\t\t\t\telementToBlock: widgetContent\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar currentPage = widgetContent.find('#relatedHistoryCurrentPage').val();\n\t\t\t\tvar nextPage = parseInt(currentPage) + 1;\n\t\t\t\tvar types = widgetContainer.find('.relatedHistoryTypes').val();\n\t\t\t\tvar pageLimit = widgetContent.find('#relatedHistoryPageLimit').val();\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\tview: 'Detail',\n\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\tmode: 'showRecentRelation',\n\t\t\t\t\tpage: nextPage,\n\t\t\t\t\tlimit: pageLimit,\n\t\t\t\t\ttype: types\n\t\t\t\t}).done(function(data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\twidgetContent.find('#relatedHistoryCurrentPage').remove();\n\t\t\t\t\twidgetContent.find('#moreRelatedUpdates').remove();\n\t\t\t\t\twidgetContent.find('#relatedUpdates').append(data);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentUpdates', function(e) {\n\t\t\t\tconst container = $(e.currentTarget).closest('.recentActivitiesContainer');\n\t\t\t\tlet newChange = container.find('#newChange').val(),\n\t\t\t\t\tnextPage = parseInt(container.find('#updatesCurrentPage').val()) + 1,\n\t\t\t\t\turl;\n\t\t\t\tif (container.closest('.js-detail-widget').length) {\n\t\t\t\t\tlet data = thisInstance.getFiltersData(\n\t\t\t\t\t\te,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpage: nextPage,\n\t\t\t\t\t\t\ttab_label: 'LBL_UPDATES',\n\t\t\t\t\t\t\tnewChange: newChange\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontainer.find('#updates')\n\t\t\t\t\t);\n\t\t\t\t\turl = data['params'];\n\t\t\t\t} else {\n\t\t\t\t\turl = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel).data('url');\n\t\t\t\t\turl = url.replace('&page=1', '&page=' + nextPage) + '&skipHeader=true&newChange=' + newChange;\n\t\t\t\t\tif (url.indexOf('&whereCondition') === -1) {\n\t\t\t\t\t\tlet switchBtn = jQuery('.active .js-switch--recentActivities');\n\t\t\t\t\t\turl +=\n\t\t\t\t\t\t\t'&whereCondition=' +\n\t\t\t\t\t\t\t(typeof switchBtn.data('on-val') === 'undefined'\n\t\t\t\t\t\t\t\t? switchBtn.data('off-val')\n\t\t\t\t\t\t\t\t: switchBtn.data('on-val'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tAppConnector.request(url).done(function(data) {\n\t\t\t\t\tlet dataContainer = jQuery(data);\n\t\t\t\t\tcontainer.find('#newChange').val(dataContainer.find('#newChange').val());\n\t\t\t\t\tcontainer.find('#updatesCurrentPage').val(dataContainer.find('#updatesCurrentPage').val());\n\t\t\t\t\tcontainer.find('.js-more-link').html(dataContainer.find('.js-more-link').html());\n\t\t\t\t\tcontainer.find('#updates ul').append(dataContainer.find('#updates ul').html());\n\t\t\t\t\tapp.event.trigger('DetailView.UpdatesWidget.AddMore', data, thisInstance);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.btnChangesReviewedOn', function(e) {\n\t\t\t\tvar progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar url = 'index.php?module=ModTracker&action=ChangesReviewedOn&record=' + app.getRecordId();\n\t\t\t\tAppConnector.request(url).done(function(data) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tjQuery(e.currentTarget)\n\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t.remove();\n\t\t\t\t\tthisInstance\n\t\t\t\t\t\t.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel)\n\t\t\t\t\t\t.find('.count.badge')\n\t\t\t\t\t\t.text('');\n\t\t\t\t\tif (selectedTabElement.data('labelKey') == thisInstance.detailViewRecentUpdatesTabLabel) {\n\t\t\t\t\t\tthisInstance.reloadTabContent();\n\t\t\t\t\t} else if (selectedTabElement.data('linkKey') == thisInstance.detailViewSummaryTabLabel) {\n\t\t\t\t\t\tvar updatesWidget = detailContentsHolder.find(\"[data-type='Updates']\");\n\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\tvar params = thisInstance.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\tthisInstance.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentDocuments', function() {\n\t\t\t\tvar recentDocumentsTab = thisInstance.getTabByLabel(thisInstance.detailViewRecentDocumentsTabLabel);\n\t\t\t\trecentDocumentsTab.trigger('click');\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.moreRecentActivities', function(e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tcurrentTarget.prop('disabled', true);\n\t\t\t\tvar container = currentTarget.closest('.activityWidgetContainer');\n\t\t\t\tvar page = container.find('.currentPage').val();\n\t\t\t\tpage++;\n\t\t\t\tvar url = container.find('.widgetContentBlock').data('url');\n\t\t\t\turl = url.replace('&page=1', '&page=' + page);\n\t\t\t\turl += '&totalCount=' + container.find('.totaltActivities').val();\n\t\t\t\tAppConnector.request(url).done(function(data) {\n\t\t\t\t\tcurrentTarget.prop('disabled', false);\n\t\t\t\t\tcurrentTarget.addClass('d-none');\n\t\t\t\t\tvar currentPage = container.find('.currentPage').val();\n\t\t\t\t\tcontainer.find('.currentPage').remove();\n\t\t\t\t\tcontainer.find('.countActivities').remove();\n\t\t\t\t\tcontainer.find('.js-detail-widget-content').append(data);\n\t\t\t\t\tcontainer\n\t\t\t\t\t\t.find('.countActivities')\n\t\t\t\t\t\t.val(\n\t\t\t\t\t\t\tparseInt(container.find('.countActivities').val()) +\n\t\t\t\t\t\t\t\tcurrentPage * parseInt(container.find('.pageLimit').val())\n\t\t\t\t\t\t);\n\t\t\t\t\tthisInstance.reloadWidgetActivitesStats(container);\n\t\t\t\t});\n\t\t\t});\n\t\t\tdetailContentsHolder.on('click', '.widgetFullscreen', function(e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tvar widgetContentBlock = currentTarget.closest('.widgetContentBlock');\n\t\t\t\tvar url = widgetContentBlock.data('url');\n\t\t\t\turl = url.replace('&view=Detail&', '&view=WidgetFullscreen&');\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.showModalWindow(null, 'index.php?' + url, function(modal) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t});\n\t\t\tthisInstance.registerEventForRelatedList();\n\t\t\tthisInstance.registerBlockAnimationEvent();\n\t\t\tthisInstance.registerMailPreviewWidget(\n\t\t\t\tdetailContentsHolder.find('.widgetContentBlock[data-type=\"EmailList\"]')\n\t\t\t);\n\t\t\tthisInstance.registerMailPreviewWidget(\n\t\t\t\tdetailContentsHolder.find('.widgetContentBlock[data-type=\"HistoryRelation\"]')\n\t\t\t);\n\t\t\tdetailContentsHolder\n\t\t\t\t.find('.js-switch--recentActivities')\n\t\t\t\t.off()\n\t\t\t\t.on('change', function(e) {\n\t\t\t\t\tconst currentTarget = jQuery(e.currentTarget),\n\t\t\t\t\t\ttabElement = thisInstance.getTabByLabel(thisInstance.detailViewRecentUpdatesTabLabel),\n\t\t\t\t\t\tvariableName = currentTarget.data('urlparams'),\n\t\t\t\t\t\tvalueOn = $(this).data('on-val'),\n\t\t\t\t\t\tvalueOff = $(this).data('off-val');\n\t\t\t\t\tlet url = tabElement.data('url');\n\t\t\t\t\turl = url\n\t\t\t\t\t\t.replace('&' + variableName + '=' + valueOn, '')\n\t\t\t\t\t\t.replace('&' + variableName + '=' + valueOff, '');\n\t\t\t\t\tif (typeof currentTarget.data('on-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOn;\n\t\t\t\t\t} else if (typeof currentTarget.data('off-val') !== 'undefined') {\n\t\t\t\t\t\turl += '&' + variableName + '=' + valueOff;\n\t\t\t\t\t}\n\t\t\t\t\ttabElement.data('url', url);\n\t\t\t\t\ttabElement.trigger('click');\n\t\t\t\t});\n\t\t\tapp.registerIframeEvents(detailContentsHolder);\n\t\t},\n\t\treloadWidgetActivitesStats: function(container) {\n\t\t\tvar countElement = container.find('.countActivities');\n\t\t\tvar totalElement = container.find('.totaltActivities');\n\t\t\tif (!countElement.length || !totalElement.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar stats = ' (' + countElement.val() + '/' + totalElement.val() + ')';\n\t\t\tvar switchBtn = container.find('.active .js-switch');\n\t\t\tvar switchBtnParent = switchBtn.parent();\n\t\t\tvar text = switchBtn.data('basic-text') + stats;\n\t\t\tswitchBtnParent.removeTextNode();\n\t\t\tswitchBtnParent.append(text);\n\t\t},\n\t\trefreshCommentContainer: function(commentId) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar commentContainer = $('.commentsBody');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tview: 'Detail',\n\t\t\t\trecord: thisInstance.getRecordId(),\n\t\t\t\tmode: 'showThreadComments',\n\t\t\t\tcommentid: commentId\n\t\t\t};\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\telementToBlock: commentContainer\n\t\t\t\t}\n\t\t\t});\n\t\t\tAppConnector.request(params).done(function(data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\tcommentContainer.html(data);\n\t\t\t});\n\t\t},\n\t\tupdateRecordsPDFTemplateBtn: function(form) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet btnToolbar = $('.js-btn-toolbar .js-pdf');\n\t\t\tif (btnToolbar.length) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\t\t\taction: 'PDF',\n\t\t\t\t\t\tmode: 'hasValidTemplate',\n\t\t\t\t\t\trecord: app.getRecordId(),\n\t\t\t\t\t\tview: app.getViewName()\n\t\t\t\t\t},\n\t\t\t\t\tdataType: 'json'\n\t\t\t\t})\n\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\tif (data['result'].valid === false) {\n\t\t\t\t\t\t\tbtnToolbar.addClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbtnToolbar.removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function(data, err) {\n\t\t\t\t\t\tapp.errorLog(data, err);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tupdateWindowHeight: function(currentHeight, frame) {\n\t\t\tframe.height(currentHeight);\n\t\t},\n\t\tloadSubProducts: function(parentRow) {\n\t\t\tconst thisInstance = this;\n\t\t\tlet recordId = parentRow.data('product-id'),\n\t\t\t\tsubProrductParams = {\n\t\t\t\t\tmodule: 'Products',\n\t\t\t\t\taction: 'SubProducts',\n\t\t\t\t\trecord: recordId\n\t\t\t\t};\n\t\t\tAppConnector.request(subProrductParams).done(function(data) {\n\t\t\t\tlet responseData = data.result;\n\t\t\t\tthisInstance.addSubProducts(parentRow, responseData);\n\t\t\t});\n\t\t},\n\t\taddSubProducts: function(parentRow, responseData) {\n\t\t\tlet subProductsContainer = $('.js-subproducts-container ul', parentRow);\n\t\t\tfor (let id in responseData) {\n\t\t\t\tlet productText = $('<li>').text(responseData[id]);\n\t\t\t\tsubProductsContainer.append(productText);\n\t\t\t}\n\t\t},\n\t\tregisterSubProducts: function(container) {\n\t\t\tconst thisInstance = this;\n\t\t\tcontainer.find('.inventoryItems .js-inventory-row').each(function(index) {\n\t\t\t\tthisInstance.loadSubProducts($(this), false);\n\t\t\t});\n\t\t},\n\t\tregisterCollapsiblePanels(detailViewContainer) {\n\t\t\tconst panels = detailViewContainer.find('.js-detail-widget-collapse');\n\t\t\tconst storageName = `yf-${app.getModuleName()}-detail-widgets`;\n\t\t\tif (Quasar.plugins.LocalStorage.has(storageName)) {\n\t\t\t\tthis.setPanels({ panels, storageName });\n\t\t\t} else {\n\t\t\t\tpanels.collapse('show');\n\t\t\t\tlet panelsStorage = {};\n\t\t\t\tpanels.each((i, item) => {\n\t\t\t\t\tpanelsStorage[item.dataset.storageId] = 'shown';\n\t\t\t\t});\n\t\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t\t}\n\t\t\tpanels.on('hidden.bs.collapse shown.bs.collapse', e => {\n\t\t\t\tthis.updatePanelsStorage({ id: e.target.dataset.storageKey, type: e.type, storageName });\n\t\t\t});\n\t\t\tpanels.on('hide.bs.collapse show.bs.collapse', function(e) {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.siblings('.js-detail-widget-header')\n\t\t\t\t\t.toggleClass('collapsed');\n\t\t\t});\n\t\t},\n\t\tsetPanels({ panels, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanels.each((i, item) => {\n\t\t\t\tif (\n\t\t\t\t\tpanelsStorage[item.dataset.storageKey] === 'shown' ||\n\t\t\t\t\tundefined === panelsStorage[item.dataset.storageKey]\n\t\t\t\t) {\n\t\t\t\t\t$(item).collapse('show');\n\t\t\t\t\t$(item)\n\t\t\t\t\t\t.siblings('.js-detail-widget-header')\n\t\t\t\t\t\t.toggleClass('collapsed');\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tupdatePanelsStorage({ id, type, storageName }) {\n\t\t\tconst panelsStorage = Quasar.plugins.LocalStorage.getItem(storageName);\n\t\t\tpanelsStorage[id] = type;\n\t\t\tQuasar.plugins.LocalStorage.set(storageName, panelsStorage);\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\t//this.triggerDisplayTypeEvent();\n\t\t\tthis.registerHelpInfo();\n\t\t\tthis.registerSendSmsSubmitEvent();\n\t\t\tthis.registerAjaxEditEvent();\n\t\t\tthis.registerRelatedRowClickEvent();\n\t\t\tthis.registerBlockStatusCheckOnLoad();\n\t\t\tthis.registerEmailFieldClickEvent();\n\t\t\tthis.registerPhoneFieldClickEvent();\n\t\t\tthis.registerEventForRelatedTabClick();\n\t\t\tVtiger_Helper_Js.showHorizontalTopScrollBar();\n\t\t\tthis.registerUrlFieldClickEvent();\n\t\t\tvar detailViewContainer = jQuery('div.detailViewContainer');\n\t\t\tif (detailViewContainer.length <= 0) {\n\t\t\t\t// Not detail view page\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.registerSetReadRecord(detailViewContainer);\n\t\t\tthis.registerEventForPicklistDependencySetup(this.getForm());\n\t\t\tthis.getForm().validationEngine(app.validationEngineOptionsForRecord);\n\t\t\tthis.loadWidgetsEvents();\n\t\t\tthis.loadWidgets();\n\t\t\tthis.registerBasicEvents();\n\t\t\tthis.registerEventForTotalRecordsCount();\n\t\t\tthis.registerProgress();\n\t\t\tthis.registerChat(detailViewContainer);\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","detailInstance","getInstance","moduleClassName","app","getModuleName","getViewName","instance","Vtiger_Detail_Js","triggerDetailViewAction","detailActionUrl","callBackFunction","selectedIds","push","getRecordId","selected_ids","JSON","stringify","AppConnector","request","type","url","dataType","data","postData","done","showModalWindow","fail","triggerSendSms","triggerTransferOwnership","massActionUrl","thisInstance","getRelatedModulesContainer","validationEngineOptions","params","onValidationComplete","form","valid","attr","transferOwnershipSave","validationEngine","getRelatedModuleContainer","App","Fields","Picklist","changeSelectElementView","selectElement","callback","val","relatedModules","recordId","module","action","record","transferOwnerId","transferOwner","related_modules","success","hideModalWindow","title","vtranslate","text","oldvalue","element","find","removeAttr","trigger","closest","html","Fieldname","Vtiger_Helper_Js","showPnotify","reloadRelatedList","length","page","loadRelatedList","showWorkflowTriggerView","$","popover","treeInstance","jstree","core","parse","themes","name","responsive","icons","checkbox","three_state","plugins","on","selected","each","index","treeElement","tasks","record_id","parent","keys","mode","user","loadWidgets","view","targetPicklistChange","targetPicklist","detailViewContentHolder","detailViewForm","detailViewDetailsTabLabel","detailViewSummaryTabLabel","detailViewRecentCommentsTabLabel","detailViewRecentActivitiesTabLabel","detailViewRecentUpdatesTabLabel","detailViewRecentDocumentsTabLabel","fieldUpdatedEvent","updatedFields","fieldPreSave","tempData","referenceFieldNames","Calendar","Accounts","Leads","Vendors","OSSEmployees","Contacts","Campaigns","HelpDesk","Projects","ServiceContracts","OutsourcedProducts","Assets","OSSOutsourcedServices","OSSSoldServices","init","loadWidgetsEvents","event","e","widgetContent","relatedModuleName","reloadWidgetActivitesStats","registerCommentEventsInDetail","registerShowSummary","Vtiger_Index_Js","registerMailButtons","progressIndicator","currentTarget","progressIndicatorElement","registerEmailEvents","registerBlockStatusCheckOnLoad","widgetList","widgetContainerELement","loadWidget","widgetContainer","registerRelatedModulesRecordCount","contentContainer","registerFilterForAddingModuleRelatedRecordFromSummaryWidget","queryParameters","urlParams","split","keyValueMap","queryParamComponents","Deferred","async","showSelect2ElementView","registerModal","Vtiger_RelatedList_Js","getSelectedTab","relatedController","setRelatedContainer","registerRelatedEvents","widgetRelatedRecordView","aDeferred","resolve","reject","promise","container","load","relatedRecordCacheID","moduleCacheGet","cacheKey","newActive","removeClass","addClass","prev","controlBox","next","active","hasClass","nextElement","moduleCacheSet","prevElement","loadContents","detailContentsHolder","getContentHolder","requestPjax","responseData","Date","register","getForm","getUpdateFieldsArray","getTabByLabel","tabLabel","getTabs","targetTab","labelKey","tab","getTabByModule","moduleName","tabs","relationId","selectModuleTab","getTabContainer","moduleTab","relatedTabContainer","deSelectAllrelatedTabs","markTabAsSelected","tabElement","reloadTabContent","dropdownMenuTabs","iteration","className","filter","topTabs","get","getRelatedModuleName","saveFieldValues","fieldDetailList","reponseData","jqXHR","textStatus","errorThrown","getRelatedListCurrentPageNum","removeCommentBlockIfExists","remove","getCommentThread","saveCommentAjax","commentMode","commentContentValue","editCommentReason","commentId","parentCommentId","commentInfoBlock","relatedTo","commentcontent","replace","related_to","addRelationBetweenRecords","result","id","saveComment","closestCommentBlock","commentContent","errorMsg","commentInfoHeader","getCommentUI","getCommentBlock","clone","clonedCommentBlock","getEditCommentBlock","Text","Completions","emojiPanel","registerSendSmsSubmitEvent","smsTextLength","submitButton","SendSmsSave","preventDefault","position","blockInfo","enabled","SendSmsUrl","serializeFormData","progressInstance","registerNameAjaxEditEvent","nameFields","recordLabel","nameFieldName","recordLabelElement","updateHeaderNameFields","nameField","salutatioField","salutatioValue","registerAjaxEditEvent","updateHeaderValues","currentElement","inArray","registerEmailFieldClickEvent","stopPropagation","registerPhoneFieldClickEvent","registerUrlFieldClickEvent","registerRelatedRowClickEvent","target","targetElement","is","children","recordUrl","elem","window","location","href","registerEventForRelatedList","n","block","blockContent","response","parents","isEmpty","registerPostLoadEvents","registerBlockAnimationEvent","not","blockId","closestBlock","bodyContents","cacheSet","blocks","dynamicAttr","currentBlock","headerAnimationElement","value","cacheGet","ajaxEditHandling","currentTdElement","readRecord","detailViewValue","editElement","actionElement","fieldElement","prop","elementTarget","elementName","fieldName","inputmask","focus","v","ajaxEditNewValue","fieldInfo","Vtiger_Field_Js","dateTimeField","dateTime","field","toStr","previousValue","off","Event","fieldNameValueMap","preFieldSaveEvent","fieldValue","isDefaultPrevented","getCustomFieldNameValueMap","displayValue","postSaveRecordDetails","display_value","prevDisplayValue","prev_display_value","label","textTrusted","convertUrlToObject","urlObject","reload","old","new","selectedTabElement","registerSummaryViewContainerEvents","registerEventForPicklistDependencySetup","updateRecordsPDFTemplateBtn","saveHandler","triggerDisplayTypeEvent","widthType","elements","addElementsToQuickCreateForCreatingRelation","customParams","appendTo","registerEventForActivityWidget","relField","QuickCreateParams","eventsGoToFullFormButton","taskFullFormUrl","taskGoToFullFormButton","fullFormUrl","eventsFullFormUrl","widgetContentBlock","activitiesWidget","Object","assign","Vtiger_Header_Js","quickCreateModule","getEndDate","startDate","date","dateTab","newDate","setDate","getDate","getStringDate","getSingleEventType","modDay","dateStartVal","dateStartEl","dateStartFormat","validDateFromat","convertToDateString","map","extend","start","end","mapping","events","isEmptyObject","ev","indexOf","testDate","append","i","summaryWidgetContainer","referenceModuleName","quickcreateUrl","parentId","quickCreateParams","relatedField","autoCompleteFields","relatedParams","postSummaryWidgetAddRecord","loadModuleSummary","headerInstance","getQuickCreateForm","handleQuickCreateData","progress","restrictionsField","src_module","src_record","multi_select","key","showRecordsList","modal","setSelectEvent","registerAddingInventoryRecords","createUrl","addidtionalParams","concat","registerEmailEvent","showConfirmationBox","message","d","showMessage","getFiltersDataAndLoad","getFiltersData","widget","m","item","fieldlable","selectedFilter","urlNewParams","registerChangeFilterForWidget","siblings","registerChangeSwitchForWidget","summaryViewContainer","updatesWidget","noCache","callbackFunction","currentDiv","detailViewElement","descriptionText","descriptionEmpty","saveButton","closeButton","activityButtonContainer","fieldnameElement","ajaxEditNewLable","activityDiv","activityId","activityType","add","then","addClickOutSideEvent","activitytype","show","closeDescription","hide","one","widgetHeaderContainer","registerFastEditingFiels","relatedModule","relatedModuleRecordId","addRelations","idList","_recordId","registerChangeEventForModulesList","modulesSelectElement","selectedOptionValue","registerEventForRelatedTabClick","detailContainer","urlAttributes","elementToBlock","showHorizontalTopScrollBar","registerHelpInfo","callBack","registerBasicEvents","notifyPostAjaxReady","picklistDependcyElemnt","sourcePicklists","picklistDependencyMapping","sourcePickListNames","join","sourcePickListElements","sourcePicklistname","configuredDependencyObject","selectedValue","targetObjectForSelectedSourceValue","picklistmap","targetPickListName","targetPickListValues","targetPickListMap","targetPickList","listOfAvailableOptions","optionSelector","picklistValue","targetOptions","targetPickListSelectedValue","getChildComments","dataObj","getParentComments","registerEventForTotalRecordsCount","totalNumberOfRecords","getRelatedPageCount","showPagingInfo","pageNumberElement","pageRange","listViewEntriesCount","parseInt","registerSetReadRecord","relatedTabKey","fastEditingFiels","fieldContainer","errorExists","showPopoverElementView","tabContainer","relationContainer","tab_label","numberOfRecords","moreList","addComment","closestAddCommentBlock","commentTextAreaElement","commentHtml","self","noCommentsMsgContainer","commentBlock","currentChildCommentsCount","responsedata","prependTo","commentInfoContent","commentEditStatus","commentReason","reasontoedit","modifiedTime","modifiedtime","modifiedtimetitle","registerCommentEvents","editCommentBlock","error","err","errorLog","recentCommentsTab","regex","hierarchy","which","submitSearchForm","searchTextDom","limit","isWidget","search_key","is_widget","eq","widgetDataContainer","registerMailPreviewWidget","mailBody","row","mailTeaser","toggleClass","loadMailPreviewWidget","click","registerMapsEvents","mapView","registerDetailView","registerSocialMediaEvents","socialMediaContainer","summaryView","css","showProgressConfirmation","picklistName","registerProgress","loadChat","chatVue","chatContainer","height","document","offset","top","outerHeight","ChatRecordRoomVueComponent","mount","el","registerChat","ready","registerSubProducts","registerCollapsiblePanels","DateTime","MultiImage","registerEventForClockPicker","Editor","toolbar","currentPageNum","requestedPage","relatedLabel","currentTargetParent","commentActionsBlock","currentCommentBlock","ulElements","commentid","containerTable","currentPage","nextPage","types","pageLimit","newChange","switchBtn","dataContainer","recentDocumentsTab","variableName","valueOn","valueOff","registerIframeEvents","totalElement","countElement","switchBtnParent","stats","removeTextNode","refreshCommentContainer","commentContainer","btnToolbar","updateWindowHeight","currentHeight","frame","loadSubProducts","parentRow","addSubProducts","subProductsContainer","productText","detailViewContainer","panels","storageName","Quasar","LocalStorage","has","setPanels","collapse","panelsStorage","dataset","storageId","set","updatePanelsStorage","storageKey","getItem","registerEvents","validationEngineOptionsForRecord"],"mappings":"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"}