{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\"Leads_Detail_Js\", {\n\t//cache will store the convert lead data(Model)\n\tcache: {},\n\t//Holds detail view instance\n\tdetailCurrentInstance: false,\n\t/*\n\t * function to trigger Convert Lead action\n\t * @param: Convert Lead url, currentElement.\n\t */\n\tconvertLead: function (convertLeadUrl, buttonElement) {\n\t\tvar instance = Leads_Detail_Js.detailCurrentInstance;\n\t\t//Initially clear the elements to overwtite earliear cache\n\t\tinstance.convertLeadContainer = false;\n\t\tinstance.convertLeadForm = false;\n\t\tinstance.convertLeadModules = false;\n\t\tif (jQuery.isEmptyObject(Leads_Detail_Js.cache)) {\n\t\t\tAppConnector.request(convertLeadUrl).done(\n\t\t\t\tfunction (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tLeads_Detail_Js.cache = data;\n\t\t\t\t\t\tinstance.displayConvertLeadModel(data, buttonElement);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (error, err) {\n\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tinstance.displayConvertLeadModel(Leads_Detail_Js.cache, buttonElement);\n\t\t}\n\t}\n\n}, {\n\t//Contains the convert lead form\n\tconvertLeadForm: false,\n\t//contains the convert lead container\n\tconvertLeadContainer: false,\n\t//contains all the checkbox elements of modules\n\tconvertLeadModules: false,\n\t//constructor\n\tinit: function () {\n\t\tthis._super();\n\t\tLeads_Detail_Js.detailCurrentInstance = this;\n\t},\n\t/*\n\t * function to disable the Convert Lead button\n\t */\n\tdisableConvertLeadButton: function (button) {\n\t\tjQuery(button).attr('disabled', 'disabled');\n\t},\n\t/*\n\t * function to enable the Convert Lead button\n\t */\n\tenableConvertLeadButton: function (button) {\n\t\tjQuery(button).removeAttr('disabled');\n\t},\n\t/*\n\t * function to enable all the input and textarea elements\n\t */\n\tremoveDisableAttr: function (moduleBlock) {\n\t\tmoduleBlock.find('input,textarea,select').removeAttr('disabled');\n\t},\n\t/*\n\t * function to disable all the input and textarea elements\n\t */\n\taddDisableAttr: function (moduleBlock) {\n\t\tmoduleBlock.find('input,textarea,select').attr('disabled', 'disabled');\n\t},\n\t/*\n\t * function to display the convert lead model\n\t * @param: data used to show the model, currentElement.\n\t */\n\tdisplayConvertLeadModel: function (data, buttonElement) {\n\t\tvar instance = this;\n\t\tvar errorElement = jQuery(data).find('#convertLeadError');\n\t\tif (errorElement.length != '0') {\n\t\t\tvar errorMsg = errorElement.val();\n\t\t\tvar errorTitle = jQuery(data).find('#convertLeadErrorTitle').val();\n\t\t\tvar params = {\n\t\t\t\ttitle: errorTitle,\n\t\t\t\ttext: errorMsg,\n\t\t\t\taddclass: \"convertLeadNotify\",\n\t\t\t\twidth: '35%',\n\t\t\t\tpnotify_after_open: function () {\n\t\t\t\t\tinstance.disableConvertLeadButton(buttonElement);\n\t\t\t\t},\n\t\t\t\tpnotify_after_close: function () {\n\t\t\t\t\tinstance.enableConvertLeadButton(buttonElement);\n\t\t\t\t}\n\t\t\t};\n\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t} else {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tvar editViewObj = Vtiger_Edit_Js.getInstance();\n\t\t\t\tjQuery(data).find('.fieldInfo').collapse({\n\t\t\t\t\t'parent': '#leadAccordion',\n\t\t\t\t\t'toggle': false\n\t\t\t\t});\n\t\t\t\tapp.showScrollBar(jQuery(data).find('#leadAccordion'), {'height': '420px'});\n\t\t\t\teditViewObj.registerBasicEvents(data);\n\t\t\t\tvar checkBoxElements = instance.getConvertLeadModules();\n\t\t\t\tjQuery.each(checkBoxElements, function (index, element) {\n\t\t\t\t\tinstance.checkingModuleSelection(element);\n\t\t\t\t});\n\t\t\t\tinstance.registerForReferenceField();\n\t\t\t\tinstance.registerConvertLeadEvents();\n\t\t\t\tinstance.getConvertLeadForm().validationEngine(app.validationEngineOptions);\n\t\t\t\tinstance.registerConvertLeadSubmit();\n\t\t\t};\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t'text-align': 'left'\n\t\t\t});\n\t\t}\n\t},\n\t/*\n\t * function to check which module is selected\n\t * to disable or enable all the elements with in the block\n\t */\n\tcheckingModuleSelection: function (element) {\n\t\tvar instance = this;\n\t\tvar module = jQuery(element).val();\n\t\tvar moduleBlock = jQuery(element).closest('.convertLeadModules').find('#' + module + '_FieldInfo');\n\t\tif (jQuery(element).is(':checked')) {\n\t\t\tinstance.removeDisableAttr(moduleBlock);\n\t\t} else {\n\t\t\tinstance.addDisableAttr(moduleBlock);\n\t\t}\n\t},\n\tregisterForReferenceField: function () {\n\t\tvar container = this.getConvertLeadContainer();\n\t\tvar referenceField = jQuery('.reference', container);\n\t\tif (referenceField.length > 0) {\n\t\t\tjQuery('#AccountsModule').attr('readonly', 'readonly');\n\t\t}\n\t},\n\t/*\n\t * function to register Convert Lead Events\n\t */\n\tregisterConvertLeadEvents: function () {\n\t\tvar container = this.getConvertLeadContainer();\n\t\tvar instance = this;\n\t\t//Trigger Event to change the icon while shown and hidden the accordion body\n\t\tcontainer\n\t\t\t.on('hide.bs.collapse', '.js-collapse ', function (e) {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('.convertLeadModules')\n\t\t\t\t\t.find('.fas')\n\t\t\t\t\t.removeClass('fa-chevron-up')\n\t\t\t\t\t.addClass('fa-chevron-down');\n\t\t\t})\n\t\t\t.on('show.bs.collapse', '.js-collapse ', function (e) {\n\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t.closest('.convertLeadModules')\n\t\t\t\t\t.find('.fas')\n\t\t\t\t\t.removeClass('fa-chevron-down')\n\t\t\t\t\t.addClass('fa-chevron-up');\n\t\t\t});\n\n\t\t//Trigger Event on click of Transfer related records modules\n\t\tcontainer.on('click', '.transferModule', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar module = currentTarget.val();\n\t\t\tvar moduleBlock = jQuery('#' + module + '_FieldInfo');\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tjQuery('#' + module + 'Module').prop('checked', true);\n\t\t\t\tmoduleBlock.collapse('show');\n\t\t\t\tinstance.removeDisableAttr(moduleBlock);\n\t\t\t}\n\t\t});\n\n\t\t//Trigger Event on click of the Modules selection to convert the lead\n\t\tcontainer.on('click', '.convertLeadModuleSelection', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tvar currentModuleName = currentTarget.val();\n\t\t\tvar moduleBlock = currentTarget.closest('.convertLeadModules').find('#' + currentModuleName + '_FieldInfo');\n\t\t\tvar currentTransferModuleElement = jQuery('#transfer' + currentModuleName);\n\t\t\tvar otherTransferModuleElement = jQuery('input[name=\"transferModule\"]').not(currentTransferModuleElement);\n\t\t\tvar otherTransferModuleValue = jQuery(otherTransferModuleElement).val();\n\t\t\tvar otherModuleElement = jQuery('#' + otherTransferModuleValue + 'Module');\n\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tmoduleBlock.collapse('show');\n\t\t\t\tinstance.removeDisableAttr(moduleBlock);\n\t\t\t\tif (!otherModuleElement.is(':checked')) {\n\t\t\t\t\tjQuery(currentTransferModuleElement).prop('checked', true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmoduleBlock.collapse('hide');\n\t\t\t\tinstance.addDisableAttr(moduleBlock);\n\t\t\t\tjQuery(currentTransferModuleElement).prop('checked', false);\n\t\t\t\tif (otherModuleElement.is(':checked')) {\n\t\t\t\t\tjQuery(otherTransferModuleElement).prop('checked', true);\n\t\t\t\t}\n\t\t\t}\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\t},\n\t/*\n\t * function to register Convert Lead Submit Event\n\t */\n\tregisterConvertLeadSubmit: function () {\n\t\tvar thisInstance = this;\n\t\tvar formElement = this.getConvertLeadForm();\n\n\t\tformElement.on('jqv.form.validating', function (e) {\n\t\t\tvar jQv = jQuery(e.currentTarget).data('jqv');\n\t\t\t//Remove the earlier validated fields from history so that it wont count disabled fields\n\t\t\tjQv.InvalidFields = [];\n\t\t});\n\n\t\t//Convert Lead Form Submission\n\t\tformElement.on('submit', function (e) {\n\t\t\tvar convertLeadModuleElements = thisInstance.getConvertLeadModules();\n\t\t\tvar moduleArray = [];\n\t\t\tvar accountModel = formElement.find('#AccountsModule');\n\n\t\t\t//If the validation fails in the hidden Block, we should show that Block with error.\n\t\t\tvar invalidFields = formElement.data('jqv').InvalidFields;\n\t\t\tif (invalidFields.length > 0) {\n\t\t\t\tvar fieldElement = invalidFields[0];\n\t\t\t\tvar moduleBlock = jQuery(fieldElement).closest('.js-collapse');\n\t\t\t\tmoduleBlock.collapse('show');\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tjQuery.each(convertLeadModuleElements, function (index, element) {\n\t\t\t\tif (jQuery(element).is(':checked')) {\n\t\t\t\t\tmoduleArray.push(jQuery(element).val());\n\t\t\t\t}\n\t\t\t});\n\t\t\tformElement.find('input[name=\"modules\"]').val(JSON.stringify(moduleArray));\n\n\t\t\tvar organizationElement = accountModel.length;\n\t\t\tif (organizationElement != '0') {\n\t\t\t\tif (jQuery.inArray('Accounts', moduleArray) == -1) {\n\t\t\t\t\tapp.showAlert(app.vtranslate('JS_SELECT_ORGANIZATION'));\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\t/*\n\t * function to get all the checkboxes which are representing the modules selection\n\t */\n\tgetConvertLeadModules: function () {\n\t\tvar container = this.getConvertLeadContainer();\n\t\tif (this.convertLeadModules == false) {\n\t\t\tthis.convertLeadModules = jQuery('.convertLeadModuleSelection', container);\n\t\t}\n\t\treturn this.convertLeadModules;\n\t},\n\t/*\n\t * function to get Convert Lead Form\n\t */\n\tgetConvertLeadForm: function () {\n\t\tif (this.convertLeadForm == false) {\n\t\t\tthis.convertLeadForm = jQuery('#convertLeadForm');\n\t\t}\n\t\treturn this.convertLeadForm;\n\t},\n\t/*\n\t * function to get Convert Lead Container\n\t */\n\tgetConvertLeadContainer: function () {\n\t\tif (this.convertLeadContainer == false) {\n\t\t\tthis.convertLeadContainer = jQuery('#leadAccordion');\n\t\t}\n\t\treturn this.convertLeadContainer;\n\t},\n\tsaveFieldValues: function (fieldDetailList) {\n\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar recordId = this.getRecordId();\n\n\t\tvar data = {};\n\t\tif (typeof fieldDetailList !== \"undefined\") {\n\t\t\tdata = fieldDetailList;\n\t\t}\n\n\t\tdata['record'] = recordId;\n\t\tdata['module'] = app.getModuleName();\n\t\tdata['action'] = 'SaveAjax';\n\n\t\tAppConnector.request(data).done(\n\t\t\tfunction (reponseData) {\n\t\t\t\taDeferred.resolve(reponseData);\n\t\t\t}\n\t\t);\n\t\tif (fieldDetailList && fieldDetailList.field == 'leadstatus') {\n\t\t\tvar btn = jQuery('.btn-convertLead');\n\t\t\tvar status = JSON.parse(jQuery('#conversion_available_status').val());\n\t\t\tif (status.length === 0 || jQuery.inArray(fieldDetailList.value, status) != -1) {\n\t\t\t\tbtn.removeClass(\"d-none\");\n\t\t\t} else {\n\t\t\t\tbtn.addClass(\"d-none\");\n\t\t\t}\n\t\t}\n\t\treturn aDeferred.promise();\n\t},\n\tupdateConvertLeadvalue: function () {\n\t\tvar thisInstance = Vtiger_Detail_Js.getInstance();\n\t\tvar detailContentsHolder = thisInstance.getContentHolder();\n\t\tdetailContentsHolder.on(thisInstance.fieldUpdatedEvent, \"input,select\", function (e, params) {\n\t\t\tvar elem = jQuery(e.currentTarget);\n\t\t\tvar fieldName = elem.attr(\"name\");\n\t\t\tvar ajaxnewValue = params['new'];\n\n\t\t\tif (!(jQuery.isEmptyObject(Leads_Detail_Js.cache))) {\n\t\t\t\tvar sampleCache = jQuery(Leads_Detail_Js.cache);\n\t\t\t\tvar contextElem = sampleCache.find('[name=\"' + fieldName + '\"]');\n\n\t\t\t\tif (elem.is(\"select\")) {\n\t\t\t\t\tvar oldvalue = contextElem.val();\n\t\t\t\t\tcontextElem.find('option[value=\"' + oldvalue + '\"]').removeAttr(\"selected\");\n\t\t\t\t\tcontextElem.find('option[value=\"' + ajaxnewValue + '\"]').attr(\"selected\", \"selected\");\n\t\t\t\t\tcontextElem.trigger('change');\n\t\t\t\t} else {\n\t\t\t\t\tcontextElem.attr(\"value\", ajaxnewValue);\n\t\t\t\t}\n\t\t\t\tLeads_Detail_Js.cache = sampleCache;\n\t\t\t}\n\t\t});\n\n\t},\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tthis.updateConvertLeadvalue();\n\t}\n});\n"],"names":["Vtiger_Detail_Js","cache","detailCurrentInstance","convertLead","convertLeadUrl","buttonElement","Leads_Detail_Js","instance","convertLeadContainer","convertLeadForm","convertLeadModules","jQuery","isEmptyObject","AppConnector","request","done","data","displayConvertLeadModel","init","_super","disableConvertLeadButton","button","attr","enableConvertLeadButton","removeAttr","removeDisableAttr","moduleBlock","find","addDisableAttr","errorElement","length","val","errorTitle","params","title","text","errorMsg","addclass","width","pnotify_after_open","pnotify_after_close","Vtiger_Helper_Js","showPnotify","Vtiger_Edit_Js","getInstance","collapse","app","showScrollBar","editViewObj","registerBasicEvents","getConvertLeadModules","each","checkBoxElements","index","element","checkingModuleSelection","registerForReferenceField","registerConvertLeadEvents","getConvertLeadForm","validationEngine","validationEngineOptions","registerConvertLeadSubmit","showModalWindow","callBackFunction","module","closest","is","getConvertLeadContainer","referenceField","container","on","e","$","currentTarget","removeClass","addClass","prop","currentModuleName","currentTransferModuleElement","otherTransferModuleElement","not","otherTransferModuleValue","otherModuleElement","stopImmediatePropagation","formElement","jQv","InvalidFields","thisInstance","moduleArray","accountModel","invalidFields","fieldElement","preventDefault","convertLeadModuleElements","push","JSON","stringify","inArray","showAlert","vtranslate","saveFieldValues","fieldDetailList","Deferred","recordId","getRecordId","getModuleName","reponseData","aDeferred","resolve","field","status","parse","value","btn","promise","updateConvertLeadvalue","detailContentsHolder","getContentHolder","fieldUpdatedEvent","fieldName","elem","ajaxnewValue","contextElem","sampleCache","oldvalue","trigger","registerEvents"],"mappings":"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"}