{"version":3,"file":"Encryption.min.js","sources":["Encryption.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class('Settings_Password_Encryption_Js', {}, {\n\t/**\n\t * Container (Form)\n\t */\n\tcontainer: null,\n\t/**\n\t * Set container (Form)\n\t * @param {Object} element\n\t */\n\tsetContainer: function (element) {\n\t\tthis.container = element;\n\t},\n\t/**\n\t * Get Container (Form)\n\t * @returns {Object}\n\t */\n\tgetContainer: function () {\n\t\treturn this.container;\n\t},\n\t/**\n\t * Register events for change method encryption\n\t */\n\tregisterChangeMethodName: function () {\n\t\tvar container = this.getContainer();\n\t\tvar methodElement = container.find('[name=\"methods\"]');\n\t\tvar mapLengthVector = JSON.parse($('[name=\"lengthVectors\"]').val());\n\t\tmethodElement.on('change', function () {\n\t\t\tvar length = mapLengthVector[methodElement.val()];\n\t\t\tvar validator = '';\n\t\t\tvar passwordElement = container.find('[name=\"password\"]');\n\t\t\tif (typeof length === \"undefined\" || length === 0) {\n\t\t\t\tpasswordElement.val('');\n\t\t\t\tpasswordElement.attr('disabled', 'disabled');\n\t\t\t} else {\n\t\t\t\tpasswordElement.removeAttr('disabled');\n\t\t\t\tvalidator = 'validate[required,maxSize[' + length + '],minSize[' + length + ']]';\n\t\t\t}\n\t\t\tpasswordElement.attr('data-validation-engine', validator);\n\t\t});\n\t},\n\t/**\n\t * Register events for form\n\t */\n\tregisterForm: function () {\n\t\tvar thisInstance = this;\n\t\tvar container = thisInstance.getContainer();\n\t\tcontainer.on('submit', function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tcontainer.validationEngine(app.validationEngineOptions);\n\t\t\tif (container.validationEngine('validate')) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tAppConnector.request(container.serializeFormData()).done(function (response) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttext: response.result,\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\t/**\n\t * Register events to preview password\n\t */\n\tregisterPreviewPassword: function () {\n\t\tvar container = this.getContainer();\n\t\tvar button = container.find('.previewPassword');\n\t\tvar passwordElement = container.find('[name=\"password\"]');\n\t\tbutton.on('mousedown', function () {\n\t\t\tpasswordElement.attr('type', 'text');\n\t\t});\n\t\tbutton.on('mouseup', function () {\n\t\t\tpasswordElement.attr('type', 'password');\n\t\t});\n\t\tbutton.on('mouseout', function () {\n\t\t\tpasswordElement.attr('type', 'password');\n\t\t});\n\t},\n\t/**\n\t * Register all events in view\n\t */\n\tregisterEvents: function () {\n\t\tthis.setContainer($('.formEncryption'));\n\t\tthis.registerForm();\n\t\tthis.registerChangeMethodName();\n\t\tthis.registerPreviewPassword();\n\t}\n});\n"],"names":["jQuery","Class","container","setContainer","element","getContainer","registerChangeMethodName","methodElement","find","mapLengthVector","JSON","parse","$","val","on","validator","passwordElement","attr","removeAttr","length","registerForm","thisInstance","event","preventDefault","validationEngine","app","validationEngineOptions","progressIndicator","position","blockInfo","enabled","AppConnector","request","serializeFormData","done","response","progressIndicatorElement","mode","Vtiger_Helper_Js","showPnotify","text","result","type","registerPreviewPassword","button","registerEvents"],"mappings":";;AAGAA,OAAOC,KAAP,CAAa,iCAAb,CAAgD,EAAhD,CAAoD;;IAInDC,UAAW,IAJwC;;;IASnDC,aAAc,sBAAUC,OAAV,CAAmB,CAChC,KAAKF,SAAL,CAAiBE,QACjB,CAXkD;;;IAgBnDC,aAAc,uBAAY,CACzB,YAAYH,SACZ,CAlBkD;;IAsBnDI,yBAA0B,mCAAY,eACrB,KAAKD,YAAL,EADqB,CAEjCE,cAAgBL,UAAUM,IAAV,CAAe,kBAAf,CAFiB,CAGjCC,gBAAkBC,KAAKC,KAAL,CAAWC,EAAE,wBAAF,EAA4BC,GAA5B,EAAX,CAHe,CAIrCN,cAAcO,EAAd,CAAiB,QAAjB,CAA2B,UAAY,YACzBL,gBAAgBF,cAAcM,GAAd,EAAhB,CADyB,CAElCE,UAAY,EAFsB,CAGlCC,gBAAkBd,UAAUM,IAAV,CAAe,mBAAf,CAHgB,CAIhB,WAAlB,eAAA,EAA4C,CAAX,SAJC,EAKrCQ,gBAAgBH,GAAhB,CAAoB,EAApB,CALqC,CAMrCG,gBAAgBC,IAAhB,CAAqB,UAArB,CAAiC,UAAjC,CANqC,GAQrCD,gBAAgBE,UAAhB,CAA2B,UAA3B,CARqC,CASrCH,UAAY,6BAA+BI,MAA/B,CAAwC,YAAxC,CAAuDA,MAAvD,CAAgE,IATvC,EAWtCH,gBAAgBC,IAAhB,CAAqB,wBAArB,CAA+CF,SAA/C,EACA,CAZD,EAaA,CAvCkD;;IA2CnDK,aAAc,uBAAY,kBACN,IADM,CAErBlB,UAAYmB,aAAahB,YAAb,EAFS,CAGzBH,UAAUY,EAAV,CAAa,QAAb,CAAuB,SAAUQ,KAAV,CAAiB,CAGvC,GAFAA,MAAMC,cAAN,EAEA,CADArB,UAAUsB,gBAAV,CAA2BC,IAAIC,uBAA/B,CACA,CAAIxB,UAAUsB,gBAAV,CAA2B,UAA3B,CAAJ,CAA4C,CAC3C,6BAA+BxB,OAAO2B,iBAAP,CAAyB,CACvDC,SAAU,MAD6C,CAEvDC,UAAW,CACVC,UADU,CAF4C,CAAzB,CAA/B,CAMAC,aAAaC,OAAb,CAAqB9B,UAAU+B,iBAAV,EAArB,EAAoDC,IAApD,CAAyD,SAAUC,QAAV,CAAoB,CAC5EC,yBAAyBT,iBAAzB,CAA2C,CAACU,KAAM,MAAP,CAA3C,CAD4E,CAE5EC,iBAAiBC,WAAjB,CAA6B,CAC5BC,KAAML,SAASM,MADa,CAE5BC,KAAM,MAFsB,CAA7B,EAIA,CAND,EAOA,CACD,CAlBD,EAmBA,CAjEkD;;IAqEnDC,wBAAyB,kCAAY,eACpB,KAAKtC,YAAL,EADoB,CAEhCuC,OAAS1C,UAAUM,IAAV,CAAe,kBAAf,CAFuB,CAGhCQ,gBAAkBd,UAAUM,IAAV,CAAe,mBAAf,CAHc,CAIpCoC,OAAO9B,EAAP,CAAU,WAAV,CAAuB,UAAY,CAClCE,gBAAgBC,IAAhB,CAAqB,MAArB,CAA6B,MAA7B,EACA,CAFD,CAJoC,CAOpC2B,OAAO9B,EAAP,CAAU,SAAV,CAAqB,UAAY,CAChCE,gBAAgBC,IAAhB,CAAqB,MAArB,CAA6B,UAA7B,EACA,CAFD,CAPoC,CAUpC2B,OAAO9B,EAAP,CAAU,UAAV,CAAsB,UAAY,CACjCE,gBAAgBC,IAAhB,CAAqB,MAArB,CAA6B,UAA7B,EACA,CAFD,EAGA,CAlFkD;;IAsFnD4B,eAAgB,yBAAY,CAC3B,KAAK1C,YAAL,CAAkBS,EAAE,iBAAF,CAAlB,CAD2B,CAE3B,KAAKQ,YAAL,EAF2B,CAG3B,KAAKd,wBAAL,EAH2B,CAI3B,KAAKqC,uBAAL,GACA,CA3FkD,CAApD"}