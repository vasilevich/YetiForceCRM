{"version":3,"file":"Currency.min.js","sources":["Currency.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\njQuery.Class('Settings_Currency_Js', {\n\n\t//holds the currency instance\n\tcurrencyInstance: false,\n\n\t/**\n\t * This function used to triggerAdd Currency\n\t */\n\ttriggerAdd: function (event) {\n\t\tevent.stopPropagation();\n\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\tinstance.showEditView();\n\t},\n\n\t/**\n\t * This function used to trigger Edit Currency\n\t */\n\ttriggerEdit: function (event, id) {\n\t\tevent.stopPropagation();\n\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\tinstance.showEditView(id);\n\t},\n\n\t/**\n\t * This function used to trigger default currency\n\t * @param {object} event\n\t * @param {int} id\n\t */\n\ttriggerDefault: function (event, id) {\n\t\tevent.stopPropagation();\n\t\tVtiger_Helper_Js.showConfirmationBox({message: app.vtranslate('JS_CURRENCY_DEFAULT_CONFIRMED')}).done(function (data) {\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({position: 'html', blockInfo: {enabled: true}});\n\t\t\tapp.saveAjax('setDefault', null, {record: id}).done(function (data) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({mode: 'hide'});\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage({text: app.vtranslate('JS_CURRENCY_DETAILS_SAVED')});\n\t\t\t\tSettings_Currency_Js.currencyInstance.loadListViewContents();\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * This function used to trigger Delete Currency\n\t */\n\ttriggerDelete: function (event, id) {\n\t\tevent.stopPropagation();\n\t\tvar currentTarget = jQuery(event.currentTarget);\n\t\tvar currentTrEle = currentTarget.closest('tr');\n\t\tvar instance = Settings_Currency_Js.currencyInstance;\n\t\tinstance.transformEdit(id).done(function (data) {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tvar form = jQuery('#transformCurrency');\n\n\t\t\t\t//register all select2 Elements\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2'));\n\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar transferCurrencyEle = form.find('select[name=\"transform_to_id\"]');\n\t\t\t\t\tinstance.deleteCurrency(id, transferCurrencyEle, currentTrEle);\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {'width': '500px'});\n\t\t});\n\t}\n\n}, {\n\n\t//constructor\n\tinit: function () {\n\t\tSettings_Currency_Js.currencyInstance = this;\n\t},\n\n\t/*\n\t * function to show editView for Add/Edit Currency\n\t * @params: id - currencyId\n\t */\n\tshowEditView: function (id) {\n\t\tvar thisInstance = this;\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'EditAjax';\n\t\tparams['record'] = id;\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar callBackFunction = function (data) {\n\t\t\t\tvar form = jQuery('#editCurrency');\n\t\t\t\tvar record = form.find('[name=\"record\"]').val();\n\n\t\t\t\t//register all select2 Elements\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(form.find('select.select2'));\n\t\t\t\tvar currencyStatus = form.find('[name=\"currency_status\"]').is(':checked');\n\t\t\t\tif (record != '' && currencyStatus) {\n\t\t\t\t\t//While editing currency, register the status change event\n\t\t\t\t\tthisInstance.registerCurrencyStatusChangeEvent(form);\n\t\t\t\t}\n\t\t\t\t//If we change the currency name, change the code and symbol for that currency\n\t\t\t\tthisInstance.registerCurrencyNameChangeEvent(form);\n\n\t\t\t\tvar params = app.validationEngineOptions;\n\t\t\t\tparams.onValidationComplete = function (form, valid) {\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tthisInstance.saveCurrencyDetails(form);\n\t\t\t\t\t\treturn valid;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tform.validationEngine(params);\n\n\t\t\t\tform.on('submit', function (e) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tapp.showModalWindow(data, function (data) {\n\t\t\t\tif (typeof callBackFunction == 'function') {\n\t\t\t\t\tcallBackFunction(data);\n\t\t\t\t}\n\t\t\t}, {'width': '600px'});\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\taDeferred.reject(error);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * Register Change event for currency status\n\t */\n\tregisterCurrencyStatusChangeEvent: function (form) {\n\t\t/*If the status changed to Inactive while editing currency,\n\t\t currency should transfer to other existing currencies */\n\t\tform.find('[name=\"currency_status\"]').on('change', function (e) {\n\t\t\tvar currentTarget = jQuery(e.currentTarget);\n\t\t\tif (currentTarget.is(':checked')) {\n\t\t\t\tform.find('div.transferCurrency').addClass('d-none');\n\t\t\t} else {\n\t\t\t\tform.find('div.transferCurrency').removeClass('d-none');\n\t\t\t}\n\t\t})\n\t},\n\n\t/**\n\t * Register Change event for currency Name\n\t */\n\tregisterCurrencyNameChangeEvent: function (form) {\n\t\tvar currencyNameEle = form.find('select[name=\"currency_name\"]');\n\t\t//on change of currencyName, update the currency code & symbol\n\t\tcurrencyNameEle.on('change', function () {\n\t\t\tvar selectedCurrencyOption = currencyNameEle.find('option:selected');\n\t\t\tform.find('[name=\"currency_code\"]').val(selectedCurrencyOption.data('code'));\n\t\t\tform.find('[name=\"currency_symbol\"]').val(selectedCurrencyOption.data('symbol'));\n\t\t})\n\t},\n\n\t/**\n\t * This function will save the currency details\n\t */\n\tsaveCurrencyDetails: function (form) {\n\t\tvar thisInstance = this;\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tvar data = form.serializeFormData();\n\t\tdata['module'] = app.getModuleName();\n\t\tdata['parent'] = app.getParentModuleName();\n\t\tdata['action'] = 'SaveAjax';\n\t\tdata['mode'] = 'save';\n\n\t\tAppConnector.request(data).done(function (data) {\n\t\t\tif (data['success']) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\tapp.hideModalWindow();\n\t\t\t\tvar params = {};\n\t\t\t\tparams.text = app.vtranslate('JS_CURRENCY_DETAILS_SAVED');\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\tthisInstance.loadListViewContents();\n\t\t\t}\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\n\t/**\n\t * This function will load the listView contents after Add/Edit currency\n\t */\n\tloadListViewContents: function () {\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'List';\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t//replace the new list view contents\n\t\t\tjQuery('#listViewContents').html(data);\n\t\t\t//thisInstance.triggerDisplayTypeEvent();\n\t\t}).fail(function (error, err) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t});\n\t},\n\n\t/**\n\t * This function will show the Transform Currency view while delete the currency\n\t */\n\ttransformEdit: function (id) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['view'] = 'TransformEditAjax';\n\t\tparams['record'] = id;\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * This function will delete the currency and save the transferCurrency details\n\t */\n\tdeleteCurrency: function (id, transferCurrencyEle, currentTrEle) {\n\t\tvar transferCurrencyId = transferCurrencyEle.find('option:selected').val();\n\t\tvar params = {};\n\t\tparams['module'] = app.getModuleName();\n\t\tparams['parent'] = app.getParentModuleName();\n\t\tparams['action'] = 'DeleteAjax';\n\t\tparams['record'] = id;\n\t\tparams['transform_to_id'] = transferCurrencyId;\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tapp.hideModalWindow();\n\t\t\tvar params = {};\n\t\t\tparams.text = app.vtranslate('JS_CURRENCY_DELETED_SUCCESSFULLY');\n\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\tcurrentTrEle.fadeOut('slow').remove();\n\t\t});\n\t},\n\n\ttriggerDisplayTypeEvent: function () {\n\t\tvar widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\tif (widthType) {\n\t\t\tvar elements = jQuery('.listViewEntriesTable').find('td,th');\n\t\t\telements.attr('class', widthType);\n\t\t}\n\t},\n\n\tregisterRowClick: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#listViewContents').on('click', '.listViewEntries', function (e) {\n\t\t\tvar currentRow = jQuery(e.currentTarget);\n\t\t\tif (currentRow.find('.fas fa-edit ').length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthisInstance.showEditView(currentRow.data('id'));\n\t\t})\n\t},\n\n\tregisterEvents: function () {\n\t\tthis.registerRowClick();\n\t}\n\n});\n\njQuery(document).ready(function () {\n\tvar currencyInstance = new Settings_Currency_Js();\n\tcurrencyInstance.registerEvents();\n})\n"],"names":["jQuery","Class","currencyInstance","triggerAdd","event","stopPropagation","Settings_Currency_Js","instance","showEditView","triggerEdit","id","triggerDefault","Vtiger_Helper_Js","showConfirmationBox","message","app","vtranslate","done","progressIndicator","position","blockInfo","enabled","saveAjax","record","progressIndicatorElement","mode","Settings_Vtiger_Index_Js","showMessage","text","loadListViewContents","triggerDelete","currentTarget","currentTrEle","closest","transformEdit","data","App","Fields","Picklist","showSelect2ElementView","form","find","on","e","preventDefault","deleteCurrency","transferCurrencyEle","showModalWindow","callBackFunction","init","aDeferred","Deferred","params","getModuleName","getParentModuleName","AppConnector","request","val","is","currencyStatus","thisInstance","registerCurrencyStatusChangeEvent","registerCurrencyNameChangeEvent","validationEngineOptions","onValidationComplete","valid","saveCurrencyDetails","validationEngine","fail","error","reject","promise","addClass","removeClass","currencyNameEle","selectedCurrencyOption","serializeFormData","hideModalWindow","html","resolve","err","transferCurrencyId","fadeOut","remove","triggerDisplayTypeEvent","cacheGet","widthType","elements","attr","registerRowClick","length","currentRow","registerEvents","document","ready"],"mappings":"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"}