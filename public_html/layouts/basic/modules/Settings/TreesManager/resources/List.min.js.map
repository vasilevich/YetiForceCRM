{"version":3,"file":"List.min.js","sources":["List.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_Vtiger_List_Js(\"Settings_TreesManager_List_Js\", {\n\ttriggerCreate: function (url) {\n\t\tvar selectedModule = jQuery('#moduleFilter').val();\n\t\tif (selectedModule.length > 0) {\n\t\t\turl += '&source_module=' + selectedModule\n\t\t}\n\t\twindow.location.href = url;\n\t}\n}, {\n\t/*\n\t * function to trigger delete record action\n\t * @params: delete record url.\n\t */\n\tDeleteRecord: function (deleteRecordActionUrl) {\n\t\tvar thisInstance = this;\n\t\tvar message = app.vtranslate('LBL_DELETE_CONFIRMATION');\n\t\tVtiger_Helper_Js.showConfirmationBox({'message': message}).done(function (data) {\n\t\t\tAppConnector.request(deleteRecordActionUrl).done(function (data) {\n\t\t\t\tif (data.success == true) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate('JS_TREE_DELETED_SUCCESSFULLY')\n\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\tjQuery('#recordsCount').val('');\n\t\t\t\t\tjQuery('#totalPageCount').text('');\n\t\t\t\t\tthisInstance.getListViewRecords().done(function () {\n\t\t\t\t\t\tthisInstance.updatePagination();\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(data.error.message);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tregisterFilterChangeEvent: function () {\n\t\tvar thisInstance = this;\n\t\tjQuery('#moduleFilter').on('change', function (e) {\n\t\t\tjQuery('#pageNumber').val(\"1\");\n\t\t\tjQuery('#pageToJump').val('1');\n\t\t\tjQuery('#orderBy').val('');\n\t\t\tjQuery(\"#sortOrder\").val('');\n\t\t\tvar params = {\n\t\t\t\tmodule: app.getModuleName(),\n\t\t\t\tparent: app.getParentModuleName(),\n\t\t\t\tsourceModule: jQuery(e.currentTarget).val()\n\t\t\t}\n\t\t\t//Make the select all count as empty\n\t\t\tjQuery('#recordsCount').val('');\n\t\t\t//Make total number of pages as empty\n\t\t\tjQuery('#totalPageCount').text(\"\");\n\t\t\tthisInstance.getListViewRecords(params).done(function (data) {\n\t\t\t\tthisInstance.updatePagination();\n\t\t\t});\n\t\t});\n\t},\n\n\t/*\n\t * function to load the contents from the url through pjax\n\t */\n\tloadContents: function (url) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tAppConnector.requestPjax(url).done(function (data) {\n\t\t\tjQuery('.contentsDiv').html(data);\n\t\t\taDeferred.resolve(data);\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * Function to register events\n\t */\n\tregisterEvents: function () {\n\t\tthis._super();\n\t\tthis.registerFilterChangeEvent();\n\t}\n})\n"],"names":["Settings_Vtiger_List_Js","triggerCreate","url","jQuery","val","length","selectedModule","window","location","href","DeleteRecord","deleteRecordActionUrl","message","app","vtranslate","Vtiger_Helper_Js","showConfirmationBox","done","AppConnector","request","data","success","text","Settings_Vtiger_Index_Js","showMessage","params","thisInstance","getListViewRecords","updatePagination","showPnotify","error","registerFilterChangeEvent","on","e","module","getModuleName","parent","getParentModuleName","sourceModule","currentTarget","loadContents","Deferred","requestPjax","html","aDeferred","resolve","fail","err","reject","promise","registerEvents","_super"],"mappings":";;AAGAA,wBAAwB,+BAAxB,CAAyD,CACxDC,cAAe,uBAAUC,GAAV,CAAe,CAC7B,mBAAqBC,OAAO,eAAP,EAAwBC,GAAxB,EAArB,CAC4B,CAAxB,gBAAeC,MAFU,GAG5BH,KAAO,kBAAoBI,cAHC,EAK7BC,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBP,IACvB,CAPuD,CAAzD,CAQG;;;IAKFQ,aAAc,sBAAUC,qBAAV,CAAiC,kBAC3B,IAD2B,CAE1CC,QAAUC,IAAIC,UAAJ,CAAe,yBAAf,CAFgC,CAG9CC,iBAAiBC,mBAAjB,CAAqC,CAAC,QAAWJ,OAAZ,CAArC,EAA2DK,IAA3D,CAAgE,UAAgB,CAC/EC,aAAaC,OAAb,CAAqBR,qBAArB,EAA4CM,IAA5C,CAAiD,SAAUG,IAAV,CAAgB,CAChE,GAAI,SAAKC,OAAT,CAA0B,CACzB,WAAa,CACZC,KAAMT,IAAIC,UAAJ,CAAe,8BAAf,CADM,CAAb,CAGAS,yBAAyBC,WAAzB,CAAqCC,MAArC,CAJyB,CAKzBtB,OAAO,eAAP,EAAwBC,GAAxB,CAA4B,EAA5B,CALyB,CAMzBD,OAAO,iBAAP,EAA0BmB,IAA1B,CAA+B,EAA/B,CANyB,CAOzBI,aAAaC,kBAAb,GAAkCV,IAAlC,CAAuC,UAAY,CAClDS,aAAaE,gBAAb,GACA,CAFD,EAGA,CAVD,sBAWkBC,WAAjB,CAA6BT,KAAKU,KAAL,CAAWlB,OAAxC,EAED,CAdD,EAeA,CAhBD,EAiBA,CAzBC,CA2BFmB,0BAA2B,oCAAY,CACtC,iBAAmB,IAAnB,CACA5B,OAAO,eAAP,EAAwB6B,EAAxB,CAA2B,QAA3B,CAAqC,SAAUC,CAAV,CAAa,CACjD9B,OAAO,aAAP,EAAsBC,GAAtB,CAA0B,GAA1B,CADiD,CAEjDD,OAAO,aAAP,EAAsBC,GAAtB,CAA0B,GAA1B,CAFiD,CAGjDD,OAAO,UAAP,EAAmBC,GAAnB,CAAuB,EAAvB,CAHiD,CAIjDD,OAAO,YAAP,EAAqBC,GAArB,CAAyB,EAAzB,CAJiD,CAKjD,WAAa,CACZ8B,OAAQrB,IAAIsB,aAAJ,EADI,CAEZC,OAAQvB,IAAIwB,mBAAJ,EAFI,CAGZC,aAAcnC,OAAO8B,EAAEM,aAAT,EAAwBnC,GAAxB,EAEf;CALA,CAOA;AADAD,OAAO,eAAP,EAAwBC,GAAxB,CAA4B,EAA5B,CAXiD,CAajDD,OAAO,iBAAP,EAA0BmB,IAA1B,CAA+B,EAA/B,CAbiD,CAcjDI,aAAaC,kBAAb,CAAgCF,MAAhC,EAAwCR,IAAxC,CAA6C,UAAgB,CAC5DS,aAAaE,gBAAb,GACA,CAFD,EAGA,CAjBD,EAkBA,CA/CC;;IAoDFY,aAAc,sBAAUtC,GAAV,CAAe,CAC5B,cAAgBC,OAAOsC,QAAP,EAAhB,CAOA,oBANaC,WAAb,CAAyBxC,GAAzB,EAA8Be,IAA9B,CAAmC,SAAUG,IAAV,CAAgB,CAClDjB,OAAO,cAAP,EAAuBwC,IAAvB,CAA4BvB,IAA5B,CADkD,CAElDwB,UAAUC,OAAV,CAAkBzB,IAAlB,EACA,CAHD,EAGG0B,IAHH,CAGQ,SAAUhB,KAAV,CAAiBiB,GAAjB,CAAsB,CAC7BH,UAAUI,MAAV,CAAiBlB,KAAjB,CAAwBiB,GAAxB,EACA,CALD,CAMA,CAAOH,UAAUK,OAAV,EACP,CA7DC;;IAkEFC,eAAgB,yBAAY,CAC3B,KAAKC,MAAL,EAD2B,CAE3B,KAAKpB,yBAAL,GACA,CArEC,CARH"}