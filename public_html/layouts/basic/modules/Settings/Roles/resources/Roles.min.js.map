{"version":3,"file":"Roles.min.js","sources":["Roles.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nvar Settings_Roles_Js = {\n\n\tnewPriviliges: false,\n\n\tinitDeleteView: function () {\n\t\tjQuery('#roleDeleteForm').validationEngine(app.validationEngineOptions);\n\n\t\tjQuery('[data-action=\"popup\"]').on('click', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tvar field = target.data('field');\n\n\t\t\tvar popupInstance = Vtiger_Popup_Js.getInstance();\n\t\t\tpopupInstance.show(target.data('url'));\n\t\t\tpopupInstance.retrieveSelectedRecords(function (data) {\n\t\t\t\ttry {\n\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t} catch (e) {\n\t\t\t\t}\n\n\t\t\t\tif (typeof data == 'object') {\n\t\t\t\t\tjQuery('[name=\"' + field + '_display\"]').val(data.label);\n\t\t\t\t\tdata = data.value;\n\t\t\t\t}\n\t\t\t\tjQuery('[name=\"' + field + '\"]').val(data);\n\t\t\t});\n\t\t});\n\n\t\tjQuery('#clearRole').on('click', function (e) {\n\t\t\tjQuery('[name=\"transfer_record_display\"]').val('');\n\t\t\tjQuery('[name=\"transfer_record\"]').val('');\n\t\t});\n\t},\n\n\tinitPopupView: function () {\n\t\tjQuery('.roleEle').on('click', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\t// jquery_windowmsg plugin expects second parameter to be string.\n\t\t\tjQuery.triggerParentEvent('postSelection', JSON.stringify({\n\t\t\t\tvalue: target.closest('li').data('roleid'),\n\t\t\t\tlabel: target.text()\n\t\t\t}));\n\t\t\tself.close();\n\t\t});\n\t},\n\n\tinitEditView: function () {\n\n\t\tfunction applyMoveChanges(roleid, parent_roleid) {\n\t\t\tvar params = {\n\t\t\t\tmodule: 'Roles',\n\t\t\t\taction: 'MoveAjax',\n\t\t\t\tparent: 'Settings',\n\t\t\t\trecord: roleid,\n\t\t\t\tparent_roleid: parent_roleid\n\t\t\t}\n\n\t\t\tAppConnector.request(params).done(function (res) {\n\t\t\t\tif (!res.success) {\n\t\t\t\t\tapp.showAlert(app.vtranslate('JS_FAILED_TO_SAVE'));\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tjQuery('[rel=\"tooltip\"]').tooltip();\n\n\t\tfunction modalActionHandler(event) {\n\t\t\tvar target = $(event.currentTarget);\n\t\t\tapp.showModalWindow(null, target.data('url'), function (data) {\n\t\t\t\tSettings_Roles_Js.initDeleteView();\n\t\t\t});\n\t\t}\n\n\t\tjQuery('[data-action=\"modal\"]').on('click', modalActionHandler);\n\n\t\tjQuery('.toolbar').hide();\n\n\t\tjQuery('.toolbar-handle').on('mouseover', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tjQuery('.toolbar', target).css({display: 'inline'});\n\t\t});\n\t\tjQuery('.toolbar-handle').on('mouseout', function (e) {\n\t\t\tvar target = $(e.currentTarget);\n\t\t\tjQuery('.toolbar', target).hide();\n\t\t});\n\n\t\tjQuery('.draggable').draggable({\n\t\t\tcontainment: '.treeView',\n\t\t\tstart: function (event, ui) {\n\t\t\t\tvar container = jQuery(ui.helper);\n\t\t\t\tvar referenceid = container.data('refid');\n\t\t\t\tvar sourceGroup = jQuery('[data-grouprefid=\"' + referenceid + '\"]');\n\t\t\t\tvar sourceRoleId = sourceGroup.data('roleid');\n\t\t\t\tif (sourceRoleId == 'H5' || sourceRoleId == 'H2') {\n\t\t\t\t\tvar params = {};\n\t\t\t\t\tparams.title = app.vtranslate('JS_PERMISSION_DENIED');\n\t\t\t\t\tparams.text = app.vtranslate('JS_NO_PERMISSIONS_TO_MOVE');\n\t\t\t\t\tparams.type = 'error';\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t}\n\t\t\t},\n\t\t\thelper: function (event) {\n\t\t\t\tvar target = $(event.currentTarget);\n\t\t\t\tvar targetGroup = target.closest('li');\n\t\t\t\tvar timestamp = +(new Date());\n\n\t\t\t\tvar container = $('<div/>');\n\t\t\t\tcontainer.data('refid', timestamp);\n\t\t\t\tcontainer.html(targetGroup.clone());\n\n\t\t\t\t// For later reference we shall assign the id before we return\n\t\t\t\ttargetGroup.attr('data-grouprefid', timestamp);\n\n\t\t\t\treturn container;\n\t\t\t}\n\t\t});\n\t\tjQuery('.droppable').droppable({\n\t\t\thoverClass: 'btn-primary',\n\t\t\ttolerance: 'pointer',\n\t\t\tdrop: function (event, ui) {\n\t\t\t\tvar container = $(ui.helper);\n\t\t\t\tvar referenceid = container.data('refid');\n\t\t\t\tvar sourceGroup = $('[data-grouprefid=\"' + referenceid + '\"]');\n\n\t\t\t\tvar thisWrapper = $(this).closest('div');\n\n\t\t\t\tvar targetRole = thisWrapper.closest('li').data('role');\n\t\t\t\tvar targetRoleId = thisWrapper.closest('li').data('roleid');\n\t\t\t\tvar sourceRole = sourceGroup.data('role');\n\t\t\t\tvar sourceRoleId = sourceGroup.data('roleid');\n\n\t\t\t\t// Attempt to push parent-into-its own child hierarchy?\n\t\t\t\tif (targetRole.indexOf(sourceRole + '::') == 0) {\n\t\t\t\t\t// Sorry\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t//Attempt to move the roles CEO and Sales Person\n\t\t\t\tif (sourceRoleId == 'H5' || sourceRoleId == 'H2') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsourceGroup.appendTo(thisWrapper.next('ul'));\n\n\t\t\t\tapplyMoveChanges(sourceRoleId, targetRoleId);\n\t\t\t}\n\t\t});\n\t},\n\n\tregisterSubmitEvent: function () {\n\t\tvar thisInstance = this;\n\t\tvar form = jQuery('#EditView');\n\t\tform.on('submit', function (e) {\n\t\t\tif (form.data('submit') == 'true' && form.data('performCheck') == 'true') {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\tvar selectElement = jQuery('#profilesList');\n\t\t\t\tvar select2Element = app.getSelect2ElementFromSelect(selectElement);\n\t\t\t\tvar result = Vtiger_MultiSelect_Validator_Js.invokeValidation(selectElement);\n\t\t\t\tif (result != true) {\n\t\t\t\t\tselect2Element.validationEngine('showPrompt', result, 'error', 'bottomLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\tselect2Element.validationEngine('hide');\n\t\t\t\t}\n\n\t\t\t\tif (form.data('jqv').InvalidFields.length <= 0) {\n\t\t\t\t\tvar formData = form.serializeFormData();\n\t\t\t\t\tthisInstance.checkDuplicateName({\n\t\t\t\t\t\t'rolename': formData.rolename,\n\t\t\t\t\t\t'record': formData.record\n\t\t\t\t\t}).done(function (data) {\n\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\tform.data('performCheck', 'true');\n\t\t\t\t\t\tform.submit();\n\t\t\t\t\t\tjQuery.progressIndicator({\n\t\t\t\t\t\t\t'blockInfo': {\n\t\t\t\t\t\t\t\t'enabled': true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}).fail(function (data, err) {\n\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\tparams['text'] = data['message'];\n\t\t\t\t\t\tparams['type'] = 'error';\n\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t});\n\t},\n\n\t/*\n\t * Function to check Duplication of Role Names\n\t * returns boolean true or false\n\t */\n\n\tcheckDuplicateName: function (details) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\tvar params = {\n\t\t\t'module': app.getModuleName(),\n\t\t\t'parent': app.getParentModuleName(),\n\t\t\t'action': 'EditAjax',\n\t\t\t'mode': 'checkDuplicate',\n\t\t\t'rolename': details.rolename,\n\t\t\t'record': details.record\n\t\t}\n\n\t\tAppConnector.request(params).done(function (data) {\n\t\t\tvar response = data['result'];\n\t\t\tvar result = response['success'];\n\t\t\tif (result == true) {\n\t\t\t\taDeferred.reject(response);\n\t\t\t} else {\n\t\t\t\taDeferred.resolve(response);\n\t\t\t}\n\t\t}).fail(function (error, err) {\n\t\t\taDeferred.reject(error, err);\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\t/**\n\t * Register button to open modal logo upload form\n\t */\n\tregisterModalUploadButton: function () {\n\t\tconst thisInstance = this;\n\t\t$('.js-upload-logo').on('click', function () {\n\t\t\tapp.showModalWindow(null, $(this).data('url'), function (data) {\n\t\t\t\tthisInstance.registerUploadButton(data.find('form'));\n\t\t\t});\n\t\t});\n\t},\n\t/**\n\t * Register button send form\n\t * @param {jQuery} form\n\t */\n\tregisterUploadButton: function (form) {\n\t\tform.on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tif (form.validationEngine('validate') === true) {\n\t\t\t\tapp.removeEmptyFilesInput(form[0]);\n\t\t\t\tlet formData = new FormData(form[0]),\n\t\t\t\t\tprogressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tblockInfo: {'enabled': true}\n\t\t\t\t\t}),\n\t\t\t\t\tnotifyType = '';\n\t\t\t\tAppConnector.request({\n\t\t\t\t\turl: 'index.php',\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\tdata: formData,\n\t\t\t\t\tprocessData: false,\n\t\t\t\t\tcontentType: false\n\t\t\t\t}).done(function (data) {\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\tif (true === data.result.success) {\n\t\t\t\t\t\tnotifyType = 'success';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnotifyType = 'error';\n\t\t\t\t\t}\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MESSAGE'),\n\t\t\t\t\t\ttext: app.vtranslate(data.result.message),\n\t\t\t\t\t\ttype: notifyType\n\t\t\t\t\t});\n\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t},\n\tregisterEvents: function () {\n\t\tSettings_Roles_Js.registerModalUploadButton();\n\t\tSettings_Roles_Js.initEditView();\n\t\tSettings_Roles_Js.registerSubmitEvent();\n\t}\n}\njQuery(document).ready(function () {\n\tSettings_Roles_Js.registerEvents();\n})\n"],"names":["newPriviliges","initDeleteView","jQuery","validationEngine","app","validationEngineOptions","on","e","preventDefault","$","currentTarget","field","target","data","popupInstance","Vtiger_Popup_Js","getInstance","show","retrieveSelectedRecords","JSON","parse","val","label","value","initPopupView","triggerParentEvent","stringify","closest","text","self","close","initEditView","roleid","parent_roleid","AppConnector","request","module","action","parent","record","done","res","success","showAlert","vtranslate","window","location","reload","tooltip","event","showModalWindow","Settings_Roles_Js","hide","css","display","draggable","containment","start","ui","helper","referenceid","container","sourceGroup","sourceRoleId","params","title","type","Settings_Vtiger_Index_Js","showMessage","targetGroup","timestamp","html","clone","attr","droppable","hoverClass","tolerance","drop","thisWrapper","targetRole","targetRoleId","sourceRole","indexOf","appendTo","next","applyMoveChanges","registerSubmitEvent","form","select2Element","getSelect2ElementFromSelect","selectElement","result","Vtiger_MultiSelect_Validator_Js","invokeValidation","InvalidFields","length","serializeFormData","thisInstance","checkDuplicateName","formData","rolename","submit","progressIndicator","fail","removeData","formAlignmentAfterValidation","details","Deferred","getModuleName","getParentModuleName","response","aDeferred","reject","resolve","error","err","promise","registerModalUploadButton","registerUploadButton","find","removeEmptyFilesInput","progressIndicatorElement","blockInfo","notifyType","url","processData","contentType","Vtiger_Helper_Js","showPnotify","message","hideModalWindow","registerEvents","document","ready"],"mappings":"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"}