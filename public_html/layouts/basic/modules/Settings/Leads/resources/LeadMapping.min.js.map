{"version":3,"file":"LeadMapping.min.js","sources":["LeadMapping.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\"Settings_LeadMapping_Js\", {\n\n\t/**\n\t * Function to register event to edit leads mapping\n\t */\n\ttriggerEdit: function (editUrl) {\n\t\tvar aDeferred = jQuery.Deferred();\n\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t'position': 'html',\n\t\t\t'blockInfo': {\n\t\t\t\t'enabled': true\n\t\t\t}\n\t\t});\n\n\t\tAppConnector.request(editUrl).done(function (data) {\n\t\t\tvar detailContentsHolder = jQuery('.contentsDiv');\n\t\t\tdetailContentsHolder.html(data);\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tvar leadMappingInstance = new Settings_LeadMapping_Js();\n\t\t\tleadMappingInstance.registerEventsForEditView();\n\t\t}).fail(function (error) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t});\n\t\treturn aDeferred.promise();\n\t},\n\n\t/**\n\t * Function to register event for delete lead mapping\n\t */\n\ttriggerDelete: function (event, url) {\n\t\tvar element = jQuery(event.currentTarget);\n\t\tvar mappingContainer = element.closest('.listViewEntries');\n\t\tvar mappingId = mappingContainer.data('cfmid');\n\t\tvar deleteUrl = url + '&mappingId=' + mappingId;\n\t\tAppConnector.request(deleteUrl).done(function (data) {\n\t\t\tvar message = data.result[0];\n\t\t\tvar params = {\n\t\t\t\ttext: message\n\t\t\t};\n\t\t\tif (data.success) {\n\t\t\t\tmappingContainer.remove();\n\t\t\t} else {\n\t\t\t\tparams['type'] = 'error';\n\t\t\t}\n\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t});\n\t}\n}, {\n\t/**\n\t * Function to register events for edit view of leads mapping\n\t */\n\tregisterEventsForEditView: function () {\n\t\tvar form = jQuery('#leadsMapping');\n\t\tvar select2Elements = form.find('.select2');\n\t\tApp.Fields.Picklist.showSelect2ElementView(select2Elements);\n\t\tthis.registerEventForAddingNewMapping();\n\t\tthis.registerOnChangeEventForSourceModule();\n\t\tthis.registerEventToDeleteMapping();\n\t\tthis.registerEventForFormSubmit();\n\t\tthis.registerOnChangeEventOfTargetModule();\n\t\tjQuery('select.accountsFields.select2,select.contactFields.select2').trigger('change', false);\n\t},\n\n\t/**\n\t * Function to register event for adding new convert to lead mapping\n\t */\n\tregisterEventForAddingNewMapping: function () {\n\t\tjQuery('#addMapping').on('click', function (e) {\n\t\t\tvar convertLeadMappingTable = jQuery('#convertLeadMapping');\n\t\t\tvar lastSequenceNumber = convertLeadMappingTable.find('tr:not(.newMapping):last[sequence-number]').attr('sequence-number');\n\t\t\tvar newSequenceNumber = parseInt(lastSequenceNumber) + 1;\n\t\t\tvar newMapping = jQuery('.newMapping').clone(true, true);\n\t\t\tnewMapping.attr('sequence-number', newSequenceNumber);\n\t\t\tnewMapping.find('select.leadsFields.newSelect').attr(\"name\", 'mapping[' + newSequenceNumber + '][lead]');\n\t\t\tnewMapping.find('select.accountsFields.newSelect').attr(\"name\", 'mapping[' + newSequenceNumber + '][account]');\n\t\t\tnewMapping.find('select.contactFields.newSelect').attr(\"name\", 'mapping[' + newSequenceNumber + '][contact]');\n\t\t\tnewMapping.removeClass('d-none newMapping');\n\t\t\tnewMapping.appendTo(convertLeadMappingTable);\n\t\t\tnewMapping.find('.newSelect').removeClass('newSelect').addClass('select2');\n\t\t\tvar select2Elements = newMapping.find('.select2');\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(select2Elements);\n\t\t\tjQuery('select.accountsFields.select2,select.contactFields.select2', newMapping).trigger('change', false);\n\t\t})\n\t},\n\n\t/**\n\t * Function to register on change event for select2 element\n\t */\n\tregisterOnChangeEventForSourceModule: function () {\n\t\tvar form = jQuery('#leadsMapping');\n\t\tform.on('change', '.leadsFields', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar container = jQuery(element.closest('tr'));\n\t\t\tvar selectedValue = element.val();\n\t\t\tvar selectedOption = element.find('option[value=\"' + selectedValue + '\"]');\n\t\t\tvar selectedDataType = selectedOption.data('type');\n\t\t\tvar accountFieldsSelectElement = container.find('select.accountsFields.select2');\n\t\t\tvar contactFieldsSelectElement = container.find('select.contactFields.select2');\n\n\t\t\tvar accountFieldsBasedOnType = form.find('.newMapping').find('.accountsFields').children().filter('[data-type=\"' + selectedDataType + '\"]').clone(true, true);\n\t\t\tvar contactFieldsBasedOnType = form.find('.newMapping').find('.contactFields').children().filter('option[data-type=\"' + selectedDataType + '\"]').clone(true, true);\n\t\t\tselectedDataType = app.vtranslate(\"JS_\" + selectedDataType);\n\t\t\tcontainer.find('.selectedFieldDataType').html(selectedDataType);\n\n\t\t\tvar noneValue = app.vtranslate('JS_NONE');\n\t\t\taccountFieldsSelectElement.html(accountFieldsBasedOnType);\n\t\t\tcontactFieldsSelectElement.html(contactFieldsBasedOnType);\n\n\t\t\tif (selectedDataType != \"None\") {\n\t\t\t\taccountFieldsSelectElement.prepend('<option data-type=\"' + noneValue + '\" label=\"' + noneValue + '\" value=\"0\" selected>' + noneValue + '</option>');\n\t\t\t\tcontactFieldsSelectElement.prepend('<option data-type=\"' + noneValue + '\" label=\"' + noneValue + '\" value=\"0\" selected>' + noneValue + '</option>');\n\t\t\t}\n\n\t\t\taccountFieldsSelectElement.trigger('change');\n\t\t\tcontactFieldsSelectElement.trigger('change');\n\n\t\t})\n\t},\n\n\t/**\n\t * Function to register event to delete mapping\n\t */\n\tregisterEventToDeleteMapping: function () {\n\t\tvar form = jQuery('#leadsMapping');\n\t\tform.on('click', '.deleteMapping', function (e) {\n\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\tvar mappingContainer = element.closest('tr');\n\t\t\tvar mappingContainerSequenceNumber = mappingContainer.attr('sequence-number');\n\t\t\tvar deletableName = 'mapping[' + mappingContainerSequenceNumber + '][deletable]';\n\t\t\tmappingContainer.prepend('<input type=\"hidden\" name=\"' + deletableName + '\" />')\n\t\t\tmappingContainer.data('deletable', true).hide('slow');\n\t\t\tvar params = {\n\t\t\t\ttext: app.vtranslate('JS_MAPPING_DELETED_SUCCESSFULLY')\n\t\t\t}\n\t\t\tSettings_Vtiger_Index_Js.showMessage(params);\n\t\t});\n\t},\n\n\t/**\n\t * Function to handle edit view convert lead form submit\n\t */\n\tregisterEventForFormSubmit: function () {\n\t\tjQuery('#leadsMapping').on('submit', function (e) {\n\t\t\te.preventDefault();\n\t\t\tvar mappingDetails = jQuery(this).serializeFormData();\n\t\t\tvar params = {\n\t\t\t\t'module': app.getModuleName(),\n\t\t\t\t'parent': app.getParentModuleName(),\n\t\t\t\t'action': 'MappingSave',\n\t\t\t\t'mapping': mappingDetails\n\t\t\t}\n\n\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t'position': 'html',\n\t\t\t\t'blockInfo': {\n\t\t\t\t\t'enabled': true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\tif (data.success) {\n\t\t\t\t\tvar detailViewParams = {\n\t\t\t\t\t\t'module': app.getModuleName(),\n\t\t\t\t\t\t'parent': app.getParentModuleName(),\n\t\t\t\t\t\t'view': 'MappingDetail'\n\t\t\t\t\t};\n\t\t\t\t\tAppConnector.request(detailViewParams).done(function (data) {\n\t\t\t\t\t\tvar detailContentsHolder = jQuery('.contentsDiv');\n\t\t\t\t\t\tdetailContentsHolder.html(data);\n\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet notifyParams;\n\t\t\t\tif (!data.result.status) {\n\t\t\t\t\tnotifyParams = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_INVALID_MAPPING'),\n\t\t\t\t\t\ttext: data.result,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tnotifyParams = {\n\t\t\t\t\t\ttitle: app.vtranslate('JS_MAPPING_SAVED_SUCCESSFULLY'),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tVtiger_Helper_Js.showPnotify(notifyParams);\n\t\t\t}).fail(function (error) {\n\t\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\t});\n\t\t})\n\t},\n\n\t/**\n\t * Function to register on chnage event of target module\n\t */\n\tregisterOnChangeEventOfTargetModule: function () {\n\t\tvar form = jQuery('#leadsMapping');\n\t\tform.on('change', 'select.accountsFields.select2,select.contactFields.select2', function (e, executeChange) {\n\t\t\tif (typeof executeChange === \"undefined\") {\n\t\t\t\texecuteChange = true;\n\t\t\t}\n\t\t\tvar selectElement = jQuery(e.currentTarget);\n\t\t\tvar selectedValue = selectElement.children().filter('option:selected').text();\n\t\t\tvar selectedOptionId = selectElement.children().filter('option:selected').val();\n\t\t\tvar mappingContainer = selectElement.closest('tr');\n\n\t\t\tvar duplicateOption = false;\n\t\t\tvar existingIdElement;\n\t\t\tif (selectedOptionId == \"0\") {\n\t\t\t\tselectedOptionId = \"false\";\n\t\t\t}\n\n\t\t\tif ((!executeChange) || (selectedOptionId == \"false\")) {\n\t\t\t\tselectElement.attr('selectedId', selectedOptionId);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//check for source module field\n\t\t\tvar sourceModuleSelect = mappingContainer.find('select.leadsFields.select2');\n\t\t\tvar sourceModuleSelectedField = sourceModuleSelect.val();\n\t\t\tvar sourceModuleSelectedFieldLabel = sourceModuleSelect.find('option[value=\"' + sourceModuleSelectedField + '\"]').text();\n\t\t\tif (sourceModuleSelectedField == \"0\") {\n\t\t\t\tduplicateOption = true;\n\t\t\t\tvar errorParams = {\n\t\t\t\t\ttext: app.vtranslate('JS_CANT_MAP') + \" \" + selectedValue + \" \" + app.vtranslate('JS_WITH') + \" \" + sourceModuleSelectedFieldLabel,\n\t\t\t\t\t'type': 'error'\n\t\t\t\t}\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(errorParams);\n\t\t\t}\n\n\t\t\tif (selectElement.hasClass('accountsFields')) {\n\t\t\t\texistingIdElement = jQuery('select.accountsFields.select2[selectedid=\"' + selectedOptionId + '\"]')\n\t\t\t} else {\n\t\t\t\texistingIdElement = jQuery('select.contactFields.select2[selectedid=\"' + selectedOptionId + '\"]')\n\t\t\t}\n\n\t\t\tif (existingIdElement.length > 0) {\n\t\t\t\tduplicateOption = true;\n\t\t\t}\n\n\t\t\tif (duplicateOption) {\n\t\t\t\tvar selectedFieldId = selectElement.attr('selectedid');\n\t\t\t\tif (selectedFieldId == \"false\") {\n\t\t\t\t\tselectElement.attr('selectedId', \"false\");\n\t\t\t\t} else if (selectedFieldId != \"false\") {\n\t\t\t\t\tselectElement.attr('selectedId', selectedFieldId);\n\t\t\t\t}\n\t\t\t\tvar warningMessage = selectedValue + \" \" + app.vtranslate('JS_IS_ALREADY_BEEN_MAPPED');\n\t\t\t\tvar notificationParams = {\n\t\t\t\t\ttext: warningMessage,\n\t\t\t\t\t'type': 'error'\n\t\t\t\t};\n\t\t\t\tSettings_Vtiger_Index_Js.showMessage(notificationParams);\n\t\t\t\tselectElement.val(0).trigger('change');\n\t\t\t} else {\n\t\t\t\tselectElement.attr('selectedId', selectedOptionId);\n\t\t\t}\n\t\t});\n\t}\n});\n"],"names":["jQuery","Class","triggerEdit","editUrl","Deferred","progressIndicatorElement","progressIndicator","request","done","data","detailContentsHolder","html","leadMappingInstance","registerEventsForEditView","fail","aDeferred","promise","triggerDelete","event","url","currentTarget","mappingContainer","element","closest","mappingId","AppConnector","result","params","text","message","success","remove","Settings_Vtiger_Index_Js","showMessage","select2Elements","form","find","App","Fields","Picklist","showSelect2ElementView","registerEventForAddingNewMapping","registerOnChangeEventForSourceModule","registerEventToDeleteMapping","registerEventForFormSubmit","registerOnChangeEventOfTargetModule","trigger","on","lastSequenceNumber","convertLeadMappingTable","attr","newSequenceNumber","parseInt","newMapping","clone","removeClass","appendTo","addClass","e","container","selectedValue","val","selectedOption","selectedDataType","accountFieldsSelectElement","contactFieldsSelectElement","accountFieldsBasedOnType","children","filter","contactFieldsBasedOnType","app","vtranslate","prepend","noneValue","mappingContainerSequenceNumber","hide","preventDefault","serializeFormData","getModuleName","getParentModuleName","mappingDetails","detailViewParams","notifyParams","status","title","type","Vtiger_Helper_Js","showPnotify","executeChange","selectElement","selectedOptionId","duplicateOption","sourceModuleSelectedField","sourceModuleSelect","sourceModuleSelectedFieldLabel","errorParams","existingIdElement","hasClass","length","selectedFieldId","warningMessage"],"mappings":"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"}