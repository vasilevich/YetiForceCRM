{"version":3,"file":"Edit2.min.js","sources":["Edit2.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\nSettings_MappedFields_Edit_Js(\n\t'Settings_MappedFields_Edit2_Js',\n\t{},\n\t{\n\t\tstep2Container: false,\n\t\tadvanceFilterInstance: false,\n\t\trestictName: ['_csrf', 'mode', 'module', 'parent', 'record', 'view'],\n\t\tinit: function() {\n\t\t\tthis.initialize();\n\t\t},\n\t\t/**\n\t\t * Function to get the container which holds all the reports step1 elements\n\t\t * @return jQuery object\n\t\t */\n\t\tgetContainer: function() {\n\t\t\treturn this.step2Container;\n\t\t},\n\t\t/**\n\t\t * Function to set the reports step1 container\n\t\t * @params : element - which represents the reports step1 container\n\t\t * @return : current instance\n\t\t */\n\t\tsetContainer: function(element) {\n\t\t\tthis.step2Container = element;\n\t\t\treturn this;\n\t\t},\n\t\t/**\n\t\t * Function  to intialize the reports step1\n\t\t */\n\t\tinitialize: function(container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = jQuery('#mf_step2');\n\t\t\t}\n\t\t\tif (container.is('#mf_step2')) {\n\t\t\t\tthis.setContainer(container);\n\t\t\t} else {\n\t\t\t\tthis.setContainer(jQuery('#mf_step2'));\n\t\t\t}\n\t\t},\n\t\tsubmit: function() {\n\t\t\tvar aDeferred = jQuery.Deferred();\n\t\t\tvar form = this.getContainer();\n\t\t\tvar formData = form.serializeFormData();\n\t\t\tvar saveData = this.getData(formData);\n\t\t\tsaveData.record = formData.record;\n\t\t\tthis.validationMappingFields().done(function(data) {\n\t\t\t\tif (data) {\n\t\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.saveAjax('step2', saveData).done(function(data) {\n\t\t\t\t\t\tif (data.success == true) {\n\t\t\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage({ text: app.vtranslate('JS_MF_SAVED_SUCCESSFULLY') });\n\t\t\t\t\t\t\tvar mfRecordElement = jQuery('[name=\"record\"]', form);\n\t\t\t\t\t\t\tif (mfRecordElement.val() === '') {\n\t\t\t\t\t\t\t\tmfRecordElement.val(data.result.id);\n\t\t\t\t\t\t\t\tformData['record'] = data.result.id;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tformData['record'] = data.result.id;\n\t\t\t\t\t\t\tAppConnector.request(formData)\n\t\t\t\t\t\t\t\t.done(function(data) {\n\t\t\t\t\t\t\t\t\tform.hide();\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.fail(function(error, err) {\n\t\t\t\t\t\t\t\t\tapp.errorLog(error, err);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetData: function(data) {\n\t\t\tvar mappingData = [];\n\t\t\tvar mappingConditions = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tvar name = i.split('][');\n\t\t\t\tif (name.length == 2) {\n\t\t\t\t\tif (name[1] != 'default]' && data[i] != 0) mappingData[i] = data[i];\n\t\t\t\t\telse if (name[1] == 'default]') mappingData[i] = jQuery.isArray(data[i]) ? data[i].join(',') : data[i].trim();\n\t\t\t\t} else if (name.length != 2 && jQuery.inArray(i, this.restictName) == -1) {\n\t\t\t\t\tmappingConditions[i] = data[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\tmappingData = jQuery.extend({}, mappingData);\n\t\t\tmappingConditions = jQuery.extend({}, mappingConditions);\n\t\t\treturn { mapping: mappingData, otherConditions: JSON.stringify(mappingConditions) };\n\t\t},\n\t\tregisterCancelStepClickEvent: function(form) {\n\t\t\tjQuery('button.cancelLink', form).on('click', function() {\n\t\t\t\twindow.history.back();\n\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar container = this.getContainer();\n\n\t\t\tvar opts = app.validationEngineOptions;\n\t\t\t// to prevent the page reload after the validation has completed\n\t\t\topts['onValidationComplete'] = function(form, valid) {\n\t\t\t\t//returns the valid status\n\t\t\t\treturn valid;\n\t\t\t};\n\t\t\topts['promptPosition'] = 'bottomRight';\n\t\t\tcontainer.validationEngine(opts);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(container.find('.select2'));\n\t\t\tthis.registerCancelStepClickEvent(container);\n\t\t\tthis.registerEventsForEditView();\n\t\t},\n\t\t/**\n\t\t * Function to register event for adding new convert to field mapping\n\t\t */\n\t\tregisterEventForAddingNewMapping: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tjQuery('#addMapping').on('click', function(e) {\n\t\t\t\tvar mappingToGenerateTable = jQuery('#mappingToGenerate');\n\t\t\t\tvar lastSequenceNumber = mappingToGenerateTable.find('tr:not(.d-none)[sequence-number]').last();\n\t\t\t\tvar newSequenceNumber = thisInstance.getSequenceNumber(lastSequenceNumber) + 1;\n\t\t\t\tvar newMapping = jQuery('.newMapping').clone(true, true);\n\t\t\t\tnewMapping.attr('sequence-number', newSequenceNumber);\n\t\t\t\tnewMapping.find('select.sourceFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][source]');\n\t\t\t\tnewMapping.find('select.targetFields.newSelect').attr('name', 'mapping[' + newSequenceNumber + '][target]');\n\t\t\t\tnewMapping.find('input.mappingType').attr('name', 'mapping[' + newSequenceNumber + '][type]');\n\t\t\t\tnewMapping.removeClass('d-none newMapping');\n\t\t\t\tnewMapping.appendTo(mappingToGenerateTable);\n\t\t\t\tnewMapping\n\t\t\t\t\t.find('.newSelect')\n\t\t\t\t\t.removeClass('newSelect')\n\t\t\t\t\t.addClass('select2');\n\t\t\t\tvar select2Elements = newMapping.find('.select2');\n\t\t\t\tApp.Fields.Picklist.showSelect2ElementView(select2Elements);\n\t\t\t\tjQuery('select.targetFields', newMapping).trigger('change', false);\n\t\t\t\tthisInstance.loadDefaultValueWidgetForMappedFields(newMapping.find('.select2'));\n\t\t\t});\n\t\t},\n\t\tgetSequenceNumber: function(element) {\n\t\t\tlet sequenceNumber;\n\t\t\tif (element.length) {\n\t\t\t\tsequenceNumber = element.attr('sequence-number');\n\t\t\t} else {\n\t\t\t\tsequenceNumber = 0;\n\t\t\t}\n\t\t\treturn parseInt(sequenceNumber);\n\t\t},\n\t\t/**\n\t\t * Function to register on change event for select2 element\n\t\t */\n\t\tregisterOnChangeEventForSourceModule: function() {\n\t\t\tvar form = this.getContainer();\n\t\t\tform.on('change', '.sourceFields', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar container = jQuery(element.closest('tr'));\n\t\t\t\tvar selectedValue = element.val();\n\t\t\t\tvar selectedOption = element.find('option[value=\"' + selectedValue + '\"]');\n\t\t\t\tvar selectedDataType = selectedOption.data('type');\n\t\t\t\tvar mappingType = selectedOption.data('mappingtype');\n\t\t\t\tvar fieldsSelectElement = container.find('select.targetFields.select2');\n\t\t\t\tvar fieldsBasedOnType = form\n\t\t\t\t\t.find('.newMapping')\n\t\t\t\t\t.find('.targetFields')\n\t\t\t\t\t.children()\n\t\t\t\t\t.clone(true, true);\n\t\t\t\tvar options = jQuery('<div></div>');\n\t\t\t\tcontainer.find('.mappingType').val(mappingType);\n\t\t\t\tfieldsBasedOnType.each(function(i, e) {\n\t\t\t\t\tvar element = jQuery(e);\n\t\t\t\t\tif (element.is('option') && (element.data('type') == selectedDataType || element.data('type') == 'none')) {\n\t\t\t\t\t\toptions.append(element);\n\t\t\t\t\t} else if (element.is('optgroup') && element.find('[data-type=\"' + selectedDataType + '\"]').length > 0) {\n\t\t\t\t\t\telement.children().each(function(q, k) {\n\t\t\t\t\t\t\tvar option = jQuery(k);\n\t\t\t\t\t\t\tif (option.data('type') !== selectedDataType) {\n\t\t\t\t\t\t\t\toption.remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\toptions.append(element);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tcontainer\n\t\t\t\t\t.find('.selectedFieldDataType')\n\t\t\t\t\t.html(selectedOption.data('type-name') ? selectedOption.data('type-name') : '');\n\t\t\t\tfieldsSelectElement.html(options.children());\n\n\t\t\t\tfieldsSelectElement.trigger('change', false);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register event to delete mapping\n\t\t */\n\t\tregisterEventToDeleteMapping: function() {\n\t\t\tvar form = this.getContainer();\n\t\t\tform.on('click', '.deleteMapping', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tvar trContainer = element.closest('tr');\n\t\t\t\ttrContainer.remove();\n\t\t\t});\n\t\t},\n\t\tloadDefaultValueWidget: function(element) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar id = element.val() + '_defaultvalue';\n\t\t\tvar affectedRow = jQuery('#defaultValuesElementsContainer').find('#' + id);\n\t\t\tvar dafeultTd = element.closest('td').next();\n\t\t\tvar defaultValueElement = dafeultTd.find('input.default');\n\t\t\tvar defaultValue = '';\n\t\t\tif (defaultValueElement.length) {\n\t\t\t\tdefaultValue = defaultValueElement.val();\n\t\t\t}\n\t\t\tdafeultTd.children().remove();\n\t\t\tvar exist = jQuery('#mappingToGenerate').find('#' + id);\n\t\t\tif (affectedRow.length === 0 || !element.val() || exist.length > 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar seqNumber = thisInstance.getSequenceNumber(element.closest('tr'));\n\t\t\tvar copyOfDefaultValue = affectedRow.clone(true, true);\n\t\t\tcopyOfDefaultValue.prop('disabled', false).attr('name', 'mapping[' + seqNumber + '][default]');\n\t\t\tif (copyOfDefaultValue.is(':checkbox') && defaultValue) {\n\t\t\t\tcopyOfDefaultValue.prop('checked', true);\n\t\t\t} else if (defaultValue) {\n\t\t\t\tdefaultValue =\n\t\t\t\t\ttypeof copyOfDefaultValue.attr('multiple') !== 'undefined' ? defaultValue.split(',') : defaultValue;\n\t\t\t\tcopyOfDefaultValue.val(defaultValue);\n\t\t\t}\n\t\t\tcopyOfDefaultValue.appendTo(dafeultTd);\n\t\t\tApp.Fields.Picklist.showSelect2ElementView(dafeultTd.find('select'));\n\t\t},\n\t\tloadDefaultValueWidgetForMappedFields: function(fieldsList) {\n\t\t\tvar thisInstance = this;\n\t\t\tfieldsList.each(function(i, element) {\n\t\t\t\tthisInstance.loadDefaultValueWidget(jQuery(this));\n\t\t\t});\n\t\t\tfieldsList.on('change', function(e) {\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tthisInstance.loadDefaultValueWidget(element);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to register events for edit view of fields mapping\n\t\t */\n\t\tregisterEventsForEditView: function() {\n\t\t\tthis.registerEventForAddingNewMapping();\n\t\t\tthis.registerOnChangeEventForSourceModule();\n\t\t\tthis.registerEventToDeleteMapping();\n\t\t\tthis.loadDefaultValueWidgetForMappedFields(jQuery('select.targetFields:not(.newSelect)'));\n\t\t},\n\t\t/*\n\t\t * Function to register on chnage event of target module\n\t\t */\n\t\tvalidationMappingFields: function() {\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tmappingTable = jQuery('#mappingToGenerate tr:not(.d-none)');\n\n\t\t\tmappingTable.each(function(i, e) {\n\t\t\t\tlet breakSave = false,\n\t\t\t\t\tsourceField = jQuery(this).find('.sourceFields :selected'),\n\t\t\t\t\ttargetField = jQuery(this).find('.targetFields :selected'),\n\t\t\t\t\tmoduleName;\n\t\t\t\tif (mappingTable.find('.sourceFields option[value=\"' + sourceField.val() + '\"]:selected').length > 1) {\n\t\t\t\t\tmoduleName = jQuery('.sourceModuleName').text();\n\t\t\t\t\tbreakSave = moduleName + ': ' + sourceField.text();\n\t\t\t\t}\n\t\t\t\tif (mappingTable.find('.targetFields option[value=\"' + targetField.val() + '\"]:selected').length > 1) {\n\t\t\t\t\tmoduleName = jQuery('.targetModuleName').text();\n\t\t\t\t\tbreakSave = moduleName + ': ' + targetField.text();\n\t\t\t\t}\n\t\t\t\tif (breakSave) {\n\t\t\t\t\tlet warningMessage = breakSave + ' <br />' + app.vtranslate('JS_IS_ALREADY_BEEN_MAPPED'),\n\t\t\t\t\t\tnotificationParams = {\n\t\t\t\t\t\t\ttext: warningMessage,\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t};\n\t\t\t\t\tSettings_Vtiger_Index_Js.showMessage(notificationParams);\n\t\t\t\t\taDeferred.resolve(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t\taDeferred.resolve(true);\n\t\t\treturn aDeferred.promise();\n\t\t}\n\t}\n);\n"],"names":["Settings_MappedFields_Edit_Js","step2Container","advanceFilterInstance","restictName","init","initialize","getContainer","setContainer","element","container","jQuery","is","submit","Deferred","form","formData","serializeFormData","saveData","getData","record","validationMappingFields","done","data","progressIndicator","position","blockInfo","enabled","app","saveAjax","success","Settings_Vtiger_Index_Js","showMessage","text","vtranslate","val","mfRecordElement","result","id","AppConnector","request","hide","progressIndicatorElement","mode","aDeferred","resolve","fail","error","err","errorLog","promise","mappingConditions","i","split","length","mappingData","isArray","join","trim","inArray","extend","mapping","otherConditions","JSON","stringify","registerCancelStepClickEvent","on","window","history","back","registerEvents","opts","validationEngineOptions","valid","validationEngine","App","Fields","Picklist","showSelect2ElementView","find","registerEventsForEditView","registerEventForAddingNewMapping","lastSequenceNumber","mappingToGenerateTable","last","newSequenceNumber","thisInstance","getSequenceNumber","newMapping","clone","attr","removeClass","appendTo","addClass","select2Elements","trigger","loadDefaultValueWidgetForMappedFields","parseInt","sequenceNumber","registerOnChangeEventForSourceModule","e","currentTarget","closest","selectedValue","selectedOption","selectedDataType","mappingType","fieldsSelectElement","fieldsBasedOnType","children","options","each","append","q","k","option","remove","html","registerEventToDeleteMapping","trContainer","loadDefaultValueWidget","affectedRow","dafeultTd","next","defaultValueElement","defaultValue","copyOfDefaultValue","prop","seqNumber","fieldsList","mappingTable","breakSave","sourceField","targetField","moduleName","warningMessage","type"],"mappings":"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"}