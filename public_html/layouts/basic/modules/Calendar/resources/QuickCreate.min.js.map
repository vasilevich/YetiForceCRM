{"version":3,"file":"QuickCreate.min.js","sources":["QuickCreate.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\n/**\n *  Class representing a modal calendar.\n * @extends Calendar_CalendarExtended_Js\n */\nwindow.Calendar_CalendarModal_Js = class extends Calendar_CalendarExtended_Js {\n\n\tconstructor(container, readonly) {\n\t\tsuper(container, readonly);\n\t\tthis.isSwitchAllDays = false;\n\t\tthis.sidebarName = 'add' //available: add, status, edit\n\t\tthis.eventCreate = true;\n\t\tthis.module = 'Calendar';\n\t\tthis.renderCalendar();\n\t\tthis.registerEvents();\n\t}\n\n\t/**\n\t * Function sets calendar moduls's options\n\t * Overwrites Calendar_Calendar_Js\n\t */\n\tsetCalendarModuleOptions() {\n\t\treturn {hiddenDays: app.getMainParams('hiddenDays', true)};\n\t}\n\n\t/**\n\t * Function registers calendar events\n\t * Overwrites Calendar_CalendarExtended_Js\n\t */\n\tregisterEvents() {\n\t\tthis.registerSwitchEvents();\n\t\tthis.registerUsersChange();\n\t\tthis.registerAutofillTime();\n\t\tthis.registerPopoverButtonsClickEvent();\n\t}\n\n\t/**\n\t * Function registers calendar switch event\n\t * Overwrites Calendar_CalendarExtended_Js\n\t */\n\tregisterSwitchEvents() {\n\t\tif (app.getMainParams('hiddenDays', true) !== false) {\n\t\t\tlet calendarview = this.getCalendarView(),\n\t\t\t\tswitchContainer = $(`<div class=\"js-calendar-switch-container\"></div>`).insertAfter(calendarview.find('.fc-center'));\n\t\t\t$(this.switchTpl(app.vtranslate('JS_WORK_DAYS'), app.vtranslate('JS_ALL'), this.isSwitchAllDays))\n\t\t\t\t.prependTo(switchContainer)\n\t\t\t\t.on('change', 'input', (e) => {\n\t\t\t\t\tconst currentTarget = $(e.currentTarget);\n\t\t\t\t\tlet hiddenDays = [];\n\t\t\t\t\tif (typeof currentTarget.data('on-text') !== 'undefined') {\n\t\t\t\t\t\thiddenDays = app.getMainParams('hiddenDays', true);\n\t\t\t\t\t\tthis.isSwitchAllDays = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.isSwitchAllDays = true;\n\t\t\t\t\t}\n\t\t\t\t\tthis.getCalendarView().fullCalendar('option', 'hiddenDays', hiddenDays);\n\t\t\t\t\tif (this.getCalendarView().fullCalendar('getView').type === 'year') {\n\t\t\t\t\t\tthis.registerViewRenderEvents(this.getCalendarView().fullCalendar('getView'));\n\t\t\t\t\t}\n\t\t\t\t\tthis.registerSwitchEvents();\n\t\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Function registers select's user change event\n\t * Overwrites Calendar_CalendarExtended_Js\n\t */\n\tregisterUsersChange() {\n\t\tthis.container.find('.assigned_user_id').on('change', () => {\n\t\t\tthis.getCalendarView().fullCalendar('getCalendar').view.options.loadView();\n\t\t});\n\t}\n\n\t/**\n\t * Function return user's id\n\t * Overwrites Calendar_CalendarExtended_Js\n\t * @returns {int}\n\t */\n\tgetSelectedUsersCalendar() {\n\t\treturn this.container.find('.assigned_user_id').val();\n\t}\n\n\t/**\n\t * Function invokes by fullcalendar, sets selected days in form\n\t * Overwrites Calendar_CalendarExtended_Js\n\t * @param startDate\n\t * @param endDate\n\t */\n\tselectDays(startDate, endDate) {\n\t\tif (this.sidebarName === 'status') {\n\t\t\tthis.sidebarName = 'add';\n\t\t\tthis.getCalendarCreateView().done(() => {\n\t\t\t\tthis.selectDays(startDate, endDate)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tlet startHour = app.getMainParams('startHour'),\n\t\t\tendHour = app.getMainParams('endHour'),\n\t\t\tview = this.getCalendarView().fullCalendar('getView');\n\t\tif (endDate.hasTime() == false) {\n\t\t\tendDate.add(-1, 'days');\n\t\t}\n\t\tstartDate = startDate.format();\n\t\tendDate = endDate.format();\n\t\tif (startHour == '') {\n\t\t\tstartHour = '00';\n\t\t}\n\t\tif (endHour == '') {\n\t\t\tendHour = '00';\n\t\t}\n\t\tif (view.name != 'agendaDay' && view.name != 'agendaWeek') {\n\t\t\tstartDate = startDate + 'T' + startHour + ':00';\n\t\t\tendDate = endDate + 'T' + endHour + ':00';\n\t\t\tif (startDate == endDate) {\n\t\t\t\tlet activityType = this.container.find('[name=\"activitytype\"]').val();\n\t\t\t\tlet activityDurations = JSON.parse(this.container.find('[name=\"defaultOtherEventDuration\"]').val());\n\t\t\t\tlet minutes = 0;\n\t\t\t\tfor (let i in activityDurations) {\n\t\t\t\t\tif (activityDurations[i].activitytype === activityType) {\n\t\t\t\t\t\tminutes = parseInt(activityDurations[i].duration);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tendDate = moment(endDate).add(minutes, 'minutes').toISOString();\n\t\t\t}\n\t\t}\n\t\tlet dateFormat = this.container.find('[name=\"date_start\"]').data('dateFormat').toUpperCase(),\n\t\t\ttimeFormat = this.container.find('[name=\"time_start\"]').data('format'),\n\t\t\tdefaultTimeFormat = '';\n\t\tif (timeFormat == 24) {\n\t\t\tdefaultTimeFormat = 'HH:mm';\n\t\t} else {\n\t\t\tdefaultTimeFormat = 'hh:mm A';\n\t\t}\n\t\tthis.container.find('[name=\"date_start\"]').val(moment(startDate).format(dateFormat));\n\t\tthis.container.find('[name=\"due_date\"]').val(moment(endDate).format(dateFormat));\n\t\tif (this.container.find('.js-autofill').prop('checked') === true) {\n\t\t\tlet calendarEditInstance = new Calendar_Edit_Js();\n\t\t\tcalendarEditInstance.getFreeTime(this.container);\n\t\t} else {\n\t\t\tthis.container.find('[name=\"time_start\"]').val(moment(startDate).format(defaultTimeFormat));\n\t\t\tthis.container.find('[name=\"time_end\"]').val(moment(endDate).format(defaultTimeFormat));\n\t\t}\n\t}\n\n\t/** @inheritdoc */\n\tregisterEditForm(sideBar) {\n\t\tlet editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(sideBar.find('[name=\"module\"]').val()),\n\t\t\theaderInstance = new Vtiger_Header_Js(),\n\t\t\tparams = [];\n\t\tlet rightFormCreate = sideBar.find('form[name=\"QuickCreate\"]');\n\t\teditViewInstance.registerBasicEvents(rightFormCreate);\n\t\trightFormCreate.validationEngine(app.validationEngineOptions);\n\t\theaderInstance.registerHelpInfo(rightFormCreate);\n\t\tApp.Fields.Picklist.showSelect2ElementView(sideBar.find('select'));\n\t\tsideBar.find('.js-summary-close-edit').on('click', () => {\n\t\t\tthis.getCalendarCreateView();\n\t\t});\n\t\theaderInstance.registerQuickCreatePostLoadEvents(rightFormCreate, params);\n\t\tnew App.Fields.Text.Editor(sideBar.find('.js-editor'), {height: '5em', toolbar: 'Min'});\n\t}\n\n\t/** @inheritdoc */\n\tupdateSidebar(sidebar, data) {\n\t\tconst modalTitleContainer = $('.js-modal-title__container'),\n\t\t\tmodalTitles = modalTitleContainer.find('[class*=\"js-modal-title\"]');\n\t\tdata = $(data);\n\n\t\tmodalTitles.addClass('d-none')\n\t\tif(data.hasClass('js-edit-form')) {\n\t\t\tlet title = data.find('.js-sidebar-title ').data('title')\n\t\t\tmodalTitles.filter(`.js-modal-title--${title}`).removeClass('d-none')\n\t\t\tthis.sidebarName = title\n\t\t} else if(data.hasClass('js-activity-state')) {\n\t\t\tmodalTitles.filter('.js-modal-title--status').removeClass('d-none')\n\t\t\tthis.sidebarName = 'status'\n\t\t}\n\t\tsidebar.find('.js-qc-form').html(data);\n\t}\n}\n\njQuery.Class(\"Calendar_QuickCreate_Js\", {}, {\n\tcontainer: false,\n\tgetContainer() {\n\t\treturn this.container;\n\t},\n\tsetContainer: function (container) {\n\t\tthis.container = container;\n\t},\n\tregisterExtendCalendar: function () {\n\t\tnew Calendar_CalendarModal_Js($('.js-modal-container'), true);\n\t\tlet container = this.getContainer();\n\t\tcontainer.find('.js-activity-buttons button').on('click', function (e) {\n\t\t\tlet form = container.find('form');\n\t\t\tlet currentTarget = $(e.currentTarget);\n\t\t\tif (1 === currentTarget.data('type')) {\n\t\t\t\tform.append('<input type=hidden name=\"activitystatus\" value=\"' + currentTarget.data('state') + '\">');\n\t\t\t\tform.submit();\n\t\t\t} else {\n\t\t\t\tcontainer.find('.js-activity-buttons').remove();\n\t\t\t\tform.find('[name=\"record\"]').val('');\n\t\t\t\tform.append('<input type=hidden name=\"postponed\" value=\"true\">');\n\t\t\t\tform.append('<input type=hidden name=\"followup\" value=\"' + currentTarget.data('id') + '\">');\n\t\t\t}\n\t\t});\n\t},\n\tregisterStandardCalendar: function () {\n\t\tconst thisInstance = this;\n\t\tlet container = this.getContainer();\n\t\tlet data = container.find('form')\n\t\tlet user = data.find('[name=\"assigned_user_id\"]');\n\t\tlet dateStartEl = data.find('[name=\"date_start\"]');\n\t\tlet dateEnd = data.find('[name=\"due_date\"]');\n\t\tuser.on('change', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar data = element.closest('form');\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdateStartEl.on('change', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar data = element.closest('form');\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.find('ul li a').on('click', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tvar data = element.closest('form');\n\t\t\tdata.find('.addedNearCalendarEvent').remove();\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.on('click', '.nextDayBtn', function () {\n\t\t\tvar dateStartEl = data.find('[name=\"date_start\"]')\n\t\t\tvar startDay = dateStartEl.val();\n\t\t\tvar dateStartFormat = dateStartEl.data('date-format');\n\t\t\tstartDay = moment(Vtiger_Helper_Js.convertToDateString(startDay, dateStartFormat, '+7', ' ')).format(dateStartFormat.toUpperCase());\n\t\t\tdateStartEl.val(startDay);\n\t\t\tdateEnd.val(startDay);\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.on('click', '.previousDayBtn', function () {\n\t\t\tvar dateStartEl = data.find('[name=\"date_start\"]')\n\t\t\tvar startDay = dateStartEl.val();\n\t\t\tvar dateStartFormat = dateStartEl.data('date-format');\n\t\t\tstartDay = moment(Vtiger_Helper_Js.convertToDateString(startDay, dateStartFormat, '-7', ' ')).format(dateStartFormat.toUpperCase());\n\t\t\tdateStartEl.val(startDay);\n\t\t\tdateEnd.val(startDay);\n\t\t\tthisInstance.getNearCalendarEvent(data);\n\t\t});\n\t\tdata.on('click', '.dateBtn', function (e) {\n\t\t\tvar element = $(e.currentTarget);\n\t\t\tdateStartEl.val(element.data('date'));\n\t\t\tdata.find('[name=\"due_date\"]').val(element.data('date'));\n\t\t\tdata.find('[name=\"date_start\"]').trigger('change');\n\t\t});\n\t\tthisInstance.getNearCalendarEvent(data);\n\t},\n\tgetNearCalendarEvent: function (container) {\n\t\tlet dateStartVal = container.find('[name=\"date_start\"]').val();\n\t\tif (typeof dateStartVal === \"undefined\" || dateStartVal === '') {\n\t\t\treturn;\n\t\t}\n\t\tlet params = {\n\t\t\tmodule: 'Calendar',\n\t\t\tview: 'QuickCreateEvents',\n\t\t\tcurrentDate: dateStartVal,\n\t\t\tuser: container.find('[name=\"assigned_user_id\"]').val(),\n\t\t}\n\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\tposition: 'html',\n\t\t\tblockInfo: {\n\t\t\t\tenabled: true,\n\t\t\t\telementToBlock: container.find('.eventsTable')\n\t\t\t}\n\t\t});\n\t\tAppConnector.request(params).done(function (events) {\n\t\t\tprogressIndicatorElement.progressIndicator({'mode': 'hide'});\n\t\t\tcontainer.find('.eventsTable').remove();\n\t\t\tcontainer.append(events);\n\t\t\tVtiger_Header_Js.getInstance().registerHelpInfo(container);\n\t\t});\n\t},\n\tregisterEvents: function (container) {\n\t\tlet calendarType = container.closest('.js-modal-container').find('.js-calendar-type').val();\n\t\tthis.setContainer(container);\n\t\tif (calendarType === 'Extended') {\n\t\t\tthis.registerExtendCalendar();\n\t\t} else {\n\t\t\tthis.registerStandardCalendar();\n\t\t}\n\t}\n});\n"],"names":["window","Calendar_CalendarModal_Js","container","readonly","isSwitchAllDays","sidebarName","eventCreate","module","renderCalendar","registerEvents","hiddenDays","app","getMainParams","registerSwitchEvents","registerUsersChange","registerAutofillTime","registerPopoverButtonsClickEvent","getCalendarView","switchContainer","$","insertAfter","calendarview","find","switchTpl","vtranslate","prependTo","on","e","currentTarget","data","fullCalendar","type","registerViewRenderEvents","view","options","loadView","val","startDate","endDate","getCalendarCreateView","done","selectDays","endHour","hasTime","add","format","startHour","name","activityDurations","JSON","parse","minutes","i","activitytype","activityType","parseInt","duration","moment","toISOString","toUpperCase","timeFormat","defaultTimeFormat","dateFormat","prop","calendarEditInstance","getFreeTime","sideBar","editViewInstance","Vtiger_Edit_Js","getInstanceByModuleName","headerInstance","rightFormCreate","registerBasicEvents","validationEngine","validationEngineOptions","registerHelpInfo","App","Fields","Picklist","showSelect2ElementView","registerQuickCreatePostLoadEvents","Text","Editor","height","toolbar","sidebar","modalTitles","modalTitleContainer","addClass","hasClass","filter","title","removeClass","html","Calendar_CalendarExtended_Js","jQuery","Class","getContainer","setContainer","registerExtendCalendar","form","append","submit","remove","registerStandardCalendar","user","dateStartEl","dateEnd","element","closest","thisInstance","getNearCalendarEvent","startDay","dateStartFormat","Vtiger_Helper_Js","convertToDateString","trigger","currentDate","dateStartVal","progressIndicatorElement","progressIndicator","position","blockInfo","enabled","elementToBlock","AppConnector","request","params","events","Vtiger_Header_Js","getInstance"],"mappings":"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"}