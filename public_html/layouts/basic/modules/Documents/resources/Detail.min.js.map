{"version":3,"file":"Detail.min.js","sources":["Detail.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n *************************************************************************************/\n'use strict';\n\nVtiger_Detail_Js(\"Documents_Detail_Js\", {\n\n\t//It stores the CheckFileIntegrity response data\n\tcheckFileIntegrityResponseCache: {},\n\n\t/*\n\t * function to trigger CheckFileIntegrity action\n\t * @param: CheckFileIntegrity url.\n\t */\n\tcheckFileIntegrity: function (checkFileIntegrityUrl) {\n\t\tDocuments_Detail_Js.getFileIntegrityResponse(checkFileIntegrityUrl).done(function (data) {\n\t\t\tDocuments_Detail_Js.displayCheckFileIntegrityResponse(data);\n\t\t});\n\t},\n\n\t/*\n\t * function to get the CheckFileIntegrity response data\n\t */\n\tgetFileIntegrityResponse: function (params) {\n\t\tvar aDeferred = jQuery.Deferred();\n\n\t\t//Check in the cache\n\t\tif (!(jQuery.isEmptyObject(Documents_Detail_Js.checkFileIntegrityResponseCache))) {\n\t\t\taDeferred.resolve(Documents_Detail_Js.checkFileIntegrityResponseCache);\n\t\t} else {\n\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t//store it in the cache, so that we dont do multiple request\n\t\t\t\tDocuments_Detail_Js.checkFileIntegrityResponseCache = data;\n\t\t\t\taDeferred.resolve(Documents_Detail_Js.checkFileIntegrityResponseCache);\n\t\t\t});\n\t\t}\n\t\treturn aDeferred.promise();\n\t},\n\n\t/*\n\t * function to display the CheckFileIntegrity message\n\t */\n\tdisplayCheckFileIntegrityResponse: function (data) {\n\t\tvar result = data['result'];\n\t\tvar success = result['success'];\n\t\tvar message = result['message'];\n\t\tvar params = {};\n\t\tif (success) {\n\t\t\tparams = {\n\t\t\t\ttext: message,\n\t\t\t\ttype: 'success'\n\t\t\t};\n\t\t} else {\n\t\t\tparams = {\n\t\t\t\ttext: message,\n\t\t\t\ttype: 'error'\n\t\t\t};\n\t\t}\n\t\tDocuments_Detail_Js.showNotify(params);\n\t\twindow.location.href = result['url'];\n\t},\n\n\t//This will show the messages of CheckFileIntegrity using pnotify\n\tshowNotify: function (customParams) {\n\t\tvar params = {\n\t\t\ttitle: app.vtranslate('JS_CHECK_FILE_INTEGRITY'),\n\t\t\ttext: customParams.text,\n\t\t\ttype: customParams.type,\n\t\t\tdelay: '2000'\n\t\t};\n\t\tVtiger_Helper_Js.showPnotify(params);\n\t},\n}, {});\n"],"names":["Vtiger_Detail_Js","checkFileIntegrityResponseCache","checkFileIntegrity","checkFileIntegrityUrl","Documents_Detail_Js","getFileIntegrityResponse","done","data","displayCheckFileIntegrityResponse","params","jQuery","Deferred","isEmptyObject","AppConnector","request","aDeferred","resolve","promise","success","result","message","text","type","showNotify","window","location","href","customParams","title","app","vtranslate","delay","Vtiger_Helper_Js","showPnotify"],"mappings":";;AAUAA,iBAAiB,qBAAjB,CAAwC;AAGvCC,gCAAiC,EAHM;;;IASvCC,mBAAoB,4BAAUC,qBAAV,CAAiC,CACpDC,oBAAoBC,wBAApB,CAA6CF,qBAA7C,EAAoEG,IAApE,CAAyE,SAAUC,IAAV,CAAgB,CACxFH,oBAAoBI,iCAApB,CAAsDD,IAAtD,EACA,CAFD,EAGA,CAbsC;;IAkBvCF,yBAA0B,kCAAUI,MAAV,CAAkB,CAC3C,cAAgBC,OAAOC,QAAP,EAAhB,CAEA;AAUA,cATaC,aAAP,CAAqBR,oBAAoBH,+BAAzC,CASN,CANCY,aAAaC,OAAb,CAAqBL,MAArB,EAA6BH,IAA7B,CAAkC,SAAUC,IAAV,CAAgB,CAEjDH,oBAAoBH,+BAApB,CAAsDM,IAFL,CAGjDQ,UAAUC,OAAV,CAAkBZ,oBAAoBH,+BAAtC,EACA,CAJD,CAMD,CARCc,UAAUC,OAAV,CAAkBZ,oBAAoBH,+BAAtC,CAQD,CAAOc,UAAUE,OAAV,EACP,CAhCsC;;IAqCvCT,kCAAmC,2CAAUD,IAAV,CAAgB,YACrCA,WADqC,CAE9CW,QAAUC,cAFoC,CAG9CC,QAAUD,cAHoC,CAI9CV,OAAS,EAJqC,CAMjDA,MANiD,CAK9CS,OAL8C,CAMxC,CACRG,KAAMD,OADE,CAERE,KAAM,SAFE,CANwC,CAWxC,CACRD,KAAMD,OADE,CAERE,KAAM,OAFE,CAXwC,CAgBlDlB,oBAAoBmB,UAApB,CAA+Bd,MAA/B,CAhBkD,CAiBlDe,OAAOC,QAAP,CAAgBC,IAAhB,CAAuBP,WACvB,CAvDsC;AA0DvCI,WAAY,oBAAUI,YAAV,CAAwB,CACnC,WAAa,CACZC,MAAOC,IAAIC,UAAJ,CAAe,yBAAf,CADK,CAEZT,KAAMM,aAAaN,IAFP,CAGZC,KAAMK,aAAaL,IAHP,CAIZS,MAAO,MAJK,CAAb,CAMAC,iBAAiBC,WAAjB,CAA6BxB,MAA7B,EACA,CAlEsC,CAAxC,CAmEG,EAnEH"}